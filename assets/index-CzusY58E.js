(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ic(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cc={exports:{}},Ri={},Nc={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yo=Symbol.for("react.element"),Xm=Symbol.for("react.portal"),Jm=Symbol.for("react.fragment"),qm=Symbol.for("react.strict_mode"),Zm=Symbol.for("react.profiler"),ep=Symbol.for("react.provider"),tp=Symbol.for("react.context"),np=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),op=Symbol.for("react.memo"),ip=Symbol.for("react.lazy"),qa=Symbol.iterator;function lp(e){return e===null||typeof e!="object"?null:(e=qa&&e[qa]||e["@@iterator"],typeof e=="function"?e:null)}var Tc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ac=Object.assign,Dc={};function yr(e,t,n){this.props=e,this.context=t,this.refs=Dc,this.updater=n||Tc}yr.prototype.isReactComponent={};yr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jc(){}jc.prototype=yr.prototype;function Hs(e,t,n){this.props=e,this.context=t,this.refs=Dc,this.updater=n||Tc}var zs=Hs.prototype=new jc;zs.constructor=Hs;Ac(zs,yr.prototype);zs.isPureReactComponent=!0;var Za=Array.isArray,Rc=Object.prototype.hasOwnProperty,Vs={current:null},$c={key:!0,ref:!0,__self:!0,__source:!0};function Lc(e,t,n){var r,o={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)Rc.call(t,r)&&!$c.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:yo,type:e,key:l,ref:i,props:o,_owner:Vs.current}}function sp(e,t){return{$$typeof:yo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Us(e){return typeof e=="object"&&e!==null&&e.$$typeof===yo}function ap(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var eu=/\/+/g;function dl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ap(""+e.key):t.toString(36)}function Yo(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case yo:case Xm:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+dl(i,0):r,Za(o)?(n="",e!=null&&(n=e.replace(eu,"$&/")+"/"),Yo(o,t,n,"",function(u){return u})):o!=null&&(Us(o)&&(o=sp(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(eu,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Za(e))for(var s=0;s<e.length;s++){l=e[s];var a=r+dl(l,s);i+=Yo(l,t,n,a,o)}else if(a=lp(e),typeof a=="function")for(e=a.call(e),s=0;!(l=e.next()).done;)l=l.value,a=r+dl(l,s++),i+=Yo(l,t,n,a,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ao(e,t,n){if(e==null)return e;var r=[],o=0;return Yo(e,r,"","",function(l){return t.call(n,l,o++)}),r}function up(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},Xo={transition:null},cp={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Xo,ReactCurrentOwner:Vs};function bc(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Ao,forEach:function(e,t,n){Ao(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ao(e,function(){t++}),t},toArray:function(e){return Ao(e,function(t){return t})||[]},only:function(e){if(!Us(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=yr;G.Fragment=Jm;G.Profiler=Zm;G.PureComponent=Hs;G.StrictMode=qm;G.Suspense=rp;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cp;G.act=bc;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ac({},e.props),o=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=Vs.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)Rc.call(t,a)&&!$c.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:yo,type:e.type,key:o,ref:l,props:r,_owner:i}};G.createContext=function(e){return e={$$typeof:tp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ep,_context:e},e.Consumer=e};G.createElement=Lc;G.createFactory=function(e){var t=Lc.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:np,render:e}};G.isValidElement=Us;G.lazy=function(e){return{$$typeof:ip,_payload:{_status:-1,_result:e},_init:up}};G.memo=function(e,t){return{$$typeof:op,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Xo.transition;Xo.transition={};try{e()}finally{Xo.transition=t}};G.unstable_act=bc;G.useCallback=function(e,t){return Ge.current.useCallback(e,t)};G.useContext=function(e){return Ge.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};G.useEffect=function(e,t){return Ge.current.useEffect(e,t)};G.useId=function(){return Ge.current.useId()};G.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Ge.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};G.useRef=function(e){return Ge.current.useRef(e)};G.useState=function(e){return Ge.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Ge.current.useTransition()};G.version="18.3.1";Nc.exports=G;var w=Nc.exports;const dp=Ic(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp=w,mp=Symbol.for("react.element"),pp=Symbol.for("react.fragment"),hp=Object.prototype.hasOwnProperty,gp=fp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vp={key:!0,ref:!0,__self:!0,__source:!0};function Oc(e,t,n){var r,o={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)hp.call(t,r)&&!vp.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:mp,type:e,key:l,ref:i,props:o,_owner:gp.current}}Ri.Fragment=pp;Ri.jsx=Oc;Ri.jsxs=Oc;Cc.exports=Ri;var g=Cc.exports,Ul={},Fc={exports:{}},st={},Bc={exports:{}},Hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,T){var D=E.length;E.push(T);e:for(;0<D;){var $=D-1>>>1,O=E[$];if(0<o(O,T))E[$]=T,E[D]=O,D=$;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var T=E[0],D=E.pop();if(D!==T){E[0]=D;e:for(var $=0,O=E.length,F=O>>>1;$<F;){var ae=2*($+1)-1,W=E[ae],ee=ae+1,ie=E[ee];if(0>o(W,D))ee<O&&0>o(ie,W)?(E[$]=ie,E[ee]=D,$=ee):(E[$]=W,E[ae]=D,$=ae);else if(ee<O&&0>o(ie,D))E[$]=ie,E[ee]=D,$=ee;else break e}}return T}function o(E,T){var D=E.sortIndex-T.sortIndex;return D!==0?D:E.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var a=[],u=[],d=1,p=null,m=3,v=!1,y=!1,P=!1,j=typeof setTimeout=="function"?setTimeout:null,c=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(E){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=E)r(u),T.sortIndex=T.expirationTime,t(a,T);else break;T=n(u)}}function S(E){if(P=!1,h(E),!y)if(n(a)!==null)y=!0,H(_);else{var T=n(u);T!==null&&K(S,T.startTime-E)}}function _(E,T){y=!1,P&&(P=!1,c(x),x=-1),v=!0;var D=m;try{for(h(T),p=n(a);p!==null&&(!(p.expirationTime>T)||E&&!B());){var $=p.callback;if(typeof $=="function"){p.callback=null,m=p.priorityLevel;var O=$(p.expirationTime<=T);T=e.unstable_now(),typeof O=="function"?p.callback=O:p===n(a)&&r(a),h(T)}else r(a);p=n(a)}if(p!==null)var F=!0;else{var ae=n(u);ae!==null&&K(S,ae.startTime-T),F=!1}return F}finally{p=null,m=D,v=!1}}var A=!1,M=null,x=-1,L=5,N=-1;function B(){return!(e.unstable_now()-N<L)}function Y(){if(M!==null){var E=e.unstable_now();N=E;var T=!0;try{T=M(!0,E)}finally{T?z():(A=!1,M=null)}}else A=!1}var z;if(typeof f=="function")z=function(){f(Y)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Z=re.port2;re.port1.onmessage=Y,z=function(){Z.postMessage(null)}}else z=function(){j(Y,0)};function H(E){M=E,A||(A=!0,z())}function K(E,T){x=j(function(){E(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,H(_))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(E){switch(m){case 1:case 2:case 3:var T=3;break;default:T=m}var D=m;m=T;try{return E()}finally{m=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,T){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var D=m;m=E;try{return T()}finally{m=D}},e.unstable_scheduleCallback=function(E,T,D){var $=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?$+D:$):D=$,E){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=D+O,E={id:d++,callback:T,priorityLevel:E,startTime:D,expirationTime:O,sortIndex:-1},D>$?(E.sortIndex=D,t(u,E),n(a)===null&&E===n(u)&&(P?(c(x),x=-1):P=!0,K(S,D-$))):(E.sortIndex=O,t(a,E),y||v||(y=!0,H(_))),E},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(E){var T=m;return function(){var D=m;m=T;try{return E.apply(this,arguments)}finally{m=D}}}})(Hc);Bc.exports=Hc;var yp=Bc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp=w,lt=yp;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zc=new Set,Zr={};function bn(e,t){ur(e,t),ur(e+"Capture",t)}function ur(e,t){for(Zr[e]=t,e=0;e<t.length;e++)zc.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gl=Object.prototype.hasOwnProperty,Mp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tu={},nu={};function Pp(e){return Gl.call(nu,e)?!0:Gl.call(tu,e)?!1:Mp.test(e)?nu[e]=!0:(tu[e]=!0,!1)}function Ep(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xp(e,t,n,r){if(t===null||typeof t>"u"||Ep(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,r,o,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gs=/[\-:]([a-z])/g;function Ws(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gs,Ws);Le[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gs,Ws);Le[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gs,Ws);Le[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ks(e,t,n,r){var o=Le.hasOwnProperty(t)?Le[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xp(t,n,o,r)&&(n=null),r||o===null?Pp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kt=Sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Do=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),Wn=Symbol.for("react.fragment"),Qs=Symbol.for("react.strict_mode"),Wl=Symbol.for("react.profiler"),Vc=Symbol.for("react.provider"),Uc=Symbol.for("react.context"),Ys=Symbol.for("react.forward_ref"),Kl=Symbol.for("react.suspense"),Ql=Symbol.for("react.suspense_list"),Xs=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),Gc=Symbol.for("react.offscreen"),ru=Symbol.iterator;function Dr(e){return e===null||typeof e!="object"?null:(e=ru&&e[ru]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,fl;function Br(e){if(fl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fl=t&&t[1]||""}return`
`+fl+e}var ml=!1;function pl(e,t){if(!e||ml)return"";ml=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),l=r.stack.split(`
`),i=o.length-1,s=l.length-1;1<=i&&0<=s&&o[i]!==l[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==l[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==l[s]){var a=`
`+o[i].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=i&&0<=s);break}}}finally{ml=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Br(e):""}function _p(e){switch(e.tag){case 5:return Br(e.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 2:case 15:return e=pl(e.type,!1),e;case 11:return e=pl(e.type.render,!1),e;case 1:return e=pl(e.type,!0),e;default:return""}}function Yl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wn:return"Fragment";case Gn:return"Portal";case Wl:return"Profiler";case Qs:return"StrictMode";case Kl:return"Suspense";case Ql:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uc:return(e.displayName||"Context")+".Consumer";case Vc:return(e._context.displayName||"Context")+".Provider";case Ys:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xs:return t=e.displayName||null,t!==null?t:Yl(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return Yl(e(t))}catch{}}return null}function wp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yl(t);case 8:return t===Qs?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kp(e){var t=Wc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jo(e){e._valueTracker||(e._valueTracker=kp(e))}function Kc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Wc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xl(e,t){var n=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ou(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qc(e,t){t=t.checked,t!=null&&Ks(e,"checked",t,!1)}function Jl(e,t){Qc(e,t);var n=pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ql(e,t.type,n):t.hasOwnProperty("defaultValue")&&ql(e,t.type,pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ql(e,t,n){(t!=="number"||ci(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hr=Array.isArray;function rr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Zl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Hr(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pn(n)}}function Yc(e,t){var n=pn(t.value),r=pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function su(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function es(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ro,Jc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ro=Ro||document.createElement("div"),Ro.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ro.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function eo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ip=["Webkit","ms","Moz","O"];Object.keys(Ur).forEach(function(e){Ip.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ur[t]=Ur[e]})});function qc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ur.hasOwnProperty(e)&&Ur[e]?(""+t).trim():t+"px"}function Zc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=qc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Cp=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ts(e,t){if(t){if(Cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function ns(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rs=null;function Js(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var os=null,or=null,ir=null;function au(e){if(e=Po(e)){if(typeof os!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Fi(t),os(e.stateNode,e.type,t))}}function ed(e){or?ir?ir.push(e):ir=[e]:or=e}function td(){if(or){var e=or,t=ir;if(ir=or=null,au(e),t)for(e=0;e<t.length;e++)au(t[e])}}function nd(e,t){return e(t)}function rd(){}var hl=!1;function od(e,t,n){if(hl)return e(t,n);hl=!0;try{return nd(e,t,n)}finally{hl=!1,(or!==null||ir!==null)&&(rd(),td())}}function to(e,t){var n=e.stateNode;if(n===null)return null;var r=Fi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var is=!1;if(zt)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){is=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{is=!1}function Np(e,t,n,r,o,l,i,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Gr=!1,di=null,fi=!1,ls=null,Tp={onError:function(e){Gr=!0,di=e}};function Ap(e,t,n,r,o,l,i,s,a){Gr=!1,di=null,Np.apply(Tp,arguments)}function Dp(e,t,n,r,o,l,i,s,a){if(Ap.apply(this,arguments),Gr){if(Gr){var u=di;Gr=!1,di=null}else throw Error(I(198));fi||(fi=!0,ls=u)}}function On(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function id(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uu(e){if(On(e)!==e)throw Error(I(188))}function jp(e){var t=e.alternate;if(!t){if(t=On(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return uu(o),e;if(l===r)return uu(o),t;l=l.sibling}throw Error(I(188))}if(n.return!==r.return)n=o,r=l;else{for(var i=!1,s=o.child;s;){if(s===n){i=!0,n=o,r=l;break}if(s===r){i=!0,r=o,n=l;break}s=s.sibling}if(!i){for(s=l.child;s;){if(s===n){i=!0,n=l,r=o;break}if(s===r){i=!0,r=l,n=o;break}s=s.sibling}if(!i)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function ld(e){return e=jp(e),e!==null?sd(e):null}function sd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sd(e);if(t!==null)return t;e=e.sibling}return null}var ad=lt.unstable_scheduleCallback,cu=lt.unstable_cancelCallback,Rp=lt.unstable_shouldYield,$p=lt.unstable_requestPaint,_e=lt.unstable_now,Lp=lt.unstable_getCurrentPriorityLevel,qs=lt.unstable_ImmediatePriority,ud=lt.unstable_UserBlockingPriority,mi=lt.unstable_NormalPriority,bp=lt.unstable_LowPriority,cd=lt.unstable_IdlePriority,$i=null,Dt=null;function Op(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Hp,Fp=Math.log,Bp=Math.LN2;function Hp(e){return e>>>=0,e===0?32:31-(Fp(e)/Bp|0)|0}var $o=64,Lo=4194304;function zr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var s=i&~o;s!==0?r=zr(s):(l&=i,l!==0&&(r=zr(l)))}else i=n&~o,i!==0?r=zr(i):l!==0&&(r=zr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_t(t),o=1<<n,r|=e[n],t&=~o;return r}function zp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-_t(l),s=1<<i,a=o[i];a===-1?(!(s&n)||s&r)&&(o[i]=zp(s,t)):a<=t&&(e.expiredLanes|=s),l&=~s}}function ss(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dd(){var e=$o;return $o<<=1,!($o&4194240)&&($o=64),e}function gl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function So(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function Up(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-_t(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function Zs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var oe=0;function fd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var md,ea,pd,hd,gd,as=!1,bo=[],ln=null,sn=null,an=null,no=new Map,ro=new Map,tn=[],Gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function du(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":no.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(t.pointerId)}}function Rr(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Po(t),t!==null&&ea(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Wp(e,t,n,r,o){switch(t){case"focusin":return ln=Rr(ln,e,t,n,r,o),!0;case"dragenter":return sn=Rr(sn,e,t,n,r,o),!0;case"mouseover":return an=Rr(an,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return no.set(l,Rr(no.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,ro.set(l,Rr(ro.get(l)||null,e,t,n,r,o)),!0}return!1}function vd(e){var t=wn(e.target);if(t!==null){var n=On(t);if(n!==null){if(t=n.tag,t===13){if(t=id(n),t!==null){e.blockedOn=t,gd(e.priority,function(){pd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=us(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rs=r,n.target.dispatchEvent(r),rs=null}else return t=Po(n),t!==null&&ea(t),e.blockedOn=n,!1;t.shift()}return!0}function fu(e,t,n){Jo(e)&&n.delete(t)}function Kp(){as=!1,ln!==null&&Jo(ln)&&(ln=null),sn!==null&&Jo(sn)&&(sn=null),an!==null&&Jo(an)&&(an=null),no.forEach(fu),ro.forEach(fu)}function $r(e,t){e.blockedOn===t&&(e.blockedOn=null,as||(as=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,Kp)))}function oo(e){function t(o){return $r(o,e)}if(0<bo.length){$r(bo[0],e);for(var n=1;n<bo.length;n++){var r=bo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ln!==null&&$r(ln,e),sn!==null&&$r(sn,e),an!==null&&$r(an,e),no.forEach(t),ro.forEach(t),n=0;n<tn.length;n++)r=tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)vd(n),n.blockedOn===null&&tn.shift()}var lr=Kt.ReactCurrentBatchConfig,hi=!0;function Qp(e,t,n,r){var o=oe,l=lr.transition;lr.transition=null;try{oe=1,ta(e,t,n,r)}finally{oe=o,lr.transition=l}}function Yp(e,t,n,r){var o=oe,l=lr.transition;lr.transition=null;try{oe=4,ta(e,t,n,r)}finally{oe=o,lr.transition=l}}function ta(e,t,n,r){if(hi){var o=us(e,t,n,r);if(o===null)kl(e,t,r,gi,n),du(e,r);else if(Wp(o,e,t,n,r))r.stopPropagation();else if(du(e,r),t&4&&-1<Gp.indexOf(e)){for(;o!==null;){var l=Po(o);if(l!==null&&md(l),l=us(e,t,n,r),l===null&&kl(e,t,r,gi,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else kl(e,t,r,null,n)}}var gi=null;function us(e,t,n,r){if(gi=null,e=Js(r),e=wn(e),e!==null)if(t=On(e),t===null)e=null;else if(n=t.tag,n===13){if(e=id(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gi=e,null}function yd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lp()){case qs:return 1;case ud:return 4;case mi:case bp:return 16;case cd:return 536870912;default:return 16}default:return 16}}var rn=null,na=null,qo=null;function Sd(){if(qo)return qo;var e,t=na,n=t.length,r,o="value"in rn?rn.value:rn.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[l-r];r++);return qo=o.slice(e,1<r?1-r:void 0)}function Zo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oo(){return!0}function mu(){return!1}function at(e){function t(n,r,o,l,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(l):l[s]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Oo:mu,this.isPropagationStopped=mu,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),t}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=at(Sr),Mo=Me({},Sr,{view:0,detail:0}),Xp=at(Mo),vl,yl,Lr,Li=Me({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lr&&(Lr&&e.type==="mousemove"?(vl=e.screenX-Lr.screenX,yl=e.screenY-Lr.screenY):yl=vl=0,Lr=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),pu=at(Li),Jp=Me({},Li,{dataTransfer:0}),qp=at(Jp),Zp=Me({},Mo,{relatedTarget:0}),Sl=at(Zp),eh=Me({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),th=at(eh),nh=Me({},Sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rh=at(nh),oh=Me({},Sr,{data:0}),hu=at(oh),ih={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ah(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sh[e])?!!t[e]:!1}function oa(){return ah}var uh=Me({},Mo,{key:function(e){if(e.key){var t=ih[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(e){return e.type==="keypress"?Zo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ch=at(uh),dh=Me({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=at(dh),fh=Me({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),mh=at(fh),ph=Me({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hh=at(ph),gh=Me({},Li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vh=at(gh),yh=[9,13,27,32],ia=zt&&"CompositionEvent"in window,Wr=null;zt&&"documentMode"in document&&(Wr=document.documentMode);var Sh=zt&&"TextEvent"in window&&!Wr,Md=zt&&(!ia||Wr&&8<Wr&&11>=Wr),vu=" ",yu=!1;function Pd(e,t){switch(e){case"keyup":return yh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function Mh(e,t){switch(e){case"compositionend":return Ed(t);case"keypress":return t.which!==32?null:(yu=!0,vu);case"textInput":return e=t.data,e===vu&&yu?null:e;default:return null}}function Ph(e,t){if(Kn)return e==="compositionend"||!ia&&Pd(e,t)?(e=Sd(),qo=na=rn=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Md&&t.locale!=="ko"?null:t.data;default:return null}}var Eh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Eh[e.type]:t==="textarea"}function xd(e,t,n,r){ed(r),t=vi(t,"onChange"),0<t.length&&(n=new ra("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kr=null,io=null;function xh(e){Rd(e,0)}function bi(e){var t=Xn(e);if(Kc(t))return e}function _h(e,t){if(e==="change")return t}var _d=!1;if(zt){var Ml;if(zt){var Pl="oninput"in document;if(!Pl){var Mu=document.createElement("div");Mu.setAttribute("oninput","return;"),Pl=typeof Mu.oninput=="function"}Ml=Pl}else Ml=!1;_d=Ml&&(!document.documentMode||9<document.documentMode)}function Pu(){Kr&&(Kr.detachEvent("onpropertychange",wd),io=Kr=null)}function wd(e){if(e.propertyName==="value"&&bi(io)){var t=[];xd(t,io,e,Js(e)),od(xh,t)}}function wh(e,t,n){e==="focusin"?(Pu(),Kr=t,io=n,Kr.attachEvent("onpropertychange",wd)):e==="focusout"&&Pu()}function kh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bi(io)}function Ih(e,t){if(e==="click")return bi(t)}function Ch(e,t){if(e==="input"||e==="change")return bi(t)}function Nh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Nh;function lo(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Gl.call(t,o)||!kt(e[o],t[o]))return!1}return!0}function Eu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xu(e,t){var n=Eu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Eu(n)}}function kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Id(){for(var e=window,t=ci();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ci(e.document)}return t}function la(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Th(e){var t=Id(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kd(n.ownerDocument.documentElement,n)){if(r!==null&&la(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=xu(n,l);var i=xu(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ah=zt&&"documentMode"in document&&11>=document.documentMode,Qn=null,cs=null,Qr=null,ds=!1;function _u(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ds||Qn==null||Qn!==ci(r)||(r=Qn,"selectionStart"in r&&la(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qr&&lo(Qr,r)||(Qr=r,r=vi(cs,"onSelect"),0<r.length&&(t=new ra("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qn)))}function Fo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yn={animationend:Fo("Animation","AnimationEnd"),animationiteration:Fo("Animation","AnimationIteration"),animationstart:Fo("Animation","AnimationStart"),transitionend:Fo("Transition","TransitionEnd")},El={},Cd={};zt&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function Oi(e){if(El[e])return El[e];if(!Yn[e])return e;var t=Yn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cd)return El[e]=t[n];return e}var Nd=Oi("animationend"),Td=Oi("animationiteration"),Ad=Oi("animationstart"),Dd=Oi("transitionend"),jd=new Map,wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,t){jd.set(e,t),bn(t,[e])}for(var xl=0;xl<wu.length;xl++){var _l=wu[xl],Dh=_l.toLowerCase(),jh=_l[0].toUpperCase()+_l.slice(1);yn(Dh,"on"+jh)}yn(Nd,"onAnimationEnd");yn(Td,"onAnimationIteration");yn(Ad,"onAnimationStart");yn("dblclick","onDoubleClick");yn("focusin","onFocus");yn("focusout","onBlur");yn(Dd,"onTransitionEnd");ur("onMouseEnter",["mouseout","mouseover"]);ur("onMouseLeave",["mouseout","mouseover"]);ur("onPointerEnter",["pointerout","pointerover"]);ur("onPointerLeave",["pointerout","pointerover"]);bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vr));function ku(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Dp(r,t,void 0,e),e.currentTarget=null}function Rd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==l&&o.isPropagationStopped())break e;ku(o,s,u),l=a}else for(i=0;i<r.length;i++){if(s=r[i],a=s.instance,u=s.currentTarget,s=s.listener,a!==l&&o.isPropagationStopped())break e;ku(o,s,u),l=a}}}if(fi)throw e=ls,fi=!1,ls=null,e}function fe(e,t){var n=t[gs];n===void 0&&(n=t[gs]=new Set);var r=e+"__bubble";n.has(r)||($d(t,e,2,!1),n.add(r))}function wl(e,t,n){var r=0;t&&(r|=4),$d(n,e,r,t)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function so(e){if(!e[Bo]){e[Bo]=!0,zc.forEach(function(n){n!=="selectionchange"&&(Rh.has(n)||wl(n,!1,e),wl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bo]||(t[Bo]=!0,wl("selectionchange",!1,t))}}function $d(e,t,n,r){switch(yd(t)){case 1:var o=Qp;break;case 4:o=Yp;break;default:o=ta}n=o.bind(null,t,n,e),o=void 0,!is||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function kl(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var a=i.tag;if((a===3||a===4)&&(a=i.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;i=i.return}for(;s!==null;){if(i=wn(s),i===null)return;if(a=i.tag,a===5||a===6){r=l=i;continue e}s=s.parentNode}}r=r.return}od(function(){var u=l,d=Js(n),p=[];e:{var m=jd.get(e);if(m!==void 0){var v=ra,y=e;switch(e){case"keypress":if(Zo(n)===0)break e;case"keydown":case"keyup":v=ch;break;case"focusin":y="focus",v=Sl;break;case"focusout":y="blur",v=Sl;break;case"beforeblur":case"afterblur":v=Sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=mh;break;case Nd:case Td:case Ad:v=th;break;case Dd:v=hh;break;case"scroll":v=Xp;break;case"wheel":v=vh;break;case"copy":case"cut":case"paste":v=rh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=gu}var P=(t&4)!==0,j=!P&&e==="scroll",c=P?m!==null?m+"Capture":null:m;P=[];for(var f=u,h;f!==null;){h=f;var S=h.stateNode;if(h.tag===5&&S!==null&&(h=S,c!==null&&(S=to(f,c),S!=null&&P.push(ao(f,S,h)))),j)break;f=f.return}0<P.length&&(m=new v(m,y,null,n,d),p.push({event:m,listeners:P}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==rs&&(y=n.relatedTarget||n.fromElement)&&(wn(y)||y[Vt]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?wn(y):null,y!==null&&(j=On(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(P=pu,S="onMouseLeave",c="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(P=gu,S="onPointerLeave",c="onPointerEnter",f="pointer"),j=v==null?m:Xn(v),h=y==null?m:Xn(y),m=new P(S,f+"leave",v,n,d),m.target=j,m.relatedTarget=h,S=null,wn(d)===u&&(P=new P(c,f+"enter",y,n,d),P.target=h,P.relatedTarget=j,S=P),j=S,v&&y)t:{for(P=v,c=y,f=0,h=P;h;h=Un(h))f++;for(h=0,S=c;S;S=Un(S))h++;for(;0<f-h;)P=Un(P),f--;for(;0<h-f;)c=Un(c),h--;for(;f--;){if(P===c||c!==null&&P===c.alternate)break t;P=Un(P),c=Un(c)}P=null}else P=null;v!==null&&Iu(p,m,v,P,!1),y!==null&&j!==null&&Iu(p,j,y,P,!0)}}e:{if(m=u?Xn(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var _=_h;else if(Su(m))if(_d)_=Ch;else{_=kh;var A=wh}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=Ih);if(_&&(_=_(e,u))){xd(p,_,n,d);break e}A&&A(e,m,u),e==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&ql(m,"number",m.value)}switch(A=u?Xn(u):window,e){case"focusin":(Su(A)||A.contentEditable==="true")&&(Qn=A,cs=u,Qr=null);break;case"focusout":Qr=cs=Qn=null;break;case"mousedown":ds=!0;break;case"contextmenu":case"mouseup":case"dragend":ds=!1,_u(p,n,d);break;case"selectionchange":if(Ah)break;case"keydown":case"keyup":_u(p,n,d)}var M;if(ia)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Kn?Pd(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Md&&n.locale!=="ko"&&(Kn||x!=="onCompositionStart"?x==="onCompositionEnd"&&Kn&&(M=Sd()):(rn=d,na="value"in rn?rn.value:rn.textContent,Kn=!0)),A=vi(u,x),0<A.length&&(x=new hu(x,e,null,n,d),p.push({event:x,listeners:A}),M?x.data=M:(M=Ed(n),M!==null&&(x.data=M)))),(M=Sh?Mh(e,n):Ph(e,n))&&(u=vi(u,"onBeforeInput"),0<u.length&&(d=new hu("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=M))}Rd(p,t)})}function ao(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=to(e,n),l!=null&&r.unshift(ao(e,l,o)),l=to(e,t),l!=null&&r.push(ao(e,l,o))),e=e.return}return r}function Un(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Iu(e,t,n,r,o){for(var l=t._reactName,i=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,o?(a=to(n,l),a!=null&&i.unshift(ao(n,a,s))):o||(a=to(n,l),a!=null&&i.push(ao(n,a,s)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var $h=/\r\n?/g,Lh=/\u0000|\uFFFD/g;function Cu(e){return(typeof e=="string"?e:""+e).replace($h,`
`).replace(Lh,"")}function Ho(e,t,n){if(t=Cu(t),Cu(e)!==t&&n)throw Error(I(425))}function yi(){}var fs=null,ms=null;function ps(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hs=typeof setTimeout=="function"?setTimeout:void 0,bh=typeof clearTimeout=="function"?clearTimeout:void 0,Nu=typeof Promise=="function"?Promise:void 0,Oh=typeof queueMicrotask=="function"?queueMicrotask:typeof Nu<"u"?function(e){return Nu.resolve(null).then(e).catch(Fh)}:hs;function Fh(e){setTimeout(function(){throw e})}function Il(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),oo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);oo(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),At="__reactFiber$"+Mr,uo="__reactProps$"+Mr,Vt="__reactContainer$"+Mr,gs="__reactEvents$"+Mr,Bh="__reactListeners$"+Mr,Hh="__reactHandles$"+Mr;function wn(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tu(e);e!==null;){if(n=e[At])return n;e=Tu(e)}return t}e=n,n=e.parentNode}return null}function Po(e){return e=e[At]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Fi(e){return e[uo]||null}var vs=[],Jn=-1;function Sn(e){return{current:e}}function me(e){0>Jn||(e.current=vs[Jn],vs[Jn]=null,Jn--)}function ce(e,t){Jn++,vs[Jn]=e.current,e.current=t}var hn={},Be=Sn(hn),qe=Sn(!1),Dn=hn;function cr(e,t){var n=e.type.contextTypes;if(!n)return hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ze(e){return e=e.childContextTypes,e!=null}function Si(){me(qe),me(Be)}function Au(e,t,n){if(Be.current!==hn)throw Error(I(168));ce(Be,t),ce(qe,n)}function Ld(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(I(108,wp(e)||"Unknown",o));return Me({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,Dn=Be.current,ce(Be,e),ce(qe,qe.current),!0}function Du(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=Ld(e,t,Dn),r.__reactInternalMemoizedMergedChildContext=e,me(qe),me(Be),ce(Be,e)):me(qe),ce(qe,n)}var bt=null,Bi=!1,Cl=!1;function bd(e){bt===null?bt=[e]:bt.push(e)}function zh(e){Bi=!0,bd(e)}function Mn(){if(!Cl&&bt!==null){Cl=!0;var e=0,t=oe;try{var n=bt;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}bt=null,Bi=!1}catch(o){throw bt!==null&&(bt=bt.slice(e+1)),ad(qs,Mn),o}finally{oe=t,Cl=!1}}return null}var qn=[],Zn=0,Pi=null,Ei=0,dt=[],ft=0,jn=null,Ft=1,Bt="";function xn(e,t){qn[Zn++]=Ei,qn[Zn++]=Pi,Pi=e,Ei=t}function Od(e,t,n){dt[ft++]=Ft,dt[ft++]=Bt,dt[ft++]=jn,jn=e;var r=Ft;e=Bt;var o=32-_t(r)-1;r&=~(1<<o),n+=1;var l=32-_t(t)+o;if(30<l){var i=o-o%5;l=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Ft=1<<32-_t(t)+o|n<<o|r,Bt=l+e}else Ft=1<<l|n<<o|r,Bt=e}function sa(e){e.return!==null&&(xn(e,1),Od(e,1,0))}function aa(e){for(;e===Pi;)Pi=qn[--Zn],qn[Zn]=null,Ei=qn[--Zn],qn[Zn]=null;for(;e===jn;)jn=dt[--ft],dt[ft]=null,Bt=dt[--ft],dt[ft]=null,Ft=dt[--ft],dt[ft]=null}var it=null,ot=null,he=!1,xt=null;function Fd(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ju(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,ot=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jn!==null?{id:Ft,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,it=e,ot=null,!0):!1;default:return!1}}function ys(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ss(e){if(he){var t=ot;if(t){var n=t;if(!ju(e,t)){if(ys(e))throw Error(I(418));t=un(n.nextSibling);var r=it;t&&ju(e,t)?Fd(r,n):(e.flags=e.flags&-4097|2,he=!1,it=e)}}else{if(ys(e))throw Error(I(418));e.flags=e.flags&-4097|2,he=!1,it=e}}}function Ru(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function zo(e){if(e!==it)return!1;if(!he)return Ru(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ps(e.type,e.memoizedProps)),t&&(t=ot)){if(ys(e))throw Bd(),Error(I(418));for(;t;)Fd(e,t),t=un(t.nextSibling)}if(Ru(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=it?un(e.stateNode.nextSibling):null;return!0}function Bd(){for(var e=ot;e;)e=un(e.nextSibling)}function dr(){ot=it=null,he=!1}function ua(e){xt===null?xt=[e]:xt.push(e)}var Vh=Kt.ReactCurrentBatchConfig;function br(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var s=o.refs;i===null?delete s[l]:s[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function Vo(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $u(e){var t=e._init;return t(e._payload)}function Hd(e){function t(c,f){if(e){var h=c.deletions;h===null?(c.deletions=[f],c.flags|=16):h.push(f)}}function n(c,f){if(!e)return null;for(;f!==null;)t(c,f),f=f.sibling;return null}function r(c,f){for(c=new Map;f!==null;)f.key!==null?c.set(f.key,f):c.set(f.index,f),f=f.sibling;return c}function o(c,f){return c=mn(c,f),c.index=0,c.sibling=null,c}function l(c,f,h){return c.index=h,e?(h=c.alternate,h!==null?(h=h.index,h<f?(c.flags|=2,f):h):(c.flags|=2,f)):(c.flags|=1048576,f)}function i(c){return e&&c.alternate===null&&(c.flags|=2),c}function s(c,f,h,S){return f===null||f.tag!==6?(f=$l(h,c.mode,S),f.return=c,f):(f=o(f,h),f.return=c,f)}function a(c,f,h,S){var _=h.type;return _===Wn?d(c,f,h.props.children,S,h.key):f!==null&&(f.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Zt&&$u(_)===f.type)?(S=o(f,h.props),S.ref=br(c,f,h),S.return=c,S):(S=li(h.type,h.key,h.props,null,c.mode,S),S.ref=br(c,f,h),S.return=c,S)}function u(c,f,h,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==h.containerInfo||f.stateNode.implementation!==h.implementation?(f=Ll(h,c.mode,S),f.return=c,f):(f=o(f,h.children||[]),f.return=c,f)}function d(c,f,h,S,_){return f===null||f.tag!==7?(f=Nn(h,c.mode,S,_),f.return=c,f):(f=o(f,h),f.return=c,f)}function p(c,f,h){if(typeof f=="string"&&f!==""||typeof f=="number")return f=$l(""+f,c.mode,h),f.return=c,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Do:return h=li(f.type,f.key,f.props,null,c.mode,h),h.ref=br(c,null,f),h.return=c,h;case Gn:return f=Ll(f,c.mode,h),f.return=c,f;case Zt:var S=f._init;return p(c,S(f._payload),h)}if(Hr(f)||Dr(f))return f=Nn(f,c.mode,h,null),f.return=c,f;Vo(c,f)}return null}function m(c,f,h,S){var _=f!==null?f.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return _!==null?null:s(c,f,""+h,S);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Do:return h.key===_?a(c,f,h,S):null;case Gn:return h.key===_?u(c,f,h,S):null;case Zt:return _=h._init,m(c,f,_(h._payload),S)}if(Hr(h)||Dr(h))return _!==null?null:d(c,f,h,S,null);Vo(c,h)}return null}function v(c,f,h,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return c=c.get(h)||null,s(f,c,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Do:return c=c.get(S.key===null?h:S.key)||null,a(f,c,S,_);case Gn:return c=c.get(S.key===null?h:S.key)||null,u(f,c,S,_);case Zt:var A=S._init;return v(c,f,h,A(S._payload),_)}if(Hr(S)||Dr(S))return c=c.get(h)||null,d(f,c,S,_,null);Vo(f,S)}return null}function y(c,f,h,S){for(var _=null,A=null,M=f,x=f=0,L=null;M!==null&&x<h.length;x++){M.index>x?(L=M,M=null):L=M.sibling;var N=m(c,M,h[x],S);if(N===null){M===null&&(M=L);break}e&&M&&N.alternate===null&&t(c,M),f=l(N,f,x),A===null?_=N:A.sibling=N,A=N,M=L}if(x===h.length)return n(c,M),he&&xn(c,x),_;if(M===null){for(;x<h.length;x++)M=p(c,h[x],S),M!==null&&(f=l(M,f,x),A===null?_=M:A.sibling=M,A=M);return he&&xn(c,x),_}for(M=r(c,M);x<h.length;x++)L=v(M,c,x,h[x],S),L!==null&&(e&&L.alternate!==null&&M.delete(L.key===null?x:L.key),f=l(L,f,x),A===null?_=L:A.sibling=L,A=L);return e&&M.forEach(function(B){return t(c,B)}),he&&xn(c,x),_}function P(c,f,h,S){var _=Dr(h);if(typeof _!="function")throw Error(I(150));if(h=_.call(h),h==null)throw Error(I(151));for(var A=_=null,M=f,x=f=0,L=null,N=h.next();M!==null&&!N.done;x++,N=h.next()){M.index>x?(L=M,M=null):L=M.sibling;var B=m(c,M,N.value,S);if(B===null){M===null&&(M=L);break}e&&M&&B.alternate===null&&t(c,M),f=l(B,f,x),A===null?_=B:A.sibling=B,A=B,M=L}if(N.done)return n(c,M),he&&xn(c,x),_;if(M===null){for(;!N.done;x++,N=h.next())N=p(c,N.value,S),N!==null&&(f=l(N,f,x),A===null?_=N:A.sibling=N,A=N);return he&&xn(c,x),_}for(M=r(c,M);!N.done;x++,N=h.next())N=v(M,c,x,N.value,S),N!==null&&(e&&N.alternate!==null&&M.delete(N.key===null?x:N.key),f=l(N,f,x),A===null?_=N:A.sibling=N,A=N);return e&&M.forEach(function(Y){return t(c,Y)}),he&&xn(c,x),_}function j(c,f,h,S){if(typeof h=="object"&&h!==null&&h.type===Wn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Do:e:{for(var _=h.key,A=f;A!==null;){if(A.key===_){if(_=h.type,_===Wn){if(A.tag===7){n(c,A.sibling),f=o(A,h.props.children),f.return=c,c=f;break e}}else if(A.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Zt&&$u(_)===A.type){n(c,A.sibling),f=o(A,h.props),f.ref=br(c,A,h),f.return=c,c=f;break e}n(c,A);break}else t(c,A);A=A.sibling}h.type===Wn?(f=Nn(h.props.children,c.mode,S,h.key),f.return=c,c=f):(S=li(h.type,h.key,h.props,null,c.mode,S),S.ref=br(c,f,h),S.return=c,c=S)}return i(c);case Gn:e:{for(A=h.key;f!==null;){if(f.key===A)if(f.tag===4&&f.stateNode.containerInfo===h.containerInfo&&f.stateNode.implementation===h.implementation){n(c,f.sibling),f=o(f,h.children||[]),f.return=c,c=f;break e}else{n(c,f);break}else t(c,f);f=f.sibling}f=Ll(h,c.mode,S),f.return=c,c=f}return i(c);case Zt:return A=h._init,j(c,f,A(h._payload),S)}if(Hr(h))return y(c,f,h,S);if(Dr(h))return P(c,f,h,S);Vo(c,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,f!==null&&f.tag===6?(n(c,f.sibling),f=o(f,h),f.return=c,c=f):(n(c,f),f=$l(h,c.mode,S),f.return=c,c=f),i(c)):n(c,f)}return j}var fr=Hd(!0),zd=Hd(!1),xi=Sn(null),_i=null,er=null,ca=null;function da(){ca=er=_i=null}function fa(e){var t=xi.current;me(xi),e._currentValue=t}function Ms(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sr(e,t){_i=e,ca=er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(ca!==e)if(e={context:e,memoizedValue:t,next:null},er===null){if(_i===null)throw Error(I(308));er=e,_i.dependencies={lanes:0,firstContext:e}}else er=er.next=e;return t}var kn=null;function ma(e){kn===null?kn=[e]:kn.push(e)}function Vd(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ma(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ut(e,r)}function Ut(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ud(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ut(e,n)}return o=r.interleaved,o===null?(t.next=t,ma(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ut(e,n)}function ei(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zs(e,n)}}function Lu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wi(e,t,n,r){var o=e.updateQueue;en=!1;var l=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var a=s,u=a.next;a.next=null,i===null?l=u:i.next=u,i=a;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==i&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=a))}if(l!==null){var p=o.baseState;i=0,d=u=a=null,s=l;do{var m=s.lane,v=s.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=e,P=s;switch(m=t,v=n,P.tag){case 1:if(y=P.payload,typeof y=="function"){p=y.call(v,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=P.payload,m=typeof y=="function"?y.call(v,p,m):y,m==null)break e;p=Me({},p,m);break e;case 2:en=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,m=o.effects,m===null?o.effects=[s]:m.push(s))}else v={eventTime:v,lane:m,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=v,a=p):d=d.next=v,i|=m;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;m=s,s=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(d===null&&(a=p),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);$n|=i,e.lanes=i,e.memoizedState=p}}function bu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(I(191,o));o.call(r)}}}var Eo={},jt=Sn(Eo),co=Sn(Eo),fo=Sn(Eo);function In(e){if(e===Eo)throw Error(I(174));return e}function ha(e,t){switch(ce(fo,t),ce(co,e),ce(jt,Eo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:es(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=es(t,e)}me(jt),ce(jt,t)}function mr(){me(jt),me(co),me(fo)}function Gd(e){In(fo.current);var t=In(jt.current),n=es(t,e.type);t!==n&&(ce(co,e),ce(jt,n))}function ga(e){co.current===e&&(me(jt),me(co))}var ye=Sn(0);function ki(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nl=[];function va(){for(var e=0;e<Nl.length;e++)Nl[e]._workInProgressVersionPrimary=null;Nl.length=0}var ti=Kt.ReactCurrentDispatcher,Tl=Kt.ReactCurrentBatchConfig,Rn=0,Se=null,Ce=null,Ae=null,Ii=!1,Yr=!1,mo=0,Uh=0;function be(){throw Error(I(321))}function ya(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function Sa(e,t,n,r,o,l){if(Rn=l,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ti.current=e===null||e.memoizedState===null?Qh:Yh,e=n(r,o),Yr){l=0;do{if(Yr=!1,mo=0,25<=l)throw Error(I(301));l+=1,Ae=Ce=null,t.updateQueue=null,ti.current=Xh,e=n(r,o)}while(Yr)}if(ti.current=Ci,t=Ce!==null&&Ce.next!==null,Rn=0,Ae=Ce=Se=null,Ii=!1,t)throw Error(I(300));return e}function Ma(){var e=mo!==0;return mo=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Se.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function gt(){if(Ce===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Ae===null?Se.memoizedState:Ae.next;if(t!==null)Ae=t,Ce=e;else{if(e===null)throw Error(I(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ae===null?Se.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function po(e,t){return typeof t=="function"?t(e):t}function Al(e){var t=gt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=Ce,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var i=o.next;o.next=l.next,l.next=i}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var s=i=null,a=null,u=l;do{var d=u.lane;if((Rn&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=p,i=r):a=a.next=p,Se.lanes|=d,$n|=d}u=u.next}while(u!==null&&u!==l);a===null?i=r:a.next=s,kt(r,t.memoizedState)||(Je=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,Se.lanes|=l,$n|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Dl(e){var t=gt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do l=e(l,i.action),i=i.next;while(i!==o);kt(l,t.memoizedState)||(Je=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Wd(){}function Kd(e,t){var n=Se,r=gt(),o=t(),l=!kt(r.memoizedState,o);if(l&&(r.memoizedState=o,Je=!0),r=r.queue,Pa(Xd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,ho(9,Yd.bind(null,n,r,o,t),void 0,null),De===null)throw Error(I(349));Rn&30||Qd(n,t,o)}return o}function Qd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yd(e,t,n,r){t.value=n,t.getSnapshot=r,Jd(t)&&qd(e)}function Xd(e,t,n){return n(function(){Jd(t)&&qd(e)})}function Jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function qd(e){var t=Ut(e,1);t!==null&&wt(t,e,1,-1)}function Ou(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:e},t.queue=e,e=e.dispatch=Kh.bind(null,Se,e),[t.memoizedState,e]}function ho(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zd(){return gt().memoizedState}function ni(e,t,n,r){var o=Tt();Se.flags|=e,o.memoizedState=ho(1|t,n,void 0,r===void 0?null:r)}function Hi(e,t,n,r){var o=gt();r=r===void 0?null:r;var l=void 0;if(Ce!==null){var i=Ce.memoizedState;if(l=i.destroy,r!==null&&ya(r,i.deps)){o.memoizedState=ho(t,n,l,r);return}}Se.flags|=e,o.memoizedState=ho(1|t,n,l,r)}function Fu(e,t){return ni(8390656,8,e,t)}function Pa(e,t){return Hi(2048,8,e,t)}function ef(e,t){return Hi(4,2,e,t)}function tf(e,t){return Hi(4,4,e,t)}function nf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rf(e,t,n){return n=n!=null?n.concat([e]):null,Hi(4,4,nf.bind(null,t,e),n)}function Ea(){}function of(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lf(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sf(e,t,n){return Rn&21?(kt(n,t)||(n=dd(),Se.lanes|=n,$n|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=n)}function Gh(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=Tl.transition;Tl.transition={};try{e(!1),t()}finally{oe=n,Tl.transition=r}}function af(){return gt().memoizedState}function Wh(e,t,n){var r=fn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uf(e))cf(t,n);else if(n=Vd(e,t,n,r),n!==null){var o=Ue();wt(n,e,r,o),df(n,t,r)}}function Kh(e,t,n){var r=fn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uf(e))cf(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,s=l(i,n);if(o.hasEagerState=!0,o.eagerState=s,kt(s,i)){var a=t.interleaved;a===null?(o.next=o,ma(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=Vd(e,t,o,r),n!==null&&(o=Ue(),wt(n,e,r,o),df(n,t,r))}}function uf(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function cf(e,t){Yr=Ii=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function df(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zs(e,n)}}var Ci={readContext:ht,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Qh={readContext:ht,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Fu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ni(4194308,4,nf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return ni(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wh.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:Ou,useDebugValue:Ea,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=Ou(!1),t=e[0];return e=Gh.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,o=Tt();if(he){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),De===null)throw Error(I(349));Rn&30||Qd(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Fu(Xd.bind(null,r,l,e),[e]),r.flags|=2048,ho(9,Yd.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Tt(),t=De.identifierPrefix;if(he){var n=Bt,r=Ft;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=mo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Uh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yh={readContext:ht,useCallback:of,useContext:ht,useEffect:Pa,useImperativeHandle:rf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:lf,useReducer:Al,useRef:Zd,useState:function(){return Al(po)},useDebugValue:Ea,useDeferredValue:function(e){var t=gt();return sf(t,Ce.memoizedState,e)},useTransition:function(){var e=Al(po)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Wd,useSyncExternalStore:Kd,useId:af,unstable_isNewReconciler:!1},Xh={readContext:ht,useCallback:of,useContext:ht,useEffect:Pa,useImperativeHandle:rf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:lf,useReducer:Dl,useRef:Zd,useState:function(){return Dl(po)},useDebugValue:Ea,useDeferredValue:function(e){var t=gt();return Ce===null?t.memoizedState=e:sf(t,Ce.memoizedState,e)},useTransition:function(){var e=Dl(po)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Wd,useSyncExternalStore:Kd,useId:af,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ps(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zi={isMounted:function(e){return(e=e._reactInternals)?On(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ue(),o=fn(e),l=Ht(r,o);l.payload=t,n!=null&&(l.callback=n),t=cn(e,l,o),t!==null&&(wt(t,e,o,r),ei(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ue(),o=fn(e),l=Ht(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=cn(e,l,o),t!==null&&(wt(t,e,o,r),ei(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),r=fn(e),o=Ht(n,r);o.tag=2,t!=null&&(o.callback=t),t=cn(e,o,r),t!==null&&(wt(t,e,r,n),ei(t,e,r))}};function Bu(e,t,n,r,o,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!lo(n,r)||!lo(o,l):!0}function ff(e,t,n){var r=!1,o=hn,l=t.contextType;return typeof l=="object"&&l!==null?l=ht(l):(o=Ze(t)?Dn:Be.current,r=t.contextTypes,l=(r=r!=null)?cr(e,o):hn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function Hu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zi.enqueueReplaceState(t,t.state,null)}function Es(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},pa(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=ht(l):(l=Ze(t)?Dn:Be.current,o.context=cr(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Ps(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&zi.enqueueReplaceState(o,o.state,null),wi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function pr(e,t){try{var n="",r=t;do n+=_p(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function jl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Jh=typeof WeakMap=="function"?WeakMap:Map;function mf(e,t,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ti||(Ti=!0,js=r),xs(e,t)},n}function pf(e,t,n){n=Ht(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){xs(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){xs(e,t),typeof r!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function zu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Jh;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=dg.bind(null,e,t,n),t.then(e,e))}function Vu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uu(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ht(-1,1),t.tag=2,cn(n,t,1))),n.lanes|=1),e)}var qh=Kt.ReactCurrentOwner,Je=!1;function ze(e,t,n,r){t.child=e===null?zd(t,null,n,r):fr(t,e.child,n,r)}function Gu(e,t,n,r,o){n=n.render;var l=t.ref;return sr(t,o),r=Sa(e,t,n,r,l,o),n=Ma(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gt(e,t,o)):(he&&n&&sa(t),t.flags|=1,ze(e,t,r,o),t.child)}function Wu(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!Ta(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,hf(e,t,l,r,o)):(e=li(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:lo,n(i,r)&&e.ref===t.ref)return Gt(e,t,o)}return t.flags|=1,e=mn(l,r),e.ref=t.ref,e.return=t,t.child=e}function hf(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(lo(l,r)&&e.ref===t.ref)if(Je=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,Gt(e,t,o)}return _s(e,t,n,r,o)}function gf(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(nr,rt),rt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(nr,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,ce(nr,rt),rt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,ce(nr,rt),rt|=r;return ze(e,t,o,n),t.child}function vf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,o){var l=Ze(n)?Dn:Be.current;return l=cr(t,l),sr(t,o),n=Sa(e,t,n,r,l,o),r=Ma(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gt(e,t,o)):(he&&r&&sa(t),t.flags|=1,ze(e,t,n,o),t.child)}function Ku(e,t,n,r,o){if(Ze(n)){var l=!0;Mi(t)}else l=!1;if(sr(t,o),t.stateNode===null)ri(e,t),ff(t,n,r),Es(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var a=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Ze(n)?Dn:Be.current,u=cr(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==r||a!==u)&&Hu(t,i,r,u),en=!1;var m=t.memoizedState;i.state=m,wi(t,r,i,o),a=t.memoizedState,s!==r||m!==a||qe.current||en?(typeof d=="function"&&(Ps(t,n,d,r),a=t.memoizedState),(s=en||Bu(t,n,s,r,m,a,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),i.props=r,i.state=a,i.context=u,r=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ud(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Mt(t.type,s),i.props=u,p=t.pendingProps,m=i.context,a=n.contextType,typeof a=="object"&&a!==null?a=ht(a):(a=Ze(n)?Dn:Be.current,a=cr(t,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==p||m!==a)&&Hu(t,i,r,a),en=!1,m=t.memoizedState,i.state=m,wi(t,r,i,o);var y=t.memoizedState;s!==p||m!==y||qe.current||en?(typeof v=="function"&&(Ps(t,n,v,r),y=t.memoizedState),(u=en||Bu(t,n,u,r,m,y,a)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,a),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,a)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=a,r=u):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return ws(e,t,n,r,l,o)}function ws(e,t,n,r,o,l){vf(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Du(t,n,!1),Gt(e,t,l);r=t.stateNode,qh.current=t;var s=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=fr(t,e.child,null,l),t.child=fr(t,null,s,l)):ze(e,t,s,l),t.memoizedState=r.state,o&&Du(t,n,!0),t.child}function yf(e){var t=e.stateNode;t.pendingContext?Au(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Au(e,t.context,!1),ha(e,t.containerInfo)}function Qu(e,t,n,r,o){return dr(),ua(o),t.flags|=256,ze(e,t,n,r),t.child}var ks={dehydrated:null,treeContext:null,retryLane:0};function Is(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sf(e,t,n){var r=t.pendingProps,o=ye.current,l=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ce(ye,o&1),e===null)return Ss(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Gi(i,r,0,null),e=Nn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Is(n),t.memoizedState=ks,e):xa(t,i));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return Zh(e,t,i,r,s,o,n);if(l){l=r.fallback,i=t.mode,o=e.child,s=o.sibling;var a={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=mn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?l=mn(s,l):(l=Nn(l,i,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?Is(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=ks,r}return l=e.child,e=l.sibling,r=mn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xa(e,t){return t=Gi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uo(e,t,n,r){return r!==null&&ua(r),fr(t,e.child,null,n),e=xa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zh(e,t,n,r,o,l,i){if(n)return t.flags&256?(t.flags&=-257,r=jl(Error(I(422))),Uo(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=Gi({mode:"visible",children:r.children},o,0,null),l=Nn(l,o,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&fr(t,e.child,null,i),t.child.memoizedState=Is(i),t.memoizedState=ks,l);if(!(t.mode&1))return Uo(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,l=Error(I(419)),r=jl(l,r,void 0),Uo(e,t,i,r)}if(s=(i&e.childLanes)!==0,Je||s){if(r=De,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Ut(e,o),wt(r,e,o,-1))}return Na(),r=jl(Error(I(421))),Uo(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=fg.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,ot=un(o.nextSibling),it=t,he=!0,xt=null,e!==null&&(dt[ft++]=Ft,dt[ft++]=Bt,dt[ft++]=jn,Ft=e.id,Bt=e.overflow,jn=t),t=xa(t,r.children),t.flags|=4096,t)}function Yu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ms(e.return,t,n)}function Rl(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function Mf(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(ze(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yu(e,n,t);else if(e.tag===19)Yu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(ye,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ki(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Rl(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ki(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Rl(t,!0,n,null,l);break;case"together":Rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ri(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$n|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function eg(e,t,n){switch(t.tag){case 3:yf(t),dr();break;case 5:Gd(t);break;case 1:Ze(t.type)&&Mi(t);break;case 4:ha(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ce(xi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?Sf(e,t,n):(ce(ye,ye.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);ce(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Mf(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ce(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,gf(e,t,n)}return Gt(e,t,n)}var Pf,Cs,Ef,xf;Pf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cs=function(){};Ef=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,In(jt.current);var l=null;switch(n){case"input":o=Xl(e,o),r=Xl(e,r),l=[];break;case"select":o=Me({},o,{value:void 0}),r=Me({},r,{value:void 0}),l=[];break;case"textarea":o=Zl(e,o),r=Zl(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yi)}ts(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zr.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var a=r[u];if(s=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(i in s)!s.hasOwnProperty(i)||a&&a.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in a)a.hasOwnProperty(i)&&s[i]!==a[i]&&(n||(n={}),n[i]=a[i])}else n||(l||(l=[]),l.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(l=l||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(l=l||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&fe("scroll",e),l||s===a||(l=[])):(l=l||[]).push(u,a))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};xf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Or(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tg(e,t,n){var r=t.pendingProps;switch(aa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Ze(t.type)&&Si(),Oe(t),null;case 3:return r=t.stateNode,mr(),me(qe),me(Be),va(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(Ls(xt),xt=null))),Cs(e,t),Oe(t),null;case 5:ga(t);var o=In(fo.current);if(n=t.type,e!==null&&t.stateNode!=null)Ef(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Oe(t),null}if(e=In(jt.current),zo(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[At]=t,r[uo]=l,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(o=0;o<Vr.length;o++)fe(Vr[o],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":ou(r,l),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},fe("invalid",r);break;case"textarea":lu(r,l),fe("invalid",r)}ts(n,l),o=null;for(var i in l)if(l.hasOwnProperty(i)){var s=l[i];i==="children"?typeof s=="string"?r.textContent!==s&&(l.suppressHydrationWarning!==!0&&Ho(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(l.suppressHydrationWarning!==!0&&Ho(r.textContent,s,e),o=["children",""+s]):Zr.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&fe("scroll",r)}switch(n){case"input":jo(r),iu(r,l,!0);break;case"textarea":jo(r),su(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=yi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[At]=t,e[uo]=r,Pf(e,t,!1,!1),t.stateNode=e;e:{switch(i=ns(n,r),n){case"dialog":fe("cancel",e),fe("close",e),o=r;break;case"iframe":case"object":case"embed":fe("load",e),o=r;break;case"video":case"audio":for(o=0;o<Vr.length;o++)fe(Vr[o],e);o=r;break;case"source":fe("error",e),o=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),o=r;break;case"details":fe("toggle",e),o=r;break;case"input":ou(e,r),o=Xl(e,r),fe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Me({},r,{value:void 0}),fe("invalid",e);break;case"textarea":lu(e,r),o=Zl(e,r),fe("invalid",e);break;default:o=r}ts(n,o),s=o;for(l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="style"?Zc(e,a):l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Jc(e,a)):l==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&eo(e,a):typeof a=="number"&&eo(e,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Zr.hasOwnProperty(l)?a!=null&&l==="onScroll"&&fe("scroll",e):a!=null&&Ks(e,l,a,i))}switch(n){case"input":jo(e),iu(e,r,!1);break;case"textarea":jo(e),su(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?rr(e,!!r.multiple,l,!1):r.defaultValue!=null&&rr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=yi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)xf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=In(fo.current),In(jt.current),zo(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(l=r.nodeValue!==n)&&(e=it,e!==null))switch(e.tag){case 3:Ho(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ho(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return Oe(t),null;case 13:if(me(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&ot!==null&&t.mode&1&&!(t.flags&128))Bd(),dr(),t.flags|=98560,l=!1;else if(l=zo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(I(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(I(317));l[At]=t}else dr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),l=!1}else xt!==null&&(Ls(xt),xt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Ne===0&&(Ne=3):Na())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return mr(),Cs(e,t),e===null&&so(t.stateNode.containerInfo),Oe(t),null;case 10:return fa(t.type._context),Oe(t),null;case 17:return Ze(t.type)&&Si(),Oe(t),null;case 19:if(me(ye),l=t.memoizedState,l===null)return Oe(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)Or(l,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ki(e),i!==null){for(t.flags|=128,Or(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(ye,ye.current&1|2),t.child}e=e.sibling}l.tail!==null&&_e()>hr&&(t.flags|=128,r=!0,Or(l,!1),t.lanes=4194304)}else{if(!r)if(e=ki(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Or(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!he)return Oe(t),null}else 2*_e()-l.renderingStartTime>hr&&n!==1073741824&&(t.flags|=128,r=!0,Or(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=_e(),t.sibling=null,n=ye.current,ce(ye,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return Ca(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rt&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function ng(e,t){switch(aa(t),t.tag){case 1:return Ze(t.type)&&Si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mr(),me(qe),me(Be),va(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ga(t),null;case 13:if(me(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ye),null;case 4:return mr(),null;case 10:return fa(t.type._context),null;case 22:case 23:return Ca(),null;case 24:return null;default:return null}}var Go=!1,Fe=!1,rg=typeof WeakSet=="function"?WeakSet:Set,R=null;function tr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(e,t,r)}else n.current=null}function Ns(e,t,n){try{n()}catch(r){Ee(e,t,r)}}var Xu=!1;function og(e,t){if(fs=hi,e=Id(),la(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,s=-1,a=-1,u=0,d=0,p=e,m=null;t:for(;;){for(var v;p!==n||o!==0&&p.nodeType!==3||(s=i+o),p!==l||r!==0&&p.nodeType!==3||(a=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===e)break t;if(m===n&&++u===o&&(s=i),m===l&&++d===r&&(a=i),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ms={focusedElem:e,selectionRange:n},hi=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var P=y.memoizedProps,j=y.memoizedState,c=t.stateNode,f=c.getSnapshotBeforeUpdate(t.elementType===t.type?P:Mt(t.type,P),j);c.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){Ee(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return y=Xu,Xu=!1,y}function Xr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Ns(t,n,l)}o=o.next}while(o!==r)}}function Vi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ts(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _f(e){var t=e.alternate;t!==null&&(e.alternate=null,_f(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[uo],delete t[gs],delete t[Bh],delete t[Hh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wf(e){return e.tag===5||e.tag===3||e.tag===4}function Ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function As(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yi));else if(r!==4&&(e=e.child,e!==null))for(As(e,t,n),e=e.sibling;e!==null;)As(e,t,n),e=e.sibling}function Ds(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ds(e,t,n),e=e.sibling;e!==null;)Ds(e,t,n),e=e.sibling}var Re=null,Pt=!1;function qt(e,t,n){for(n=n.child;n!==null;)kf(e,t,n),n=n.sibling}function kf(e,t,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount($i,n)}catch{}switch(n.tag){case 5:Fe||tr(n,t);case 6:var r=Re,o=Pt;Re=null,qt(e,t,n),Re=r,Pt=o,Re!==null&&(Pt?(e=Re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(Pt?(e=Re,n=n.stateNode,e.nodeType===8?Il(e.parentNode,n):e.nodeType===1&&Il(e,n),oo(e)):Il(Re,n.stateNode));break;case 4:r=Re,o=Pt,Re=n.stateNode.containerInfo,Pt=!0,qt(e,t,n),Re=r,Pt=o;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Ns(n,t,i),o=o.next}while(o!==r)}qt(e,t,n);break;case 1:if(!Fe&&(tr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ee(n,t,s)}qt(e,t,n);break;case 21:qt(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,qt(e,t,n),Fe=r):qt(e,t,n);break;default:qt(e,t,n)}}function qu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rg),t.forEach(function(r){var o=mg.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function St(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Re=s.stateNode,Pt=!1;break e;case 3:Re=s.stateNode.containerInfo,Pt=!0;break e;case 4:Re=s.stateNode.containerInfo,Pt=!0;break e}s=s.return}if(Re===null)throw Error(I(160));kf(l,i,o),Re=null,Pt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){Ee(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)If(t,e),t=t.sibling}function If(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),Nt(e),r&4){try{Xr(3,e,e.return),Vi(3,e)}catch(P){Ee(e,e.return,P)}try{Xr(5,e,e.return)}catch(P){Ee(e,e.return,P)}}break;case 1:St(t,e),Nt(e),r&512&&n!==null&&tr(n,n.return);break;case 5:if(St(t,e),Nt(e),r&512&&n!==null&&tr(n,n.return),e.flags&32){var o=e.stateNode;try{eo(o,"")}catch(P){Ee(e,e.return,P)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&l.type==="radio"&&l.name!=null&&Qc(o,l),ns(s,i);var u=ns(s,l);for(i=0;i<a.length;i+=2){var d=a[i],p=a[i+1];d==="style"?Zc(o,p):d==="dangerouslySetInnerHTML"?Jc(o,p):d==="children"?eo(o,p):Ks(o,d,p,u)}switch(s){case"input":Jl(o,l);break;case"textarea":Yc(o,l);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?rr(o,!!l.multiple,v,!1):m!==!!l.multiple&&(l.defaultValue!=null?rr(o,!!l.multiple,l.defaultValue,!0):rr(o,!!l.multiple,l.multiple?[]:"",!1))}o[uo]=l}catch(P){Ee(e,e.return,P)}}break;case 6:if(St(t,e),Nt(e),r&4){if(e.stateNode===null)throw Error(I(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(P){Ee(e,e.return,P)}}break;case 3:if(St(t,e),Nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{oo(t.containerInfo)}catch(P){Ee(e,e.return,P)}break;case 4:St(t,e),Nt(e);break;case 13:St(t,e),Nt(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(ka=_e())),r&4&&qu(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(u=Fe)||d,St(t,e),Fe=u):St(t,e),Nt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(p=R=d;R!==null;){switch(m=R,v=m.child,m.tag){case 0:case 11:case 14:case 15:Xr(4,m,m.return);break;case 1:tr(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(P){Ee(r,n,P)}}break;case 5:tr(m,m.return);break;case 22:if(m.memoizedState!==null){ec(p);continue}}v!==null?(v.return=m,R=v):ec(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{o=p.stateNode,u?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(s=p.stateNode,a=p.memoizedProps.style,i=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=qc("display",i))}catch(P){Ee(e,e.return,P)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(P){Ee(e,e.return,P)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:St(t,e),Nt(e),r&4&&qu(e);break;case 21:break;default:St(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wf(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(eo(o,""),r.flags&=-33);var l=Ju(e);Ds(e,l,o);break;case 3:case 4:var i=r.stateNode.containerInfo,s=Ju(e);As(e,s,i);break;default:throw Error(I(161))}}catch(a){Ee(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ig(e,t,n){R=e,Cf(e)}function Cf(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var o=R,l=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Go;if(!i){var s=o.alternate,a=s!==null&&s.memoizedState!==null||Fe;s=Go;var u=Fe;if(Go=i,(Fe=a)&&!u)for(R=o;R!==null;)i=R,a=i.child,i.tag===22&&i.memoizedState!==null?tc(o):a!==null?(a.return=i,R=a):tc(o);for(;l!==null;)R=l,Cf(l),l=l.sibling;R=o,Go=s,Fe=u}Zu(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,R=l):Zu(e)}}function Zu(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||Vi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Mt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&bu(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bu(t,i,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&oo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Fe||t.flags&512&&Ts(t)}catch(m){Ee(t,t.return,m)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function ec(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function tc(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vi(4,t)}catch(a){Ee(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){Ee(t,o,a)}}var l=t.return;try{Ts(t)}catch(a){Ee(t,l,a)}break;case 5:var i=t.return;try{Ts(t)}catch(a){Ee(t,i,a)}}}catch(a){Ee(t,t.return,a)}if(t===e){R=null;break}var s=t.sibling;if(s!==null){s.return=t.return,R=s;break}R=t.return}}var lg=Math.ceil,Ni=Kt.ReactCurrentDispatcher,_a=Kt.ReactCurrentOwner,pt=Kt.ReactCurrentBatchConfig,q=0,De=null,Ie=null,$e=0,rt=0,nr=Sn(0),Ne=0,go=null,$n=0,Ui=0,wa=0,Jr=null,Xe=null,ka=0,hr=1/0,Lt=null,Ti=!1,js=null,dn=null,Wo=!1,on=null,Ai=0,qr=0,Rs=null,oi=-1,ii=0;function Ue(){return q&6?_e():oi!==-1?oi:oi=_e()}function fn(e){return e.mode&1?q&2&&$e!==0?$e&-$e:Vh.transition!==null?(ii===0&&(ii=dd()),ii):(e=oe,e!==0||(e=window.event,e=e===void 0?16:yd(e.type)),e):1}function wt(e,t,n,r){if(50<qr)throw qr=0,Rs=null,Error(I(185));So(e,n,r),(!(q&2)||e!==De)&&(e===De&&(!(q&2)&&(Ui|=n),Ne===4&&nn(e,$e)),et(e,r),n===1&&q===0&&!(t.mode&1)&&(hr=_e()+500,Bi&&Mn()))}function et(e,t){var n=e.callbackNode;Vp(e,t);var r=pi(e,e===De?$e:0);if(r===0)n!==null&&cu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&cu(n),t===1)e.tag===0?zh(nc.bind(null,e)):bd(nc.bind(null,e)),Oh(function(){!(q&6)&&Mn()}),n=null;else{switch(fd(r)){case 1:n=qs;break;case 4:n=ud;break;case 16:n=mi;break;case 536870912:n=cd;break;default:n=mi}n=Lf(n,Nf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Nf(e,t){if(oi=-1,ii=0,q&6)throw Error(I(327));var n=e.callbackNode;if(ar()&&e.callbackNode!==n)return null;var r=pi(e,e===De?$e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Di(e,r);else{t=r;var o=q;q|=2;var l=Af();(De!==e||$e!==t)&&(Lt=null,hr=_e()+500,Cn(e,t));do try{ug();break}catch(s){Tf(e,s)}while(!0);da(),Ni.current=l,q=o,Ie!==null?t=0:(De=null,$e=0,t=Ne)}if(t!==0){if(t===2&&(o=ss(e),o!==0&&(r=o,t=$s(e,o))),t===1)throw n=go,Cn(e,0),nn(e,r),et(e,_e()),n;if(t===6)nn(e,r);else{if(o=e.current.alternate,!(r&30)&&!sg(o)&&(t=Di(e,r),t===2&&(l=ss(e),l!==0&&(r=l,t=$s(e,l))),t===1))throw n=go,Cn(e,0),nn(e,r),et(e,_e()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:_n(e,Xe,Lt);break;case 3:if(nn(e,r),(r&130023424)===r&&(t=ka+500-_e(),10<t)){if(pi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ue(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=hs(_n.bind(null,e,Xe,Lt),t);break}_n(e,Xe,Lt);break;case 4:if(nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-_t(r);l=1<<i,i=t[i],i>o&&(o=i),r&=~l}if(r=o,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lg(r/1960))-r,10<r){e.timeoutHandle=hs(_n.bind(null,e,Xe,Lt),r);break}_n(e,Xe,Lt);break;case 5:_n(e,Xe,Lt);break;default:throw Error(I(329))}}}return et(e,_e()),e.callbackNode===n?Nf.bind(null,e):null}function $s(e,t){var n=Jr;return e.current.memoizedState.isDehydrated&&(Cn(e,t).flags|=256),e=Di(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&Ls(t)),e}function Ls(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function sg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!kt(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~wa,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function nc(e){if(q&6)throw Error(I(327));ar();var t=pi(e,0);if(!(t&1))return et(e,_e()),null;var n=Di(e,t);if(e.tag!==0&&n===2){var r=ss(e);r!==0&&(t=r,n=$s(e,r))}if(n===1)throw n=go,Cn(e,0),nn(e,t),et(e,_e()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_n(e,Xe,Lt),et(e,_e()),null}function Ia(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(hr=_e()+500,Bi&&Mn())}}function Ln(e){on!==null&&on.tag===0&&!(q&6)&&ar();var t=q;q|=1;var n=pt.transition,r=oe;try{if(pt.transition=null,oe=1,e)return e()}finally{oe=r,pt.transition=n,q=t,!(q&6)&&Mn()}}function Ca(){rt=nr.current,me(nr)}function Cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bh(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(aa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Si();break;case 3:mr(),me(qe),me(Be),va();break;case 5:ga(r);break;case 4:mr();break;case 13:me(ye);break;case 19:me(ye);break;case 10:fa(r.type._context);break;case 22:case 23:Ca()}n=n.return}if(De=e,Ie=e=mn(e.current,null),$e=rt=t,Ne=0,go=null,wa=Ui=$n=0,Xe=Jr=null,kn!==null){for(t=0;t<kn.length;t++)if(n=kn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var i=l.next;l.next=o,r.next=i}n.pending=r}kn=null}return e}function Tf(e,t){do{var n=Ie;try{if(da(),ti.current=Ci,Ii){for(var r=Se.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ii=!1}if(Rn=0,Ae=Ce=Se=null,Yr=!1,mo=0,_a.current=null,n===null||n.return===null){Ne=1,go=t,Ie=null;break}e:{var l=e,i=n.return,s=n,a=t;if(t=$e,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=s,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Vu(i);if(v!==null){v.flags&=-257,Uu(v,i,s,l,t),v.mode&1&&zu(l,u,t),t=v,a=u;var y=t.updateQueue;if(y===null){var P=new Set;P.add(a),t.updateQueue=P}else y.add(a);break e}else{if(!(t&1)){zu(l,u,t),Na();break e}a=Error(I(426))}}else if(he&&s.mode&1){var j=Vu(i);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Uu(j,i,s,l,t),ua(pr(a,s));break e}}l=a=pr(a,s),Ne!==4&&(Ne=2),Jr===null?Jr=[l]:Jr.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var c=mf(l,a,t);Lu(l,c);break e;case 1:s=a;var f=l.type,h=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(dn===null||!dn.has(h)))){l.flags|=65536,t&=-t,l.lanes|=t;var S=pf(l,s,t);Lu(l,S);break e}}l=l.return}while(l!==null)}jf(n)}catch(_){t=_,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function Af(){var e=Ni.current;return Ni.current=Ci,e===null?Ci:e}function Na(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),De===null||!($n&268435455)&&!(Ui&268435455)||nn(De,$e)}function Di(e,t){var n=q;q|=2;var r=Af();(De!==e||$e!==t)&&(Lt=null,Cn(e,t));do try{ag();break}catch(o){Tf(e,o)}while(!0);if(da(),q=n,Ni.current=r,Ie!==null)throw Error(I(261));return De=null,$e=0,Ne}function ag(){for(;Ie!==null;)Df(Ie)}function ug(){for(;Ie!==null&&!Rp();)Df(Ie)}function Df(e){var t=$f(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?jf(e):Ie=t,_a.current=null}function jf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ng(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,Ie=null;return}}else if(n=tg(n,t,rt),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Ne===0&&(Ne=5)}function _n(e,t,n){var r=oe,o=pt.transition;try{pt.transition=null,oe=1,cg(e,t,n,r)}finally{pt.transition=o,oe=r}return null}function cg(e,t,n,r){do ar();while(on!==null);if(q&6)throw Error(I(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Up(e,l),e===De&&(Ie=De=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wo||(Wo=!0,Lf(mi,function(){return ar(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=pt.transition,pt.transition=null;var i=oe;oe=1;var s=q;q|=4,_a.current=null,og(e,n),If(n,e),Th(ms),hi=!!fs,ms=fs=null,e.current=n,ig(n),$p(),q=s,oe=i,pt.transition=l}else e.current=n;if(Wo&&(Wo=!1,on=e,Ai=o),l=e.pendingLanes,l===0&&(dn=null),Op(n.stateNode),et(e,_e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ti)throw Ti=!1,e=js,js=null,e;return Ai&1&&e.tag!==0&&ar(),l=e.pendingLanes,l&1?e===Rs?qr++:(qr=0,Rs=e):qr=0,Mn(),null}function ar(){if(on!==null){var e=fd(Ai),t=pt.transition,n=oe;try{if(pt.transition=null,oe=16>e?16:e,on===null)var r=!1;else{if(e=on,on=null,Ai=0,q&6)throw Error(I(331));var o=q;for(q|=4,R=e.current;R!==null;){var l=R,i=l.child;if(R.flags&16){var s=l.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Xr(8,d,l)}var p=d.child;if(p!==null)p.return=d,R=p;else for(;R!==null;){d=R;var m=d.sibling,v=d.return;if(_f(d),d===u){R=null;break}if(m!==null){m.return=v,R=m;break}R=v}}}var y=l.alternate;if(y!==null){var P=y.child;if(P!==null){y.child=null;do{var j=P.sibling;P.sibling=null,P=j}while(P!==null)}}R=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,R=i;else e:for(;R!==null;){if(l=R,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Xr(9,l,l.return)}var c=l.sibling;if(c!==null){c.return=l.return,R=c;break e}R=l.return}}var f=e.current;for(R=f;R!==null;){i=R;var h=i.child;if(i.subtreeFlags&2064&&h!==null)h.return=i,R=h;else e:for(i=f;R!==null;){if(s=R,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Vi(9,s)}}catch(_){Ee(s,s.return,_)}if(s===i){R=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,R=S;break e}R=s.return}}if(q=o,Mn(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot($i,e)}catch{}r=!0}return r}finally{oe=n,pt.transition=t}}return!1}function rc(e,t,n){t=pr(n,t),t=mf(e,t,1),e=cn(e,t,1),t=Ue(),e!==null&&(So(e,1,t),et(e,t))}function Ee(e,t,n){if(e.tag===3)rc(e,e,n);else for(;t!==null;){if(t.tag===3){rc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dn===null||!dn.has(r))){e=pr(n,e),e=pf(t,e,1),t=cn(t,e,1),e=Ue(),t!==null&&(So(t,1,e),et(t,e));break}}t=t.return}}function dg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,De===e&&($e&n)===n&&(Ne===4||Ne===3&&($e&130023424)===$e&&500>_e()-ka?Cn(e,0):wa|=n),et(e,t)}function Rf(e,t){t===0&&(e.mode&1?(t=Lo,Lo<<=1,!(Lo&130023424)&&(Lo=4194304)):t=1);var n=Ue();e=Ut(e,t),e!==null&&(So(e,t,n),et(e,n))}function fg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rf(e,n)}function mg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),Rf(e,n)}var $f;$f=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)Je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Je=!1,eg(e,t,n);Je=!!(e.flags&131072)}else Je=!1,he&&t.flags&1048576&&Od(t,Ei,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ri(e,t),e=t.pendingProps;var o=cr(t,Be.current);sr(t,n),o=Sa(null,t,r,e,o,n);var l=Ma();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(r)?(l=!0,Mi(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,pa(t),o.updater=zi,t.stateNode=o,o._reactInternals=t,Es(t,r,e,n),t=ws(null,t,r,!0,l,n)):(t.tag=0,he&&l&&sa(t),ze(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ri(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=hg(r),e=Mt(r,e),o){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Ku(null,t,r,e,n);break e;case 11:t=Gu(null,t,r,e,n);break e;case 14:t=Wu(null,t,r,Mt(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Mt(r,o),_s(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Mt(r,o),Ku(e,t,r,o,n);case 3:e:{if(yf(t),e===null)throw Error(I(387));r=t.pendingProps,l=t.memoizedState,o=l.element,Ud(e,t),wi(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=pr(Error(I(423)),t),t=Qu(e,t,r,n,o);break e}else if(r!==o){o=pr(Error(I(424)),t),t=Qu(e,t,r,n,o);break e}else for(ot=un(t.stateNode.containerInfo.firstChild),it=t,he=!0,xt=null,n=zd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dr(),r===o){t=Gt(e,t,n);break e}ze(e,t,r,n)}t=t.child}return t;case 5:return Gd(t),e===null&&Ss(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,i=o.children,ps(r,o)?i=null:l!==null&&ps(r,l)&&(t.flags|=32),vf(e,t),ze(e,t,i,n),t.child;case 6:return e===null&&Ss(t),null;case 13:return Sf(e,t,n);case 4:return ha(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fr(t,null,r,n):ze(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Mt(r,o),Gu(e,t,r,o,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,i=o.value,ce(xi,r._currentValue),r._currentValue=i,l!==null)if(kt(l.value,i)){if(l.children===o.children&&!qe.current){t=Gt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){i=l.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(l.tag===1){a=Ht(-1,n&-n),a.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Ms(l.return,n,t),s.lanes|=n;break}a=a.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(I(341));i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),Ms(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}ze(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,sr(t,n),o=ht(o),r=r(o),t.flags|=1,ze(e,t,r,n),t.child;case 14:return r=t.type,o=Mt(r,t.pendingProps),o=Mt(r.type,o),Wu(e,t,r,o,n);case 15:return hf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Mt(r,o),ri(e,t),t.tag=1,Ze(r)?(e=!0,Mi(t)):e=!1,sr(t,n),ff(t,r,o),Es(t,r,o,n),ws(null,t,r,!0,e,n);case 19:return Mf(e,t,n);case 22:return gf(e,t,n)}throw Error(I(156,t.tag))};function Lf(e,t){return ad(e,t)}function pg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,r){return new pg(e,t,n,r)}function Ta(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hg(e){if(typeof e=="function")return Ta(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ys)return 11;if(e===Xs)return 14}return 2}function mn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function li(e,t,n,r,o,l){var i=2;if(r=e,typeof e=="function")Ta(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Wn:return Nn(n.children,o,l,t);case Qs:i=8,o|=8;break;case Wl:return e=mt(12,n,t,o|2),e.elementType=Wl,e.lanes=l,e;case Kl:return e=mt(13,n,t,o),e.elementType=Kl,e.lanes=l,e;case Ql:return e=mt(19,n,t,o),e.elementType=Ql,e.lanes=l,e;case Gc:return Gi(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vc:i=10;break e;case Uc:i=9;break e;case Ys:i=11;break e;case Xs:i=14;break e;case Zt:i=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=mt(i,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function Nn(e,t,n,r){return e=mt(7,e,r,t),e.lanes=n,e}function Gi(e,t,n,r){return e=mt(22,e,r,t),e.elementType=Gc,e.lanes=n,e.stateNode={isHidden:!1},e}function $l(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function Ll(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gg(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gl(0),this.expirationTimes=gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Aa(e,t,n,r,o,l,i,s,a){return e=new gg(e,t,n,s,a),t===1?(t=1,l===!0&&(t|=8)):t=0,l=mt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pa(l),e}function vg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bf(e){if(!e)return hn;e=e._reactInternals;e:{if(On(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Ze(n))return Ld(e,n,t)}return t}function Of(e,t,n,r,o,l,i,s,a){return e=Aa(n,r,!0,e,o,l,i,s,a),e.context=bf(null),n=e.current,r=Ue(),o=fn(n),l=Ht(r,o),l.callback=t??null,cn(n,l,o),e.current.lanes=o,So(e,o,r),et(e,r),e}function Wi(e,t,n,r){var o=t.current,l=Ue(),i=fn(o);return n=bf(n),t.context===null?t.context=n:t.pendingContext=n,t=Ht(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cn(o,t,i),e!==null&&(wt(e,o,i,l),ei(e,o,i)),i}function ji(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Da(e,t){oc(e,t),(e=e.alternate)&&oc(e,t)}function yg(){return null}var Ff=typeof reportError=="function"?reportError:function(e){console.error(e)};function ja(e){this._internalRoot=e}Ki.prototype.render=ja.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Wi(e,t,null,null)};Ki.prototype.unmount=ja.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ln(function(){Wi(null,e,null,null)}),t[Vt]=null}};function Ki(e){this._internalRoot=e}Ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=hd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&vd(e)}};function Ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ic(){}function Sg(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var u=ji(i);l.call(u)}}var i=Of(t,r,e,0,null,!1,!1,"",ic);return e._reactRootContainer=i,e[Vt]=i.current,so(e.nodeType===8?e.parentNode:e),Ln(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var u=ji(a);s.call(u)}}var a=Aa(e,0,!1,null,null,!1,!1,"",ic);return e._reactRootContainer=a,e[Vt]=a.current,so(e.nodeType===8?e.parentNode:e),Ln(function(){Wi(t,a,n,r)}),a}function Yi(e,t,n,r,o){var l=n._reactRootContainer;if(l){var i=l;if(typeof o=="function"){var s=o;o=function(){var a=ji(i);s.call(a)}}Wi(t,i,e,o)}else i=Sg(n,t,e,o,r);return ji(i)}md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zr(t.pendingLanes);n!==0&&(Zs(t,n|1),et(t,_e()),!(q&6)&&(hr=_e()+500,Mn()))}break;case 13:Ln(function(){var r=Ut(e,1);if(r!==null){var o=Ue();wt(r,e,1,o)}}),Da(e,1)}};ea=function(e){if(e.tag===13){var t=Ut(e,134217728);if(t!==null){var n=Ue();wt(t,e,134217728,n)}Da(e,134217728)}};pd=function(e){if(e.tag===13){var t=fn(e),n=Ut(e,t);if(n!==null){var r=Ue();wt(n,e,t,r)}Da(e,t)}};hd=function(){return oe};gd=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};os=function(e,t,n){switch(t){case"input":if(Jl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Fi(r);if(!o)throw Error(I(90));Kc(r),Jl(r,o)}}}break;case"textarea":Yc(e,n);break;case"select":t=n.value,t!=null&&rr(e,!!n.multiple,t,!1)}};nd=Ia;rd=Ln;var Mg={usingClientEntryPoint:!1,Events:[Po,Xn,Fi,ed,td,Ia]},Fr={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pg={bundleType:Fr.bundleType,version:Fr.version,rendererPackageName:Fr.rendererPackageName,rendererConfig:Fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ld(e),e===null?null:e.stateNode},findFiberByHostInstance:Fr.findFiberByHostInstance||yg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ko.isDisabled&&Ko.supportsFiber)try{$i=Ko.inject(Pg),Dt=Ko}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mg;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ra(t))throw Error(I(200));return vg(e,t,null,n)};st.createRoot=function(e,t){if(!Ra(e))throw Error(I(299));var n=!1,r="",o=Ff;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Aa(e,1,!1,null,null,n,!1,r,o),e[Vt]=t.current,so(e.nodeType===8?e.parentNode:e),new ja(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=ld(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return Ln(e)};st.hydrate=function(e,t,n){if(!Qi(t))throw Error(I(200));return Yi(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!Ra(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",i=Ff;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Of(t,null,e,1,n??null,o,!1,l,i),e[Vt]=t.current,so(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ki(t)};st.render=function(e,t,n){if(!Qi(t))throw Error(I(200));return Yi(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!Qi(e))throw Error(I(40));return e._reactRootContainer?(Ln(function(){Yi(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};st.unstable_batchedUpdates=Ia;st.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qi(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Yi(e,t,n,!1,r)};st.version="18.3.1-next-f1338f8080-20240426";function Bf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bf)}catch(e){console.error(e)}}Bf(),Fc.exports=st;var Eg=Fc.exports,lc=Eg;Ul.createRoot=lc.createRoot,Ul.hydrateRoot=lc.hydrateRoot;function Xi(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function Ji(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"}var Hf=[0,2,4,-1,1,3,5],zf=Hf.map(e=>Math.floor(e*7/12));function $a(e){const{step:t,alt:n,oct:r,dir:o=1}=e,l=Hf[t]+7*n;if(r===void 0)return[o*l];const i=r-zf[t]-4*n;return[o*l,o*i]}var xg=[3,0,4,1,5,2,6];function Vf(e){const[t,n,r]=e,o=xg[_g(t)],l=Math.floor((t+1)/7);if(n===void 0)return{step:o,alt:l,dir:r};const i=n+4*l+zf[o];return{step:o,alt:l,oct:i,dir:r}}function _g(e){const t=(e+1)%7;return t<0?7+t:t}var sc=(e,t)=>Array(Math.abs(t)+1).join(e),bs={empty:!0,name:"",acc:""},wg="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",kg="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Ig=new RegExp("^"+wg+"|"+kg+"$");function Cg(e){const t=Ig.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var ac={};function gr(e){return typeof e=="string"?ac[e]||(ac[e]=Ng(e)):Ji(e)?gr(Dg(e)):Xi(e)?gr(e.name):bs}var uc=[0,2,4,5,7,9,11],Uf="PMMPPMM";function Ng(e){const t=Cg(e);if(t[0]==="")return bs;const n=+t[0],r=t[1],o=(Math.abs(n)-1)%7,l=Uf[o];if(l==="M"&&r==="P")return bs;const i=l==="M"?"majorable":"perfectable",s=""+n+r,a=n<0?-1:1,u=n===8||n===-8?n:a*(o+1),d=Ag(i,r),p=Math.floor((Math.abs(n)-1)/7),m=a*(uc[o]+d+12*p),v=(a*(uc[o]+d)%12+12)%12,y=$a({step:o,alt:d,oct:p,dir:a});return{empty:!1,name:s,num:n,q:r,step:o,alt:d,dir:a,type:i,simple:u,semitones:m,chroma:v,coord:y,oct:p}}function Tg(e,t){const[n,r=0]=e,o=n*7+r*12<0,l=t||o?[-n,-r,-1]:[n,r,1];return gr(Vf(l))}function Ag(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function Dg(e){const{step:t,alt:n,oct:r=0,dir:o}=e;if(!o)return"";const l=t+1+7*r,i=l===0?t+1:l,s=o<0?"-":"",a=Uf[t]==="M"?"majorable":"perfectable";return s+i+jg(a,n)}function jg(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?sc("A",t):sc("d",e==="perfectable"?t:t+1)}var cc=(e,t)=>Array(Math.abs(t)+1).join(e),Gf={empty:!0,name:"",pc:"",acc:""},dc=new Map,Rg=e=>"CDEFGAB".charAt(e),$g=e=>e<0?cc("b",-e):cc("#",e),Lg=e=>e[0]==="b"?-e.length:e.length;function vr(e){const t=JSON.stringify(e),n=dc.get(t);if(n)return n;const r=typeof e=="string"?Hg(e):Ji(e)?vr(zg(e)):Xi(e)?vr(e.name):Gf;return dc.set(t,r),r}var bg=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Og(e){const t=bg.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function Fg(e){return vr(Vf(e))}var Bg=(e,t)=>(e%t+t)%t,bl=[0,2,4,5,7,9,11];function Hg(e){const t=Og(e);if(t[0]===""||t[3]!=="")return Gf;const n=t[0],r=t[1],o=t[2],l=(n.charCodeAt(0)+3)%7,i=Lg(r),s=o.length?+o:void 0,a=$a({step:l,alt:i,oct:s}),u=n+r+o,d=n+r,p=(bl[l]+i+120)%12,m=s===void 0?Bg(bl[l]+i,12)-12*99:bl[l]+i+12*(s+1),v=m>=0&&m<=127?m:null,y=s===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:r,alt:i,chroma:p,coord:a,freq:y,height:m,letter:n,midi:v,name:u,oct:s,pc:d,step:l}}function zg(e){const{step:t,alt:n,oct:r}=e,o=Rg(t);if(!o)return"";const l=o+$g(n);return r||r===0?l+r:l}function gn(e,t){const n=vr(e),r=Array.isArray(t)?t:gr(t).coord;if(n.empty||!r||r.length<2)return"";const o=n.coord,l=o.length===1?[o[0]+r[0]]:[o[0]+r[0],o[1]+r[1]];return Fg(l).name}function qi(e,t){const n=e.length;return r=>{if(!t)return"";const o=r<0?(n- -r%n)%n:r%n,l=Math.floor(r/n),i=gn(t,[0,l]);return gn(i,e[o])}}function Vg(e,t){const n=vr(e),r=vr(t);if(n.empty||r.empty)return"";const o=n.coord,l=r.coord,i=l[0]-o[0],s=o.length===2&&l.length===2?l[1]-o[1]:-Math.floor(i*7/12),a=r.height===n.height&&r.midi!==null&&n.midi!==null&&n.step>r.step;return Tg([i,s],a).name}var fc=(e,t)=>Array(Math.abs(t)+1).join(e),Wf={empty:!0,name:"",pc:"",acc:""},mc=new Map,Ug=e=>"CDEFGAB".charAt(e),Kf=e=>e<0?fc("b",-e):fc("#",e),Qf=e=>e[0]==="b"?-e.length:e.length;function xe(e){const t=JSON.stringify(e),n=mc.get(t);if(n)return n;const r=typeof e=="string"?Kg(e):Ji(e)?xe(Qg(e)):Xi(e)?xe(e.name):Wf;return mc.set(t,r),r}var Gg=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Yf(e){const t=Gg.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}var Wg=(e,t)=>(e%t+t)%t,Ol=[0,2,4,5,7,9,11];function Kg(e){const t=Yf(e);if(t[0]===""||t[3]!=="")return Wf;const n=t[0],r=t[1],o=t[2],l=(n.charCodeAt(0)+3)%7,i=Qf(r),s=o.length?+o:void 0,a=$a({step:l,alt:i,oct:s}),u=n+r+o,d=n+r,p=(Ol[l]+i+120)%12,m=s===void 0?Wg(Ol[l]+i,12)-12*99:Ol[l]+i+12*(s+1),v=m>=0&&m<=127?m:null,y=s===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:r,alt:i,chroma:p,coord:a,freq:y,height:m,letter:n,midi:v,name:u,oct:s,pc:d,step:l}}function Qg(e){const{step:t,alt:n,oct:r}=e,o=Ug(t);if(!o)return"";const l=o+Kf(n);return r||r===0?l+r:l}function Pn(e,t,n){return function(...r){return console.warn(`${e} is deprecated. Use ${t}.`),n.apply(this,r)}}var Yg=Pn("isNamed","isNamedPitch",Xi);function Xg(e,t){const n=[];for(;t--;n[t]=t+e);return n}function Jg(e,t){const n=[];for(;t--;n[t]=e-t);return n}function qg(e,t){return e<t?Xg(e,t-e+1):Jg(e,e-t+1)}function xo(e,t){const n=t.length,r=(e%n+n)%n;return t.slice(r,n).concat(t.slice(0,r))}function Zg(e){return e.filter(t=>t===0||t)}var vn={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Xf=e=>Number(e).toString(2).padStart(12,"0"),pc=e=>parseInt(e,2),e1=/^[01]{12}$/;function La(e){return e1.test(e)}var t1=e=>typeof e=="number"&&e>=0&&e<=4095,n1=e=>e&&La(e.chroma),hc={[vn.chroma]:vn};function Wt(e){const t=La(e)?e:t1(e)?Xf(e):Array.isArray(e)?a1(e):n1(e)?e.chroma:vn.chroma;return hc[t]=hc[t]||s1(t)}var r1=e=>Wt(e).chroma,o1=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function i1(e){const t=[];for(let n=0;n<12;n++)e.charAt(n)==="1"&&t.push(o1[n]);return t}function Jf(e,t=!0){const r=Wt(e).chroma.split("");return Zg(r.map((o,l)=>{const i=xo(l,r);return t&&i[0]==="0"?null:i.join("")}))}function ba(e){const t=Wt(e).setNum;return n=>{const r=Wt(n).setNum;return t&&t!==r&&(r&t)===r}}function Oa(e){const t=Wt(e).setNum;return n=>{const r=Wt(n).setNum;return t&&t!==r&&(r|t)===r}}function l1(e){const t=e.split("");return t.map((n,r)=>xo(r,t).join(""))}function s1(e){const t=pc(e),n=l1(e).map(pc).filter(l=>l>=2048).sort()[0],r=Xf(n),o=i1(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:r,intervals:o}}function a1(e){if(e.length===0)return vn.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r++)t=xe(e[r]),t.empty&&(t=gr(e[r])),t.empty||(n[t.chroma]=1);return n.join("")}var u1=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],c1=u1;({...vn});var Fa=[],si={};function qf(){return Fa.slice()}function d1(e,t,n){const r=m1(e),o={...Wt(e),name:n||"",quality:r,intervals:e,aliases:t};Fa.push(o),o.name&&(si[o.name]=o),si[o.setNum]=o,si[o.chroma]=o,o.aliases.forEach(l=>f1(o,l))}function f1(e,t){si[t]=e}function m1(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}c1.forEach(([e,t,n])=>d1(e.split(" "),n.split(" "),t));Fa.sort((e,t)=>e.setNum-t.setNum);var p1=e=>{const t=e.reduce((n,r)=>{const o=xe(r).chroma;return o!==void 0&&(n[o]=n[o]||xe(r).name),n},{});return n=>t[n]};function h1(e,t={}){const n=e.map(o=>xe(o).pc).filter(o=>o);return xe.length===0?[]:E1(n,1,t).filter(o=>o.weight).sort((o,l)=>l.weight-o.weight).map(o=>o.name)}var Zi={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},el=e=>t=>!!(t&e),g1=el(Zi.anyThirds),v1=el(Zi.perfectFifth),y1=el(Zi.anySeventh),S1=el(Zi.nonPerfectFifths);function M1(e){const t=parseInt(e.chroma,2);return g1(t)&&v1(t)&&y1(t)}function P1(e){const t=parseInt(e,2);return S1(t)?e:(t|16).toString(2)}function E1(e,t,n){const r=e[0],o=xe(r).chroma,l=p1(e),i=Jf(e,!1),s=[];return i.forEach((a,u)=>{const d=n.assumePerfectFifth&&P1(a);qf().filter(m=>n.assumePerfectFifth&&M1(m)?m.chroma===d:m.chroma===a).forEach(m=>{const v=m.aliases[0],y=l(u);u!==o?s.push({weight:.5*t,name:`${y}${v}/${r}`}):s.push({weight:1*t,name:`${y}${v}`})})}),s}var x1=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],_1=x1,w1={...vn,name:"",quality:"Unknown",intervals:[],aliases:[]},Pr=[],Tn={};function Ba(e){return Tn[e]||w1}var k1=Pn("ChordType.chordType","ChordType.get",Ba);function I1(){return Pr.map(e=>e.name).filter(e=>e)}function C1(){return Pr.map(e=>e.aliases[0]).filter(e=>e)}function N1(){return Object.keys(Tn)}function tl(){return Pr.slice()}var T1=Pn("ChordType.entries","ChordType.all",tl);function A1(){Pr=[],Tn={}}function Zf(e,t,n){const r=j1(e),o={...Wt(e),name:n||"",quality:r,intervals:e,aliases:t};Pr.push(o),o.name&&(Tn[o.name]=o),Tn[o.setNum]=o,Tn[o.chroma]=o,o.aliases.forEach(l=>D1(o,l))}function D1(e,t){Tn[t]=e}function j1(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}_1.forEach(([e,t,n])=>Zf(e.split(" "),n.split(" "),t));Pr.sort((e,t)=>e.setNum-t.setNum);var R1={names:I1,symbols:C1,get:Ba,all:tl,add:Zf,removeAll:A1,keys:N1,entries:T1,chordType:k1},$1=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],L1=$1,b1={...vn,intervals:[],aliases:[]},nl=[],An={};function em(){return nl.map(e=>e.name)}function rl(e){return An[e]||b1}var O1=Pn("ScaleDictionary.scaleType","ScaleType.get",rl);function Er(){return nl.slice()}var F1=Pn("ScaleDictionary.entries","ScaleType.all",Er);function B1(){return Object.keys(An)}function H1(){nl=[],An={}}function tm(e,t,n=[]){const r={...Wt(e),name:t,intervals:e,aliases:n};return nl.push(r),An[r.name]=r,An[r.setNum]=r,An[r.chroma]=r,r.aliases.forEach(o=>z1(r,o)),r}function z1(e,t){An[t]=e}L1.forEach(([e,t,...n])=>tm(e.split(" "),t,n));var V1={names:em,get:rl,all:Er,add:tm,removeAll:H1,keys:B1,entries:F1,scaleType:O1},Os={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Ha(e){const[t,n,r,o]=Yf(e);return t===""?["",e]:t==="A"&&o==="ug"?["","aug"]:[t+n,r+o]}function Fn(e){if(e==="")return Os;if(Array.isArray(e)&&e.length===2)return ai(e[1],e[0]);{const[t,n]=Ha(e),r=ai(n,t);return r.empty?ai(e):r}}function ai(e,t,n){const r=Ba(e),o=xe(t||""),l=xe(n||"");if(r.empty||t&&o.empty||n&&l.empty)return Os;const i=Vg(o.pc,l.pc),s=r.intervals.indexOf(i)+1;if(!l.empty&&!s)return Os;const a=Array.from(r.intervals);for(let m=1;m<s;m++){const v=a[0][0],y=a[0][1],P=parseInt(v,10)+7;a.push(`${P}${y}`),a.shift()}const u=o.empty?[]:a.map(m=>gn(o,m));e=r.aliases.indexOf(e)!==-1?e:r.aliases[0];const d=`${o.empty?"":o.pc}${e}${l.empty||s<=1?"":"/"+l.pc}`,p=`${t?o.pc+" ":""}${r.name}${s>1&&n?" over "+l.pc:""}`;return{...r,name:p,symbol:d,type:r.name,root:l.name,intervals:a,rootDegree:s,tonic:o.name,notes:u}}var U1=Pn("Chord.chord","Chord.get",Fn);function G1(e,t){const[n,r]=Ha(e);return n?gn(n,t)+r:e}function W1(e){const t=Fn(e),n=Oa(t.chroma);return Er().filter(r=>n(r.chroma)).map(r=>r.name)}function K1(e){const t=Fn(e),n=Oa(t.chroma);return tl().filter(r=>n(r.chroma)).map(r=>t.tonic+r.aliases[0])}function Q1(e){const t=Fn(e),n=ba(t.chroma);return tl().filter(r=>n(r.chroma)).map(r=>t.tonic+r.aliases[0])}function Y1(e){const{intervals:t,tonic:n}=Fn(e),r=qi(t,n);return o=>o?r(o>0?o-1:o):""}function X1(e){const{intervals:t,tonic:n}=Fn(e);return qi(t,n)}var Ve={getChord:ai,get:Fn,detect:h1,chordScales:W1,extended:K1,reduced:Q1,tokenize:Ha,transpose:G1,degrees:Y1,steps:X1,chord:U1},J1=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],q1=J1;q1.forEach(([e,t,n])=>void 0);var Z1=Math.log(2),ev=Math.log(440);function nm(e){const t=12*(Math.log(e)-ev)/Z1+69;return Math.round(t*100)/100}var tv="C C# D D# E F F# G G# A A# B".split(" "),nv="C Db D Eb E F Gb G Ab A Bb B".split(" ");function xr(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const r=(t.sharps===!0?tv:nv)[e%12];if(t.pitchClass)return r;const o=Math.floor(e/12)-1;return r+o}var rv=["C","D","E","F","G","A","B"],rm=e=>e.name,om=e=>e.map(xe).filter(t=>!t.empty);function ov(e){return e===void 0?rv.slice():Array.isArray(e)?om(e).map(rm):[]}var It=xe,iv=e=>It(e).name,lv=e=>It(e).pc,sv=e=>It(e).acc,av=e=>It(e).oct,uv=e=>It(e).midi,cv=e=>It(e).freq,dv=e=>It(e).chroma;function im(e){return xr(e)}function fv(e){return xr(nm(e))}function mv(e){return xr(nm(e),{sharps:!0})}function pv(e){return xr(e,{sharps:!0})}var _o=gn,hv=gn,lm=e=>t=>_o(t,e),gv=lm,sm=e=>t=>_o(e,t),vv=sm;function am(e,t){return _o(e,[t,0])}var yv=am;function Sv(e,t){return _o(e,[0,t])}var za=(e,t)=>e.height-t.height,Mv=(e,t)=>t.height-e.height;function um(e,t){return t=t||za,om(e).sort(t).map(rm)}function cm(e){return um(e,za).filter((t,n,r)=>n===0||t!==r[n-1])}var Pv=e=>{const t=It(e);return t.empty?"":xr(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:t.midi===null})};function dm(e,t){const n=It(e);if(n.empty)return"";const r=It(t||xr(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(n.oct===void 0)return r.pc;const o=n.chroma-n.alt,l=r.chroma-r.alt,i=o>11||l<0?-1:o<0||l>11?1:0,s=n.oct+i;return r.pc+s}var V={names:ov,get:It,name:iv,pitchClass:lv,accidentals:sv,octave:av,midi:uv,ascending:za,descending:Mv,sortedNames:um,sortedUniqNames:cm,fromMidi:im,fromMidiSharps:pv,freq:cv,fromFreq:fv,fromFreqSharps:mv,chroma:dv,transpose:_o,tr:hv,transposeBy:lm,trBy:gv,transposeFrom:sm,trFrom:vv,transposeFifths:am,transposeOctaves:Sv,trFifths:yv,simplify:Pv,enharmonic:dm},fm={empty:!0,name:"",chordType:""},gc={};function vo(e){return typeof e=="string"?gc[e]||(gc[e]=Cv(e)):typeof e=="number"?vo(ol[e]||""):Ji(e)?_v(e):Yg(e)?vo(e.name):fm}var Ev=Pn("RomanNumeral.romanNumeral","RomanNumeral.get",vo);function xv(e=!0){return(e?ol:Iv).slice()}function _v(e){return vo(Kf(e.alt)+ol[e.step])}var wv=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function kv(e){return wv.exec(e)||["","","",""]}var mm="I II III IV V VI VII",ol=mm.split(" "),Iv=mm.toLowerCase().split(" ");function Cv(e){const[t,n,r,o]=kv(e);if(!r)return fm;const l=r.toUpperCase(),i=ol.indexOf(l),s=Qf(n),a=1;return{empty:!1,name:t,roman:r,interval:gr({step:i,alt:s,dir:a}).name,acc:n,chordType:o,alt:s,step:i,major:r===l,oct:0,dir:a}}var Nv={names:xv,get:vo,romanNumeral:Ev},Va=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],vc={...vn,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},Tv=Va.map(Av),Fs={};Tv.forEach(e=>{Fs[e.name]=e,e.aliases.forEach(t=>{Fs[t]=e})});function pm(e){return typeof e=="string"?Fs[e.toLowerCase()]||vc:e&&e.name?pm(e.name):vc}function Av(e){const[t,n,r,o,l,i,s]=e,a=s?[s]:[],u=Number(n).toString(2);return{empty:!1,intervals:rl(o).intervals,modeNum:t,chroma:u,normalized:u,name:o,setNum:n,alt:r,triad:l,seventh:i,aliases:a}}function hm(e){return(t,n)=>{const r=pm(t);if(r.empty)return[];const o=xo(r.modeNum,e),l=r.intervals.map(i=>gn(n,i));return o.map((i,s)=>l[s]+i)}}hm(Va.map(e=>e[4]));hm(Va.map(e=>e[5]));var Dv={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function gm(e){if(typeof e!="string")return["",""];const t=e.indexOf(" "),n=xe(e.substring(0,t));if(n.empty){const o=xe(e);return o.empty?["",e]:[o.name,""]}const r=e.substring(n.name.length+1);return[n.name,r.length?r:""]}var jv=em;function Rt(e){const t=Array.isArray(e)?e:gm(e),n=xe(t[0]).name,r=rl(t[1]);if(r.empty)return Dv;const o=r.name,l=n?r.intervals.map(s=>gn(n,s)):[],i=n?n+" "+o:o;return{...r,name:i,type:o,tonic:n,notes:l}}var Rv=Pn("Scale.scale","Scale.get",Rt);function $v(e,t={}){const n=r1(e),r=xe(t.tonic??e[0]??""),o=r.chroma;if(o===void 0)return[];const l=n.split("");l[o]="1";const i=xo(o,l).join(""),s=Er().find(u=>u.chroma===i),a=[];return s&&a.push(r.name+" "+s.name),t.match==="exact"||vm(i).forEach(u=>{a.push(r.name+" "+u)}),a}function Lv(e){const t=Rt(e),n=ba(t.chroma);return qf().filter(r=>n(r.chroma)).map(r=>r.aliases[0])}function vm(e){const t=La(e)?e:Rt(e).chroma,n=Oa(t);return Er().filter(r=>n(r.chroma)).map(r=>r.name)}function bv(e){const t=ba(Rt(e).chroma);return Er().filter(n=>t(n.chroma)).map(n=>n.name)}function ym(e){const t=e.map(o=>xe(o).pc).filter(o=>o),n=t[0],r=cm(t);return xo(r.indexOf(n),r)}function Ov(e){const t=Rt(e);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return Jf(t.chroma).map((r,o)=>{const l=Rt(r).name;return l?[n[o],l]:["",""]}).filter(r=>r[0])}function Fv(e){const t=Array.isArray(e)?ym(e):Rt(e).notes,n=t.map(r=>xe(r).chroma);return r=>{const o=xe(typeof r=="number"?im(r):r),l=o.height;if(l===void 0)return;const i=l%12,s=n.indexOf(i);if(s!==-1)return dm(o.name,t[s])}}function Bv(e){const t=Fv(e);return(n,r)=>{const o=xe(n).height,l=xe(r).height;return o===void 0||l===void 0?[]:qg(o,l).map(t).filter(i=>i)}}function Hv(e){const{intervals:t,tonic:n}=Rt(e),r=qi(t,n);return o=>o?r(o>0?o-1:o):""}function zv(e){const{intervals:t,tonic:n}=Rt(e);return qi(t,n)}var Ot={degrees:Hv,detect:$v,extended:vm,get:Rt,modeNames:Ov,names:jv,rangeOf:Bv,reduced:bv,scaleChords:Lv,scaleNotes:ym,steps:zv,tokenize:gm,scale:Rv};const Sm={0:{name:"Piano",programs:[{pc:0,name:"Acoustic Grand Piano"},{pc:1,name:"Bright Acoustic Piano"},{pc:2,name:"Electric Grand Piano"},{pc:3,name:"Honky-tonk Piano"},{pc:4,name:"Electric Piano 1"},{pc:5,name:"Electric Piano 2"},{pc:6,name:"Harpsichord"},{pc:7,name:"Clavi"}]},8:{name:"Chromatic Percussion",programs:[{pc:8,name:"Celesta"},{pc:9,name:"Glockenspiel"},{pc:10,name:"Music Box"},{pc:11,name:"Vibraphone"},{pc:12,name:"Marimba"},{pc:13,name:"Xylophone"},{pc:14,name:"Tubular Bells"},{pc:15,name:"Dulcimer"}]},16:{name:"Organ",programs:[{pc:16,name:"Drawbar Organ"},{pc:17,name:"Percussive Organ"},{pc:18,name:"Rock Organ"},{pc:19,name:"Church Organ"},{pc:20,name:"Reed Organ"},{pc:21,name:"Accordion"},{pc:22,name:"Harmonica"},{pc:23,name:"Tango Accordion"}]},24:{name:"Guitar",programs:[{pc:24,name:"Acoustic Guitar (nylon)"},{pc:25,name:"Acoustic Guitar (steel)"},{pc:26,name:"Electric Guitar (jazz)"},{pc:27,name:"Electric Guitar (clean)"},{pc:28,name:"Electric Guitar (muted)"},{pc:29,name:"Overdriven Guitar"},{pc:30,name:"Distortion Guitar"},{pc:31,name:"Guitar harmonics"}]},32:{name:"Bass",programs:[{pc:32,name:"Acoustic Bass"},{pc:33,name:"Electric Bass (finger)"},{pc:34,name:"Electric Bass (pick)"},{pc:35,name:"Fretless Bass"},{pc:36,name:"Slap Bass 1"},{pc:37,name:"Slap Bass 2"},{pc:38,name:"Synth Bass 1"},{pc:39,name:"Synth Bass 2"}]},40:{name:"Strings",programs:[{pc:40,name:"Violin"},{pc:41,name:"Viola"},{pc:42,name:"Cello"},{pc:43,name:"Contrabass"},{pc:44,name:"Tremolo Strings"},{pc:45,name:"Pizzicato Strings"},{pc:46,name:"Orchestral Harp"},{pc:47,name:"Timpani"}]},48:{name:"Ensemble",programs:[{pc:48,name:"String Ensemble 1"},{pc:49,name:"String Ensemble 2"},{pc:50,name:"SynthStrings 1"},{pc:51,name:"SynthStrings 2"},{pc:52,name:"Choir Aahs"},{pc:53,name:"Voice Oohs"},{pc:54,name:"Synth Voice"},{pc:55,name:"Orchestra Hit"}]},56:{name:"Brass",programs:[{pc:56,name:"Trumpet"},{pc:57,name:"Trombone"},{pc:58,name:"Tuba"},{pc:59,name:"Muted Trumpet"},{pc:60,name:"French Horn"},{pc:61,name:"Brass Section"},{pc:62,name:"SynthBrass 1"},{pc:63,name:"SynthBrass 2"}]},64:{name:"Reed",programs:[{pc:64,name:"Soprano Sax"},{pc:65,name:"Alto Sax"},{pc:66,name:"Tenor Sax"},{pc:67,name:"Baritone Sax"},{pc:68,name:"Oboe"},{pc:69,name:"English Horn"},{pc:70,name:"Bassoon"},{pc:71,name:"Clarinet"}]},72:{name:"Pipe",programs:[{pc:72,name:"Piccolo"},{pc:73,name:"Flute"},{pc:74,name:"Recorder"},{pc:75,name:"Pan Flute"},{pc:76,name:"Blown Bottle"},{pc:77,name:"Shakuhachi"},{pc:78,name:"Whistle"},{pc:79,name:"Ocarina"}]},80:{name:"Synth Lead",programs:[{pc:80,name:"Lead 1 (square)"},{pc:81,name:"Lead 2 (sawtooth)"},{pc:82,name:"Lead 3 (calliope)"},{pc:83,name:"Lead 4 (chiff)"},{pc:84,name:"Lead 5 (charang)"},{pc:85,name:"Lead 6 (voice)"},{pc:86,name:"Lead 7 (fifths)"},{pc:87,name:"Lead 8 (bass + lead)"}]},88:{name:"Synth Pad",programs:[{pc:88,name:"Pad 1 (new age)"},{pc:89,name:"Pad 2 (warm)"},{pc:90,name:"Pad 3 (polysynth)"},{pc:91,name:"Pad 4 (choir)"},{pc:92,name:"Pad 5 (bowed)"},{pc:93,name:"Pad 6 (metallic)"},{pc:94,name:"Pad 7 (halo)"},{pc:95,name:"Pad 8 (sweep)"}]},96:{name:"Synth Effects",programs:[{pc:96,name:"FX 1 (rain)"},{pc:97,name:"FX 2 (soundtrack)"},{pc:98,name:"FX 3 (crystal)"},{pc:99,name:"FX 4 (atmosphere)"},{pc:100,name:"FX 5 (brightness)"},{pc:101,name:"FX 6 (goblins)"},{pc:102,name:"FX 7 (echoes)"},{pc:103,name:"FX 8 (sci-fi)"}]},104:{name:"Ethnic",programs:[{pc:104,name:"Sitar"},{pc:105,name:"Banjo"},{pc:106,name:"Shamisen"},{pc:107,name:"Koto"},{pc:108,name:"Kalimba"},{pc:109,name:"Bag pipe"},{pc:110,name:"Fiddle"},{pc:111,name:"Shanai"}]},112:{name:"Percussive",programs:[{pc:112,name:"Tinkle Bell"},{pc:113,name:"Agogo"},{pc:114,name:"Steel Drums"},{pc:115,name:"Woodblock"},{pc:116,name:"Taiko Drum"},{pc:117,name:"Melodic Tom"},{pc:118,name:"Synth Drum"},{pc:119,name:"Reverse Cymbal"}]},120:{name:"Sound Effects",programs:[{pc:120,name:"Guitar Fret Noise"},{pc:121,name:"Breath Noise"},{pc:122,name:"Seashore"},{pc:123,name:"Bird Tweet"},{pc:124,name:"Telephone Ring"},{pc:125,name:"Helicopter"},{pc:126,name:"Applause"},{pc:127,name:"Gunshot"}]}},Mm={0:{name:"Standard Kits",programs:[{pc:0,name:"Standard Kit"},{pc:8,name:"Room Kit"},{pc:16,name:"Power Kit"},{pc:24,name:"Electronic Kit"},{pc:25,name:"TR-808 Kit"},{pc:32,name:"Jazz Kit"},{pc:40,name:"Brush Kit"},{pc:48,name:"Orchestra Kit"},{pc:56,name:"SFX Kit"}]}},Vv=e=>e===10?Object.entries(Mm).map(([t,n])=>({lsb:parseInt(t),name:n.name||`Drum Bank ${t}`})):Object.entries(Sm).map(([t,n])=>({lsb:parseInt(t),name:n.name||`Bank ${t}`})),yc=(e,t)=>{var n,r;return e===10?((n=Mm[t])==null?void 0:n.programs)||[]:((r=Sm[t])==null?void 0:r.programs)||[]};function Uv(e){const{selectedOutputId:t,sendMidiMessage:n}=e,[r,o]=w.useState(1),[l,i]=w.useState([]),[s,a]=w.useState(0),[u,d]=w.useState([]),[p,m]=w.useState(0);w.useEffect(()=>{const c=Vv(r);if(i(c),c.length>0){a(c[0].lsb);const f=yc(r,c[0].lsb);d(f),f.length>0?m(f[0].pc):m(0)}else a(0),d([]),m(0)},[r]),w.useEffect(()=>{const c=yc(r,s);d(c),c.length>0?m(c[0].pc):m(0)},[s,r]);const v=()=>{if(!t||!n){console.warn("GM2 Send: No MIDI Output selected or send function missing.");return}console.log(`Sending GM2 Sound Select - Channel: ${r}, Bank LSB: ${s}, Program: ${p}`);const c=r-1,f=r===10?120:121;n([176+c,0,f]),n([176+c,32,s]),n([192+c,p])},y=c=>{a(parseInt(c.target.value,10))},P=c=>{m(parseInt(c.target.value,10))},j=c=>{o(parseInt(c.target.value,10))};return g.jsxs("div",{style:{border:"1px dashed green",padding:"10px",marginTop:"10px"},children:[g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"gm2-channel",style:{marginRight:"5px"},children:"MIDI Channel:"}),g.jsx("select",{id:"gm2-channel",value:r,onChange:j,children:[...Array(16).keys()].map(c=>g.jsxs("option",{value:c+1,children:[c+1,c+1===10?" (Drums)":""]},c+1))})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"gm2-bank",style:{marginRight:"5px"},children:r===10?"Drum Bank:":"Sound Bank:"}),g.jsx("select",{id:"gm2-bank",value:s,onChange:y,disabled:l.length===0,children:l.map(c=>g.jsxs("option",{value:c.lsb,children:[c.name," (LSB: ",c.lsb,")"]},c.lsb))})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"gm2-program",style:{marginRight:"5px"},children:r===10?"Drum Kit:":"Sound:"}),g.jsx("select",{id:"gm2-program",value:p,onChange:P,disabled:u.length===0,children:u.map(c=>g.jsxs("option",{value:c.pc,children:[c.name," (PC: ",c.pc+1,") "]},c.pc))})]}),g.jsxs("button",{onClick:v,disabled:!t,children:["Set Sound on Channel ",r]}),!t&&g.jsx("p",{style:{fontSize:"0.8em",marginTop:"5px",color:"grey"},children:"(Select MIDI Output in Setup tab to enable)"})]})}const Sc=[{id:"setup",label:"Setup"},{id:"metronome",label:"Metronome"},{id:"backingTrack",label:"Backing Track"},{id:"gm2Sounds",label:"GM2 Sounds"}];function Gv({modes:e,currentMode:t,onModeChange:n,rootNotes:r,octaves:o,scaleTypes:l,chordTypes:i,selectedRootNote:s,selectedOctave:a,selectedScaleType:u,selectedChordType:d,onRootChange:p,onOctaveChange:m,onScaleChange:v,onChordChange:y,diatonicTriads:P=[],diatonicSevenths:j=[],selectedDiatonicDegree:c,showSevenths:f,splitHandVoicing:h,rhInversion:S,inversions:_,onDiatonicDegreeChange:A,onShowSeventhsChange:M,onSplitHandVoicingChange:x,onRhInversionChange:L,splitHandInterval:N,onSplitHandIntervalChange:B,midiInputs:Y=[],midiOutputs:z=[],selectedInputId:re,selectedOutputId:Z,onSelectInput:H,onSelectOutput:K,isMidiInitialized:E,isMetronomePlaying:T,metronomeBpm:D,metronomeSoundNote:$,metronomeSounds:O,metronomeTimeSignature:F,onToggleMetronome:ae,onChangeMetronomeTempo:W,onChangeMetronomeSound:ee,onChangeMetronomeTimeSignature:ie,playbackState:te,loadedMidiFileName:Pe,availableMidiFiles:Ke=[],onLoadMidiFile:tt,onPlayMidiFile:Bn,onPauseMidiFile:_r,onStopMidiFile:En,style:Hn,sendMidiMessage:de,availableProgressions:wr=[],selectedProgressionId:ut,onProgressionChange:ct,voicingSplitHand:Qe,voicingLhOctaveOffset:vt,voicingRhRootless:kr,onVoicingSplitHandChange:wo,onVoicingLhOffsetChange:zn,onVoicingRhRootlessChange:Ir,voicingUseShell:ko,voicingAddOctaveRoot:Io,onVoicingUseShellChange:Co,onVoicingAddOctaveRootChange:No}){var To;const[$t,il]=w.useState(Sc[0].id);w.useEffect(()=>{},[te,Pe]);const Cr=k=>{H(k.target.value||null)},ll=k=>{K(k.target.value||null)},sl=k=>["I","II","III","IV","V","VI","VII"][k]||"?";return g.jsxs("div",{style:{border:"1px solid blue",padding:"10px",marginBottom:"10px"},children:[g.jsx("h2",{children:"Controls"}),g.jsx("div",{style:{display:"flex",borderBottom:"1px solid #ccc",marginBottom:"15px"},children:Sc.map(k=>g.jsx("button",{onClick:()=>il(k.id),style:{padding:"8px 12px",border:"none",borderBottom:$t===k.id?"3px solid blue":"3px solid transparent",background:"none",cursor:"pointer",fontWeight:$t===k.id?"bold":"normal"},children:k.label},k.id))}),g.jsxs("div",{children:[$t==="setup"&&g.jsxs("div",{children:[g.jsxs("div",{style:{marginBottom:"15px"},children:[g.jsx("label",{htmlFor:"mode-select",children:"Mode: "}),g.jsx("select",{id:"mode-select",value:t,onChange:k=>n(k.target.value),children:e&&e.map(k=>g.jsx("option",{value:k.value,children:k.label},k.value))})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{children:"Root: "}),g.jsx("select",{value:s,onChange:k=>p(k.target.value),children:Array.isArray(r)&&r.map(k=>g.jsx("option",{value:k,children:k},k))}),g.jsx("label",{style:{marginLeft:"10px"},children:"Octave: "}),g.jsx("select",{value:a,onChange:k=>m(k.target.value),children:Array.isArray(o)&&o.map(k=>g.jsx("option",{value:k,children:k},k))})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{children:"Scale: "}),g.jsx("select",{value:u,onChange:k=>v(k.target.value),children:Array.isArray(l)&&l.map(k=>g.jsx("option",{value:k,children:k},k))})]}),t==="chord_search"&&g.jsxs("div",{style:{marginBottom:"15px",borderLeft:"3px solid lightgrey",paddingLeft:"10px"},children:[g.jsx("label",{children:"Chord Type: "}),g.jsx("select",{value:d,onChange:k=>y(k.target.value),children:Array.isArray(i)&&i.map(k=>g.jsx("option",{value:k,children:k},k))})]}),t==="chord_progression"&&g.jsxs("div",{style:{marginBottom:"15px",borderLeft:"3px solid lightcoral",paddingLeft:"10px"},children:[g.jsx("label",{htmlFor:"progression-select",children:"Progression: "}),g.jsx("select",{id:"progression-select",value:ut||"",onChange:k=>ct(k.target.value),children:wr.map(k=>g.jsx("option",{value:k.id,children:k.name},k.id))})]}),t==="chord_progression"&&g.jsxs("div",{style:{marginTop:"15px",borderLeft:"3px solid lightseagreen",paddingLeft:"10px"},children:[g.jsx("h4",{children:"Progression Voicing Options"}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"prog-show-sevenths",children:[g.jsx("input",{type:"checkbox",id:"prog-show-sevenths",checked:f,onChange:M}),"Show 7ths"]})}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"prog-rh-inversion",style:{marginRight:"5px"},children:"RH Inversion:"}),g.jsx("select",{id:"prog-rh-inversion",value:S,onChange:k=>L(k.target.value),children:_&&_.map(k=>g.jsx("option",{value:k.value,disabled:k.value===3&&!f,children:k.label},k.value))})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("input",{type:"checkbox",id:"prog-split-hand",checked:Qe,onChange:wo}),g.jsx("label",{htmlFor:"prog-split-hand",children:" Split Hand (LH Root / RH Chord)"})]}),Qe&&g.jsxs("div",{style:{marginLeft:"20px",marginBottom:"10px"},children:[g.jsx("label",{style:{marginRight:"10px"},children:"LH Octave:"}),g.jsxs("label",{style:{marginRight:"15px"},children:[g.jsx("input",{type:"radio",name:"prog-lhOffset",value:-12,checked:vt===-12,onChange:k=>zn(k.target.value)})," -1 Oct"]}),g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:"prog-lhOffset",value:-24,checked:vt===-24,onChange:k=>zn(k.target.value)})," -2 Oct"]})]}),Qe&&g.jsx("div",{style:{marginLeft:"20px",marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"prog-rh-rootless",children:[g.jsx("input",{type:"checkbox",id:"prog-rh-rootless",checked:kr,onChange:Ir,disabled:!Qe}),"Rootless RH Chord"]})}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"prog-shell-voicing",children:[g.jsx("input",{type:"checkbox",id:"prog-shell-voicing",checked:ko,onChange:Co}),"Shell Voicing (R, 3, 7)"]})}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"prog-add-octave-root",children:[g.jsx("input",{type:"checkbox",id:"prog-add-octave-root",checked:Io,onChange:No}),"Add Upper Octave Root"]})})]}),t==="diatonic_chords"&&g.jsxs("div",{style:{marginTop:"10px",borderTop:"1px solid #eee",paddingTop:"10px"},children:[g.jsx("h4",{children:"Diatonic Chords"}),g.jsx("div",{style:{marginBottom:"10px",display:"flex",gap:"5px",flexWrap:"wrap"},children:(f?j:P).map((k,yt)=>{if(!k)return null;const Qt=Ve.get(k).quality,Nr=sl(yt);let Tr={};Qt==="Minor"&&(Tr.fontWeight="normal"),Qt==="Diminished"&&(Tr.opacity=.7);const al=`${Qt==="Minor"?Nr.toLowerCase():Nr}${Qt==="Diminished"?"":""}`,ul=yt===c;return g.jsxs("button",{onClick:()=>A(yt),style:{...Tr,border:ul?"2px solid blue":"1px solid grey",padding:"5px 8px"},title:k,children:[al," (",k,")"]},yt)})}),g.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center",flexWrap:"wrap"},children:[g.jsxs("div",{children:[g.jsx("input",{type:"checkbox",id:"show-sevenths",checked:f,onChange:M}),g.jsx("label",{htmlFor:"show-sevenths",children:" Show 7ths"})]}),g.jsxs("div",{children:[g.jsx("input",{type:"checkbox",id:"split-hand",checked:h,onChange:x}),g.jsx("label",{htmlFor:"split-hand",children:" Split Hand Voicing"})]}),h&&g.jsxs("div",{style:{marginLeft:"10px"},children:[g.jsx("label",{style:{marginRight:"5px"},children:"Interval:"}),g.jsxs("label",{style:{marginRight:"10px"},children:[g.jsx("input",{type:"radio",name:"splitInterval",value:"12",checked:N===12,onChange:B})," 1 Octave"]}),g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:"splitInterval",value:"24",checked:N===24,onChange:B})," 2 Octaves"]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"rh-inversion",style:{marginRight:"5px"},children:"RH Inversion:"}),g.jsx("select",{id:"rh-inversion",value:S,onChange:k=>L(k.target.value),children:_&&_.map(k=>g.jsx("option",{value:k.value,disabled:k.value===3&&!f,children:k.label},k.value))})]})]}),h&&g.jsx("div",{style:{marginTop:"10px",marginLeft:"15px"},children:g.jsxs("label",{htmlFor:"diatonic-rh-rootless",children:[g.jsx("input",{type:"checkbox",id:"diatonic-rh-rootless",checked:kr,onChange:Ir,disabled:!h}),"Rootless RH Chord"]})}),g.jsx("div",{style:{marginTop:"10px",marginLeft:"15px"},children:g.jsxs("label",{htmlFor:"diatonic-shell-voicing",children:[g.jsx("input",{type:"checkbox",id:"diatonic-shell-voicing",checked:ko,onChange:Co}),"Shell Voicing (R, 3, 7)"]})}),g.jsx("div",{style:{marginTop:"10px",marginLeft:"15px"},children:g.jsxs("label",{htmlFor:"diatonic-add-octave-root",children:[g.jsx("input",{type:"checkbox",id:"diatonic-add-octave-root",checked:Io,onChange:No}),"Add Upper Octave Root"]})})]}),g.jsxs("div",{style:{borderTop:"1px solid #eee",paddingTop:"10px",marginTop:"15px"},children:[g.jsx("h4",{children:"MIDI Devices"}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"midi-input",children:"MIDI Input: "}),g.jsxs("select",{id:"midi-input",value:re||"",onChange:Cr,disabled:!E||Y.length===0,children:[g.jsx("option",{value:"",children:"-- Select Input --"}),Y.map(k=>g.jsx("option",{value:k.id,children:k.name},k.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-output",children:"MIDI Output: "}),g.jsxs("select",{id:"midi-output",value:Z||"",onChange:ll,disabled:!E||z.length===0,children:[g.jsx("option",{value:"",children:"-- Select Output --"}),z.map(k=>g.jsx("option",{value:k.id,children:k.name},k.id))]})]}),!E&&g.jsx("p",{children:g.jsx("small",{children:"Initializing MIDI..."})}),E&&Y.length===0&&z.length===0&&g.jsx("p",{children:g.jsx("small",{children:"MIDI Initialized, but no devices found."})})]})]}),$t==="metronome"&&g.jsxs("div",{style:{border:"none",padding:"0"},children:[" ",g.jsx("h4",{children:"Metronome"}),g.jsxs("div",{children:[g.jsx("button",{onClick:ae,disabled:!Z,children:T?"Stop":"Start"}),g.jsx("label",{htmlFor:"metronome-bpm",style:{marginLeft:"10px"},children:" BPM: "}),g.jsx("input",{type:"number",id:"metronome-bpm",value:D,onChange:k=>W(k.target.value),min:"30",max:"300",step:"1",style:{width:"60px"},disabled:!Z}),g.jsx("label",{htmlFor:"metronome-sound",style:{marginLeft:"10px"},children:" Sound: "}),g.jsx("select",{id:"metronome-sound",value:$,onChange:k=>ee(k.target.value),disabled:!Z,children:Object.entries(O).map(([k,yt])=>g.jsxs("option",{value:yt,children:[k," (",yt,")"]},yt))}),g.jsx("label",{htmlFor:"metronome-timesig",style:{marginLeft:"10px"},children:" Time Sig: "}),g.jsxs("select",{id:"metronome-timesig",value:F,onChange:k=>ie(k.target.value),disabled:!Z,children:[g.jsx("option",{value:"none",children:"None"}),g.jsx("option",{value:"3/4",children:"3/4"}),g.jsx("option",{value:"4/4",children:"4/4"})]})]}),!Z&&E&&g.jsx("p",{children:g.jsx("small",{children:"Select a MIDI Output device (in Setup tab) to enable Metronome."})})]}),$t==="backingTrack"&&g.jsxs("div",{style:{border:"none",padding:"0"},children:[" ",g.jsx("h4",{children:"MIDI Backing Track"}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap"},children:[g.jsx("label",{htmlFor:"midi-file-select",children:"Select Track:"}),g.jsxs("select",{id:"midi-file-select",onChange:k=>tt(k.target.value),value:((To=Ke.find(k=>k.name===Pe))==null?void 0:To.url)||"",disabled:te==="playing"||te==="paused",children:[g.jsx("option",{value:"",children:"-- Choose a MIDI file --"}),Ke.map(k=>g.jsx("option",{value:k.url,children:k.name},k.url))]}),g.jsx("button",{onClick:Bn,disabled:!Pe||te==="playing",children:"Play"}),g.jsx("button",{onClick:_r,disabled:te!=="playing",children:"Pause"}),g.jsx("button",{onClick:En,disabled:te==="stopped",children:"Stop"}),Pe&&g.jsxs("span",{style:{marginLeft:"15px",fontStyle:"italic"},children:["Loaded: ",Pe]}),te!=="stopped"&&g.jsxs("span",{style:{marginLeft:"15px",fontWeight:"bold"},children:["(",te,")"]})]}),!Z&&E&&g.jsx("p",{style:{marginTop:"5px"},children:g.jsx("small",{children:"Select a MIDI Output device (in Setup tab) to enable playback."})})]}),$t==="gm2Sounds"&&g.jsxs("div",{children:[g.jsx("h4",{children:"GM2 Sound Selection"}),g.jsx(Uv,{selectedOutputId:Z,sendMidiMessage:de})]}),$t==="diatonic"&&g.jsx("div",{children:(t==="diatonic_chords"||t==="chord_progression")&&g.jsxs("div",{style:{marginTop:"20px",borderTop:"1px solid #ccc",paddingTop:"15px"},children:[g.jsx("h4",{children:"Voicing Options"}),g.jsx("div",{children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:Qe,onChange:wo}),"Split Hand (LH Root / RH Chord)"]})}),Qe&&g.jsxs("div",{style:{marginLeft:"20px",marginBottom:"10px"},children:[g.jsx("label",{style:{marginRight:"10px"},children:"LH Octave:"}),g.jsxs("label",{style:{marginRight:"15px"},children:[g.jsx("input",{type:"radio",name:"lhOffset",value:-12,checked:vt===-12,onChange:k=>zn(k.target.value)})," -1 Oct"]}),g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:"lhOffset",value:-24,checked:vt===-24,onChange:k=>zn(k.target.value)})," -2 Oct"]})]}),Qe&&g.jsx("div",{style:{marginLeft:"20px"},children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:kr,onChange:Ir,disabled:!Qe}),"Rootless RH Chord"]})})]})})]})]})}class Pm{constructor(){this.NOTE_NAMES=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this.SCALE_INTERVALS={major:[0,2,4,5,7,9,11]},this.CHORD_INTERVALS={maj:[0,4,7],min:[0,3,7]},console.log("MusicLogic module initialized")}noteNameToMidi(t){const n=t.toUpperCase().match(/^([A-G])(#?)(\d?)$/);if(!n)return null;let r=n[1],o=n[2]==="#",l=n[3],i=l?parseInt(l,10):4,s=this.NOTE_NAMES.findIndex(d=>d.startsWith(r));if(s===-1)return null;let a=(i+1)*12+s,u=this.NOTE_NAMES.indexOf(r+(o?"#":""));if(u===-1){if((r==="E"||r==="B")&&o)return null;u=s;const d=this.NOTE_NAMES.indexOf(r+"#");if(d!==-1&&o)u=d;else if(d===-1&&o)return null}return a=(i+1)*12+u,a}midiToNoteName(t){if(t<0||t>127)return"Invalid MIDI value";const n=Math.floor(t/12)-1,r=t%12;return this.NOTE_NAMES[r]+n}getScale(t,n){const r=typeof t=="string"?this.noteNameToMidi(t):t;if(r===null||!this.SCALE_INTERVALS[n])return console.error(`Invalid root (${t}) or scale type (${n})`),null;const o=this.SCALE_INTERVALS[n],l=o.map(a=>r+a),i=this.midiToNoteName(r).replace(/\d+$/,""),s=o.map((a,u)=>u+1).join(" ");return{name:`${i} ${n}`,type:n,rootMidi:r,notes:l,formula:s}}getChord(t,n){const r=typeof t=="string"?this.noteNameToMidi(t):t;if(r===null||!this.CHORD_INTERVALS[n])return console.error(`Invalid root (${t}) or chord type (${n})`),null;const l=this.CHORD_INTERVALS[n].map(a=>r+a);return{name:`${this.midiToNoteName(r).replace(/\d+$/,"")}${n}`,type:n,rootMidi:r,notes:l,formula:"TBD"}}getScaleFormula(t){return this.SCALE_INTERVALS[t]?this.SCALE_INTERVALS[t].map((n,r)=>r+1).join(" "):"Unknown Scale Type"}getChordFormula(t){return this.CHORD_INTERVALS[t]?t==="maj"?"1 3 5":t==="min"?"1 b3 5":"TBD":"Unknown Chord Type"}}new Pm;function Wv({selectedRoot:e,selectedScaleType:t,selectedChordType:n,currentMode:r,diatonicTriads:o=[],diatonicSevenths:l=[],selectedDiatonicDegree:i,showSevenths:s,selectedProgression:a=null,transposedProgressionChords:u=[]}){var j,c;let d="-",p=[],m="-",v="-",y=[];try{if(r==="scale_display"&&e&&t){const f=`${V.pitchClass(e)} ${t}`,h=Ot.get(f);if(h&&Array.isArray(h.notes)){d=h.name||f,p=h.notes,m=p.join(", "),v=h.intervals.join(" ");const S=V.octave(e)||4;y=p.map(_=>V.midi(`${_}${S}`)).filter(Boolean)}else d=`${f} (Invalid)`}else if(r==="chord_search"&&e&&n){const f=`${V.pitchClass(e)}${n}`,h=Ve.get(f);if(h&&Array.isArray(h.notes)){d=f,p=h.notes,m=p.join(", "),v=h.intervals.join(" ");const S=V.octave(e)||4;y=Ve.getChord(n,`${V.pitchClass(e)}${S}`).notes.map(V.midi).filter(Boolean)}}else if(r==="diatonic_chords"&&e&&t){console.log("InfoDisplay.jsx - Diatonic mode, received degree:",i);const f=`${V.pitchClass(e)} ${t}`,h=s?l:o;if(!Array.isArray(h)||h.length<7||i<0||i>=h.length||!h[i])console.warn(`InfoDisplay.jsx - Invalid/incomplete chord list (${Array.isArray(h)?h.length:"N/A"} items) or degree index (${i}) for ${f}`),d=`Loading chords for ${f}...`,p=[],v="-",y=[],m="-";else{const S=h[i];console.log("InfoDisplay - targetChordName before Chord.get:",S);const _=Ve.get(S);if(_&&Array.isArray(_.notes)&&_.notes.length>0){let M=["I","ii","iii","IV","V","vi","vii"][i]||"?";_.quality==="Minor"&&(M=M.toLowerCase()),_.quality==="Diminished"&&(M+=""),s&&_.type!=="dominant seventh"&&_.type!=="major seventh"&&_.type!=="minor seventh"&&_.type,d=`${M}: ${S} (in ${f})`,p=_.notes,v=_.intervals.join(" "),m=p.join(", ");const x=_.tonic,L=V.octave(e)||4;if(x){const N=(j=_.aliases)==null?void 0:j[0];if(!N)console.warn(`InfoDisplay.jsx - Could not determine chord type alias for ${S}`),y=[];else{const B=Ve.getChord(N,`${x}${L}`);B&&Array.isArray(B.notes)?y=B.notes.map(V.midi).filter(Boolean):(console.warn(`InfoDisplay.jsx - Chord.getChord failed for type ${N} and root ${x}${L}`),y=[])}}else console.warn(`Could not get tonic for ${S} to calculate MIDI notes.`),y=[]}else console.warn(`Could not get data for chord ${S}`),d=`Error: Could not get data for ${S}`,p=[],v="-",y=[],m="-"}}else if(r==="chord_progression")if(a&&u.length>0){d=`Progression: ${a.name||"Selected Progression"}`;const f=u.map(_=>_.roman||"?").join(" - ");m=`Chords: ${u.map(_=>_.name||"?").join(" - ")}`,v=`Roman: ${f}`;const S=((c=u[0])==null?void 0:c.midiNotes)||[];y=S,p=S}else d="Loading Progression...",m="-",v="-",p="-",y=[]}catch(f){console.error("Error in InfoDisplay:",f),d=f.message||"Error processing selection",p=[],y=[],v="-",m="-"}const P={title:d,formula:`Formula: ${v||"N/A"}`,noteNames:`Notes: ${m}`,midiNotesDisplay:`MIDI: ${Array.isArray(y)?y.join(", "):"N/A"}`};return g.jsxs("div",{style:{border:"1px solid orange",padding:"10px",margin:"10px 0"},children:[g.jsx("h2",{children:"Info Display"}),g.jsx("h3",{children:P.title}),g.jsx("p",{children:P.noteNames}),g.jsx("p",{children:P.formula}),g.jsx("p",{children:g.jsx("small",{children:P.midiNotesDisplay})})]})}function Kv({logMessages:e=[]}){return g.jsxs("div",{style:{border:"1px solid red",padding:"10px",margin:"10px 0",height:"150px",overflowY:"scroll",fontFamily:"monospace",fontSize:"12px",backgroundColor:"#f0f0f0"},children:[g.jsx("h2",{children:"MIDI Monitor"}),e.length>0?e.map((t,n)=>g.jsx("div",{children:t},n)):g.jsx("p",{children:"Waiting for MIDI logs..."})]})}function Qv({rootNote:e,notesToHighlight:t=[],playedNotes:n=[],expectedNotes:r=[]}){const o=w.useRef(null),l=36,i=4,s=7*i+1,a=12*i+1;return w.useEffect(()=>{var B;const u=o.current,d=u.getContext("2d"),p=u.width,m=u.height,v=p/s,y=m,P=v*.6,j=y*.6,c="#ffffff",f="#000000",h="#cccccc",S="#a0d2ff",_="#4a90e2",A="#90ee90",M="#ffa500";d.fillStyle=c,d.fillRect(0,0,p,m);let x=0;const L=[];for(let Y=0;Y<a;Y++){const z=l+Y,re=z%12;if(![1,3,6,8,10].includes(re)){const H=x,K=v,E=y,T=z===e,D=t.includes(z),$=n.includes(z),O=r.includes(z);let F=c;D&&(F=S),T&&D&&(F=_),O&&(F=M),$&&(F=A),d.fillStyle=F,d.fillRect(H,0,K,E),d.strokeStyle=h,d.strokeRect(H,0,K,E),L.push({midiNote:z,isBlackKey:!1,x:H,width:K,height:E}),x+=v}}let N=0;for(let Y=0;Y<a;Y++){const z=l+Y,re=z%12;if(![1,3,6,8,10].includes(re)){const H=((B=L.find(E=>!E.isBlackKey&&E.midiNote===z))==null?void 0:B.x)??N*v;if([1,3,6,8,10].includes((re+1)%12)&&re!==4&&re!==11){const E=H+v-P/2,T=z+1,D=T===e,$=t.includes(T),O=n.includes(T),F=r.includes(T);let ae=f;$&&(ae=S),D&&$&&(ae=_),F&&(ae=M),O&&(ae=A),d.fillStyle=ae,d.fillRect(E,0,P,j),d.strokeStyle=h,d.strokeRect(E,0,P,j),L.push({midiNote:T,isBlackKey:!0,x:E,width:P,height:j})}N++}}},[e,t,l,i,n,r]),g.jsxs("div",{style:{border:"1px solid green",padding:"10px",margin:"10px 0"},children:[g.jsx("h2",{children:"Piano Keyboard"}),g.jsx("canvas",{ref:o,width:720,height:220,style:{border:"1px solid #ccc"}})]})}var Em={exports:{}};(function(e){(function(t){function n(){if(n.prototype._singleton)throw new Error("WebMidi is a singleton, it cannot be instantiated directly.");(n.prototype._singleton=this)._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=["connected","disconnected"],this._nrpnBuffer=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this._nrpnEventsEnabled=!0,this._nrpnTypes=["entry","increment","decrement"],this._notes=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,nrpn:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_NRPN_MESSAGES:{value:{entrymsb:6,entrylsb:38,increment:96,decrement:97,paramlsb:98,parammsb:99,nullactiveparameter:127},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1},octaveOffset:{value:0,writable:!0,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return"requestMIDIAccess"in navigator}},enabled:{enumerable:!0,get:(function(){return this.interface!==void 0}).bind(this)},inputs:{enumerable:!0,get:(function(){return this._inputs}).bind(this)},outputs:{enumerable:!0,get:(function(){return this._outputs}).bind(this)},sysexEnabled:{enumerable:!0,get:(function(){return!(!this.interface||!this.interface.sysexEnabled)}).bind(this)},nrpnEventsEnabled:{enumerable:!0,get:(function(){return!!this._nrpnEventsEnabled}).bind(this),set:function(i){return this._nrpnEventsEnabled=i,this._nrpnEventsEnabled}},nrpnTypes:{enumerable:!0,get:(function(){return this._nrpnTypes}).bind(this)},time:{enumerable:!0,get:function(){return performance.now()}}})}var r=new n;function o(i){var s=this;this._userHandlers={channel:{},system:{}},this._midiInput=i,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return s._midiInput.connection}},id:{enumerable:!0,get:function(){return s._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return s._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return s._midiInput.name}},state:{enumerable:!0,get:function(){return s._midiInput.state}},type:{enumerable:!0,get:function(){return s._midiInput.type}}}),this._initializeUserHandlers(),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}function l(i){var s=this;this._midiOutput=i,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return s._midiOutput.connection}},id:{enumerable:!0,get:function(){return s._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return s._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return s._midiOutput.name}},state:{enumerable:!0,get:function(){return s._midiOutput.state}},type:{enumerable:!0,get:function(){return s._midiOutput.type}}})}n.prototype.enable=function(i,s){this.enabled||(this.supported?navigator.requestMIDIAccess({sysex:s}).then((function(a){var u,d=[],p=[];this.interface=a,this._resetInterfaceUserHandlers(),this.interface.onstatechange=function(c){d.push(c)};for(var m=a.inputs.values(),v=m.next();v&&!v.done;v=m.next())p.push(v.value.open());for(var y=a.outputs.values(),P=y.next();P&&!P.done;P=y.next())p.push(P.value.open());function j(){clearTimeout(u),this._updateInputsAndOutputs(),this.interface.onstatechange=this._onInterfaceStateChange.bind(this),typeof i=="function"&&i.call(this),d.forEach((function(c){this._onInterfaceStateChange(c)}).bind(this))}u=setTimeout(j.bind(this),200),Promise&&Promise.all(p).catch(function(c){}).then(j.bind(this))}).bind(this),(function(a){typeof i=="function"&&i.call(this,a)}).bind(this)):typeof i=="function"&&i(new Error("The Web MIDI API is not supported by your browser.")))},n.prototype.disable=function(){if(!this.supported)throw new Error("The Web MIDI API is not supported by your browser.");this.enabled&&(this.removeListener(),this.inputs.forEach(function(i){i.removeListener()})),this.interface&&(this.interface.onstatechange=void 0),this.interface=void 0,this._inputs=[],this._outputs=[],this._nrpnEventsEnabled=!0,this._resetInterfaceUserHandlers()},n.prototype.addListener=function(i,s){if(!this.enabled)throw new Error("WebMidi must be enabled before adding event listeners.");if(typeof s!="function")throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(i)))throw new TypeError("The specified event type is not supported.");return this._userHandlers[i].push(s),this},n.prototype.hasListener=function(i,s){if(!this.enabled)throw new Error("WebMidi must be enabled before checking event listeners.");if(typeof s!="function")throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(i)))throw new TypeError("The specified event type is not supported.");for(var a=0;a<this._userHandlers[i].length;a++)if(this._userHandlers[i][a]===s)return!0;return!1},n.prototype.removeListener=function(i,s){if(!this.enabled)throw new Error("WebMidi must be enabled before removing event listeners.");if(s!==void 0&&typeof s!="function")throw new TypeError("The 'listener' parameter must be a function.");if(0<=this._midiInterfaceEvents.indexOf(i))if(s)for(var a=0;a<this._userHandlers[i].length;a++)this._userHandlers[i][a]===s&&this._userHandlers[i].splice(a,1);else this._userHandlers[i]=[];else{if(i!==void 0)throw new TypeError("The specified event type is not supported.");this._resetInterfaceUserHandlers()}return this},n.prototype.toMIDIChannels=function(i){var s;if(i==="all"||i===void 0)s=["all"];else{if(i==="none")return s=[];s=Array.isArray(i)?i:[i]}return-1<s.indexOf("all")&&(s=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),s.map(function(a){return parseInt(a)}).filter(function(a){return 1<=a&&a<=16})},n.prototype.getInputById=function(i){if(!this.enabled)throw new Error("WebMidi is not enabled.");i=String(i);for(var s=0;s<this.inputs.length;s++)if(this.inputs[s].id===i)return this.inputs[s];return!1},n.prototype.getOutputById=function(i){if(!this.enabled)throw new Error("WebMidi is not enabled.");i=String(i);for(var s=0;s<this.outputs.length;s++)if(this.outputs[s].id===i)return this.outputs[s];return!1},n.prototype.getInputByName=function(i){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var s=0;s<this.inputs.length;s++)if(~this.inputs[s].name.indexOf(i))return this.inputs[s];return!1},n.prototype.getOctave=function(i){if(i!=null&&0<=i&&i<=127)return Math.floor(Math.floor(i)/12-1)+Math.floor(r.octaveOffset)},n.prototype.getOutputByName=function(i){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var s=0;s<this.outputs.length;s++)if(~this.outputs[s].name.indexOf(i))return this.outputs[s];return!1},n.prototype.guessNoteNumber=function(i){var s=!1;if(i&&i.toFixed&&0<=i&&i<=127?s=Math.round(i):0<=parseInt(i)&&parseInt(i)<=127?s=parseInt(i):(typeof i=="string"||i instanceof String)&&(s=this.noteNameToNumber(i)),s===!1)throw new Error("Invalid input value ("+i+").");return s},n.prototype.noteNameToNumber=function(i){typeof i!="string"&&(i="");var s=i.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)/i);if(!s)throw new RangeError("Invalid note name.");var a=r._semitones[s[1].toUpperCase()],u=12*(parseInt(s[3])+1-Math.floor(r.octaveOffset))+a;if(-1<s[2].toLowerCase().indexOf("b")?u-=s[2].length:-1<s[2].toLowerCase().indexOf("#")&&(u+=s[2].length),u<0||127<u)throw new RangeError("Invalid note name or note outside valid range.");return u},n.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},n.prototype._updateInputs=function(){for(var i=0;i<this._inputs.length;i++){for(var s=!0,a=this.interface.inputs.values(),u=a.next();u&&!u.done;u=a.next())if(this._inputs[i]._midiInput===u.value){s=!1;break}s&&this._inputs.splice(i,1)}this.interface&&this.interface.inputs.forEach((function(d){for(var p=!0,m=0;m<this._inputs.length;m++)this._inputs[m]._midiInput===d&&(p=!1);p&&this._inputs.push(new o(d))}).bind(this))},n.prototype._updateOutputs=function(){for(var i=0;i<this._outputs.length;i++){for(var s=!0,a=this.interface.outputs.values(),u=a.next();u&&!u.done;u=a.next())if(this._outputs[i]._midiOutput===u.value){s=!1;break}s&&this._outputs.splice(i,1)}this.interface&&this.interface.outputs.forEach((function(d){for(var p=!0,m=0;m<this._outputs.length;m++)this._outputs[m]._midiOutput===d&&(p=!1);p&&this._outputs.push(new l(d))}).bind(this))},n.prototype._onInterfaceStateChange=function(i){this._updateInputsAndOutputs();var s={timestamp:i.timeStamp,type:i.port.state};this.interface&&i.port.state==="connected"?i.port.type==="output"?s.port=this.getOutputById(i.port.id):i.port.type==="input"&&(s.port=this.getInputById(i.port.id)):s.port={connection:"closed",id:i.port.id,manufacturer:i.port.manufacturer,name:i.port.name,state:i.port.state,type:i.port.type},this._userHandlers[i.port.state].forEach(function(a){a(s)})},n.prototype._resetInterfaceUserHandlers=function(){for(var i=0;i<this._midiInterfaceEvents.length;i++)this._userHandlers[this._midiInterfaceEvents[i]]=[]},o.prototype.on=o.prototype.addListener=function(i,s,a){var u=this;if(s===void 0&&(s="all"),Array.isArray(s)||(s=[s]),s.forEach(function(p){if(p!=="all"&&!(1<=p&&p<=16))throw new RangeError("The 'channel' parameter is invalid.")}),typeof a!="function")throw new TypeError("The 'listener' parameter must be a function.");if(r.MIDI_SYSTEM_MESSAGES[i]!==void 0)this._userHandlers.system[i]||(this._userHandlers.system[i]=[]),this._userHandlers.system[i].push(a);else{if(r.MIDI_CHANNEL_MESSAGES[i]===void 0)throw new TypeError("The specified event type is not supported.");if(-1<s.indexOf("all")){s=[];for(var d=1;d<=16;d++)s.push(d)}this._userHandlers.channel[i]||(this._userHandlers.channel[i]=[]),s.forEach(function(p){u._userHandlers.channel[i][p]||(u._userHandlers.channel[i][p]=[]),u._userHandlers.channel[i][p].push(a)})}return this},o.prototype.hasListener=function(i,s,a){var u=this;if(typeof a!="function")throw new TypeError("The 'listener' parameter must be a function.");if(s===void 0&&(s="all"),s.constructor!==Array&&(s=[s]),r.MIDI_SYSTEM_MESSAGES[i]!==void 0){for(var d=0;d<this._userHandlers.system[i].length;d++)if(this._userHandlers.system[i][d]===a)return!0}else if(r.MIDI_CHANNEL_MESSAGES[i]!==void 0){if(-1<s.indexOf("all")){s=[];for(var p=1;p<=16;p++)s.push(p)}return!!this._userHandlers.channel[i]&&s.every(function(m){var v=u._userHandlers.channel[i][m];return v&&-1<v.indexOf(a)})}return!1},o.prototype.removeListener=function(i,s,a){var u=this;if(a!==void 0&&typeof a!="function")throw new TypeError("The 'listener' parameter must be a function.");if(s===void 0&&(s="all"),s.constructor!==Array&&(s=[s]),r.MIDI_SYSTEM_MESSAGES[i]!==void 0)if(a===void 0)this._userHandlers.system[i]=[];else for(var d=0;d<this._userHandlers.system[i].length;d++)this._userHandlers.system[i][d]===a&&this._userHandlers.system[i].splice(d,1);else if(r.MIDI_CHANNEL_MESSAGES[i]!==void 0){if(-1<s.indexOf("all")){s=[];for(var p=1;p<=16;p++)s.push(p)}if(!this._userHandlers.channel[i])return this;s.forEach(function(m){var v=u._userHandlers.channel[i][m];if(v)if(a===void 0)u._userHandlers.channel[i][m]=[];else for(var y=0;y<v.length;y++)v[y]===a&&v.splice(y,1)})}else{if(i!==void 0)throw new TypeError("The specified event type is not supported.");this._initializeUserHandlers()}return this},o.prototype._initializeUserHandlers=function(){for(var i in r.MIDI_CHANNEL_MESSAGES)Object.prototype.hasOwnProperty.call(r.MIDI_CHANNEL_MESSAGES,i)&&(this._userHandlers.channel[i]={});for(var s in r.MIDI_SYSTEM_MESSAGES)Object.prototype.hasOwnProperty.call(r.MIDI_SYSTEM_MESSAGES,s)&&(this._userHandlers.system[s]=[])},o.prototype._onMidiMessage=function(i){if(0<this._userHandlers.system.midimessage.length){var s={target:this,data:i.data,timestamp:i.timeStamp,type:"midimessage"};this._userHandlers.system.midimessage.forEach(function(a){a(s)})}i.data[0]<240?(this._parseChannelEvent(i),this._parseNrpnEvent(i)):i.data[0]<=255&&this._parseSystemEvent(i)},o.prototype._parseNrpnEvent=function(i){var s,a,u=i.data[0]>>4,d=15&i.data[0],p=1+d;if(1<i.data.length&&(s=i.data[1],a=2<i.data.length?i.data[2]:void 0),r.nrpnEventsEnabled&&u===r.MIDI_CHANNEL_MESSAGES.controlchange&&(s>=r.MIDI_NRPN_MESSAGES.increment&&s<=r.MIDI_NRPN_MESSAGES.parammsb||s===r.MIDI_NRPN_MESSAGES.entrymsb||s===r.MIDI_NRPN_MESSAGES.entrylsb)){var m={target:this,type:"controlchange",data:i.data,timestamp:i.timeStamp,channel:p,controller:{number:s,name:this.getCcNameByNumber(s)},value:a};if(m.controller.number===r.MIDI_NRPN_MESSAGES.parammsb&&m.value!=r.MIDI_NRPN_MESSAGES.nullactiveparameter)r._nrpnBuffer[d]=[],r._nrpnBuffer[d][0]=m;else if(r._nrpnBuffer[d].length===1&&m.controller.number===r.MIDI_NRPN_MESSAGES.paramlsb)r._nrpnBuffer[d].push(m);else if(r._nrpnBuffer[d].length!==2||m.controller.number!==r.MIDI_NRPN_MESSAGES.increment&&m.controller.number!==r.MIDI_NRPN_MESSAGES.decrement&&m.controller.number!==r.MIDI_NRPN_MESSAGES.entrymsb)if(r._nrpnBuffer[d].length===3&&r._nrpnBuffer[d][2].number===r.MIDI_NRPN_MESSAGES.entrymsb&&m.controller.number===r.MIDI_NRPN_MESSAGES.entrylsb)r._nrpnBuffer[d].push(m);else if(3<=r._nrpnBuffer[d].length&&r._nrpnBuffer[d].length<=4&&m.controller.number===r.MIDI_NRPN_MESSAGES.parammsb&&m.value===r.MIDI_NRPN_MESSAGES.nullactiveparameter)r._nrpnBuffer[d].push(m);else if(4<=r._nrpnBuffer[d].length&&r._nrpnBuffer[d].length<=5&&m.controller.number===r.MIDI_NRPN_MESSAGES.paramlsb&&m.value===r.MIDI_NRPN_MESSAGES.nullactiveparameter){r._nrpnBuffer[d].push(m);var v=[];r._nrpnBuffer[d].forEach(function(f){v.push(f.data)});var y=r._nrpnBuffer[d][0].value<<7|r._nrpnBuffer[d][1].value,P=r._nrpnBuffer[d][2].value;r._nrpnBuffer[d].length===6&&(P=r._nrpnBuffer[d][2].value<<7|r._nrpnBuffer[d][3].value);var j="";switch(r._nrpnBuffer[d][2].controller.number){case r.MIDI_NRPN_MESSAGES.entrymsb:j=r._nrpnTypes[0];break;case r.MIDI_NRPN_MESSAGES.increment:j=r._nrpnTypes[1];break;case r.MIDI_NRPN_MESSAGES.decrement:j=r._nrpnTypes[2];break;default:throw new Error("The NPRN type was unidentifiable.")}var c={timestamp:m.timestamp,channel:m.channel,type:"nrpn",data:v,controller:{number:y,type:j,name:"Non-Registered Parameter "+y},value:P};r._nrpnBuffer[d]=[],this._userHandlers.channel[c.type]&&this._userHandlers.channel[c.type][c.channel]&&this._userHandlers.channel[c.type][c.channel].forEach(function(f){f(c)})}else r._nrpnBuffer[d]=[];else r._nrpnBuffer[d].push(m)}},o.prototype._parseChannelEvent=function(i){var s,a,u=i.data[0]>>4,d=1+(15&i.data[0]);1<i.data.length&&(s=i.data[1],a=2<i.data.length?i.data[2]:void 0);var p={target:this,data:i.data,timestamp:i.timeStamp,channel:d};u===r.MIDI_CHANNEL_MESSAGES.noteoff||u===r.MIDI_CHANNEL_MESSAGES.noteon&&a===0?(p.type="noteoff",p.note={number:s,name:r._notes[s%12],octave:r.getOctave(s)},p.velocity=a/127,p.rawVelocity=a):u===r.MIDI_CHANNEL_MESSAGES.noteon?(p.type="noteon",p.note={number:s,name:r._notes[s%12],octave:r.getOctave(s)},p.velocity=a/127,p.rawVelocity=a):u===r.MIDI_CHANNEL_MESSAGES.keyaftertouch?(p.type="keyaftertouch",p.note={number:s,name:r._notes[s%12],octave:r.getOctave(s)},p.value=a/127):u===r.MIDI_CHANNEL_MESSAGES.controlchange&&0<=s&&s<=119?(p.type="controlchange",p.controller={number:s,name:this.getCcNameByNumber(s)},p.value=a):u===r.MIDI_CHANNEL_MESSAGES.channelmode&&120<=s&&s<=127?(p.type="channelmode",p.controller={number:s,name:this.getChannelModeByNumber(s)},p.value=a):u===r.MIDI_CHANNEL_MESSAGES.programchange?(p.type="programchange",p.value=s):u===r.MIDI_CHANNEL_MESSAGES.channelaftertouch?(p.type="channelaftertouch",p.value=s/127):u===r.MIDI_CHANNEL_MESSAGES.pitchbend?(p.type="pitchbend",p.value=((a<<7)+s-8192)/8192):p.type="unknownchannelmessage",this._userHandlers.channel[p.type]&&this._userHandlers.channel[p.type][d]&&this._userHandlers.channel[p.type][d].forEach(function(m){m(p)})},o.prototype.getCcNameByNumber=function(i){if(!(0<=(i=Math.floor(i))&&i<=119))throw new RangeError("The control change number must be between 0 and 119.");for(var s in r.MIDI_CONTROL_CHANGE_MESSAGES)if(Object.prototype.hasOwnProperty.call(r.MIDI_CONTROL_CHANGE_MESSAGES,s)&&i===r.MIDI_CONTROL_CHANGE_MESSAGES[s])return s},o.prototype.getChannelModeByNumber=function(i){if(!(120<=(i=Math.floor(i))&&status<=127))throw new RangeError("The control change number must be between 120 and 127.");for(var s in r.MIDI_CHANNEL_MODE_MESSAGES)if(Object.prototype.hasOwnProperty.call(r.MIDI_CHANNEL_MODE_MESSAGES,s)&&i===r.MIDI_CHANNEL_MODE_MESSAGES[s])return s},o.prototype._parseSystemEvent=function(i){var s=i.data[0],a={target:this,data:i.data,timestamp:i.timeStamp};s===r.MIDI_SYSTEM_MESSAGES.sysex?a.type="sysex":s===r.MIDI_SYSTEM_MESSAGES.timecode?a.type="timecode":s===r.MIDI_SYSTEM_MESSAGES.songposition?a.type="songposition":s===r.MIDI_SYSTEM_MESSAGES.songselect?(a.type="songselect",a.song=i.data[1]):s===r.MIDI_SYSTEM_MESSAGES.tuningrequest?a.type="tuningrequest":s===r.MIDI_SYSTEM_MESSAGES.clock?a.type="clock":s===r.MIDI_SYSTEM_MESSAGES.start?a.type="start":s===r.MIDI_SYSTEM_MESSAGES.continue?a.type="continue":s===r.MIDI_SYSTEM_MESSAGES.stop?a.type="stop":s===r.MIDI_SYSTEM_MESSAGES.activesensing?a.type="activesensing":s===r.MIDI_SYSTEM_MESSAGES.reset?a.type="reset":a.type="unknownsystemmessage",this._userHandlers.system[a.type]&&this._userHandlers.system[a.type].forEach(function(u){u(a)})},l.prototype.send=function(i,s,a){if(!(128<=i&&i<=255))throw new RangeError("The status byte must be an integer between 128 (0x80) and 255 (0xFF).");s===void 0&&(s=[]),Array.isArray(s)||(s=[s]);var u=[];return s.forEach(function(d){var p=Math.floor(d);if(!(0<=p&&p<=255))throw new RangeError("Data bytes must be integers between 0 (0x00) and 255 (0xFF).");u.push(p)}),this._midiOutput.send([i].concat(u),parseFloat(a)||0),this},l.prototype.sendSysex=function(i,s,a){if(!r.sysexEnabled)throw new Error("Sysex message support must first be activated.");return a=a||{},i=[].concat(i),s.forEach(function(u){if(u<0||127<u)throw new RangeError("The data bytes of a sysex message must be integers between 0 (0x00) and 127 (0x7F).")}),s=i.concat(s,r.MIDI_SYSTEM_MESSAGES.sysexend),this.send(r.MIDI_SYSTEM_MESSAGES.sysex,s,this._parseTimeParameter(a.time)),this},l.prototype.sendTimecodeQuarterFrame=function(i,s){return s=s||{},this.send(r.MIDI_SYSTEM_MESSAGES.timecode,i,this._parseTimeParameter(s.time)),this},l.prototype.sendSongPosition=function(i,s){s=s||{};var a=(i=Math.floor(i)||0)>>7&127,u=127&i;return this.send(r.MIDI_SYSTEM_MESSAGES.songposition,[a,u],this._parseTimeParameter(s.time)),this},l.prototype.sendSongSelect=function(i,s){if(s=s||{},!(0<=(i=Math.floor(i))&&i<=127))throw new RangeError("The song number must be between 0 and 127.");return this.send(r.MIDI_SYSTEM_MESSAGES.songselect,[i],this._parseTimeParameter(s.time)),this},l.prototype.sendTuningRequest=function(i){return i=i||{},this.send(r.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,this._parseTimeParameter(i.time)),this},l.prototype.sendClock=function(i){return i=i||{},this.send(r.MIDI_SYSTEM_MESSAGES.clock,void 0,this._parseTimeParameter(i.time)),this},l.prototype.sendStart=function(i){return i=i||{},this.send(r.MIDI_SYSTEM_MESSAGES.start,void 0,this._parseTimeParameter(i.time)),this},l.prototype.sendContinue=function(i){return i=i||{},this.send(r.MIDI_SYSTEM_MESSAGES.continue,void 0,this._parseTimeParameter(i.time)),this},l.prototype.sendStop=function(i){return i=i||{},this.send(r.MIDI_SYSTEM_MESSAGES.stop,void 0,this._parseTimeParameter(i.time)),this},l.prototype.sendActiveSensing=function(i){return i=i||{},this.send(r.MIDI_SYSTEM_MESSAGES.activesensing,[],this._parseTimeParameter(i.time)),this},l.prototype.sendReset=function(i){return i=i||{},this.send(r.MIDI_SYSTEM_MESSAGES.reset,void 0,this._parseTimeParameter(i.time)),this},l.prototype.stopNote=function(i,s,a){if(i==="all")return this.sendChannelMode("allnotesoff",0,s,a);var u=64;return(a=a||{}).rawVelocity?!isNaN(a.velocity)&&0<=a.velocity&&a.velocity<=127&&(u=a.velocity):!isNaN(a.velocity)&&0<=a.velocity&&a.velocity<=1&&(u=127*a.velocity),this._convertNoteToArray(i).forEach((function(d){r.toMIDIChannels(s).forEach((function(p){this.send((r.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(p-1),[d,Math.round(u)],this._parseTimeParameter(a.time))}).bind(this))}).bind(this)),this},l.prototype.playNote=function(i,s,a){var u,d=64;if((a=a||{}).rawVelocity?!isNaN(a.velocity)&&0<=a.velocity&&a.velocity<=127&&(d=a.velocity):!isNaN(a.velocity)&&0<=a.velocity&&a.velocity<=1&&(d=127*a.velocity),u=this._parseTimeParameter(a.time),this._convertNoteToArray(i).forEach((function(m){r.toMIDIChannels(s).forEach((function(v){this.send((r.MIDI_CHANNEL_MESSAGES.noteon<<4)+(v-1),[m,Math.round(d)],u)}).bind(this))}).bind(this)),!isNaN(a.duration)){a.duration<=0&&(a.duration=0);var p=64;a.rawVelocity?!isNaN(a.release)&&0<=a.release&&a.release<=127&&(p=a.release):!isNaN(a.release)&&0<=a.release&&a.release<=1&&(p=127*a.release),this._convertNoteToArray(i).forEach((function(m){r.toMIDIChannels(s).forEach((function(v){this.send((r.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(v-1),[m,Math.round(p)],(u||r.time)+a.duration)}).bind(this))}).bind(this))}return this},l.prototype.sendKeyAftertouch=function(i,s,a,u){var d=this;if(u=u||{},s<1||16<s)throw new RangeError("The channel must be between 1 and 16.");(isNaN(a)||a<0||1<a)&&(a=.5);var p=Math.round(127*a);return this._convertNoteToArray(i).forEach(function(m){r.toMIDIChannels(s).forEach(function(v){d.send((r.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(v-1),[m,p],d._parseTimeParameter(u.time))})}),this},l.prototype.sendControlChange=function(i,s,a,u){if(u=u||{},typeof i=="string"){if((i=r.MIDI_CONTROL_CHANGE_MESSAGES[i])===void 0)throw new TypeError("Invalid controller name.")}else if(!(0<=(i=Math.floor(i))&&i<=119))throw new RangeError("Controller numbers must be between 0 and 119.");if(!(0<=(s=Math.floor(s)||0)&&s<=127))throw new RangeError("Controller value must be between 0 and 127.");return r.toMIDIChannels(a).forEach((function(d){this.send((r.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(d-1),[i,s],this._parseTimeParameter(u.time))}).bind(this)),this},l.prototype._selectRegisteredParameter=function(i,s,a){var u=this;if(i[0]=Math.floor(i[0]),!(0<=i[0]&&i[0]<=127))throw new RangeError("The control65 value must be between 0 and 127");if(i[1]=Math.floor(i[1]),!(0<=i[1]&&i[1]<=127))throw new RangeError("The control64 value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.sendControlChange(101,i[0],s,{time:a}),u.sendControlChange(100,i[1],s,{time:a})}),this},l.prototype._selectNonRegisteredParameter=function(i,s,a){var u=this;if(i[0]=Math.floor(i[0]),!(0<=i[0]&&i[0]<=127))throw new RangeError("The control63 value must be between 0 and 127");if(i[1]=Math.floor(i[1]),!(0<=i[1]&&i[1]<=127))throw new RangeError("The control62 value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.sendControlChange(99,i[0],s,{time:a}),u.sendControlChange(98,i[1],s,{time:a})}),this},l.prototype._setCurrentRegisteredParameter=function(i,s,a){var u=this;if((i=[].concat(i))[0]=Math.floor(i[0]),!(0<=i[0]&&i[0]<=127))throw new RangeError("The msb value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.sendControlChange(6,i[0],s,{time:a})}),i[1]=Math.floor(i[1]),0<=i[1]&&i[1]<=127&&r.toMIDIChannels(s).forEach(function(){u.sendControlChange(38,i[1],s,{time:a})}),this},l.prototype._deselectRegisteredParameter=function(i,s){var a=this;return r.toMIDIChannels(i).forEach(function(){a.sendControlChange(101,127,i,{time:s}),a.sendControlChange(100,127,i,{time:s})}),this},l.prototype.setRegisteredParameter=function(i,s,a,u){var d=this;if(u=u||{},!Array.isArray(i)){if(!r.MIDI_REGISTERED_PARAMETER[i])throw new Error("The specified parameter is not available.");i=r.MIDI_REGISTERED_PARAMETER[i]}return r.toMIDIChannels(a).forEach(function(){d._selectRegisteredParameter(i,a,u.time),d._setCurrentRegisteredParameter(s,a,u.time),d._deselectRegisteredParameter(a,u.time)}),this},l.prototype.setNonRegisteredParameter=function(i,s,a,u){var d=this;if(u=u||{},!(0<=i[0]&&i[0]<=127&&0<=i[1]&&i[1]<=127))throw new Error("Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.");return s=[].concat(s),r.toMIDIChannels(a).forEach(function(){d._selectNonRegisteredParameter(i,a,u.time),d._setCurrentRegisteredParameter(s,a,u.time),d._deselectRegisteredParameter(a,u.time)}),this},l.prototype.incrementRegisteredParameter=function(i,s,a){var u=this;if(a=a||{},!Array.isArray(i)){if(!r.MIDI_REGISTERED_PARAMETER[i])throw new Error("The specified parameter is not available.");i=r.MIDI_REGISTERED_PARAMETER[i]}return r.toMIDIChannels(s).forEach(function(){u._selectRegisteredParameter(i,s,a.time),u.sendControlChange(96,0,s,{time:a.time}),u._deselectRegisteredParameter(s,a.time)}),this},l.prototype.decrementRegisteredParameter=function(i,s,a){if(a=a||{},!Array.isArray(i)){if(!r.MIDI_REGISTERED_PARAMETER[i])throw new TypeError("The specified parameter is not available.");i=r.MIDI_REGISTERED_PARAMETER[i]}return r.toMIDIChannels(s).forEach((function(){this._selectRegisteredParameter(i,s,a.time),this.sendControlChange(97,0,s,{time:a.time}),this._deselectRegisteredParameter(s,a.time)}).bind(this)),this},l.prototype.setPitchBendRange=function(i,s,a,u){var d=this;if(u=u||{},!(0<=(i=Math.floor(i)||0)&&i<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(s=Math.floor(s)||0)&&s<=127))throw new RangeError("The cents value must be between 0 and 127");return r.toMIDIChannels(a).forEach(function(){d.setRegisteredParameter("pitchbendrange",[i,s],a,{time:u.time})}),this},l.prototype.setModulationRange=function(i,s,a,u){var d=this;if(u=u||{},!(0<=(i=Math.floor(i)||0)&&i<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(s=Math.floor(s)||0)&&s<=127))throw new RangeError("The cents value must be between 0 and 127");return r.toMIDIChannels(a).forEach(function(){d.setRegisteredParameter("modulationrange",[i,s],a,{time:u.time})}),this},l.prototype.setMasterTuning=function(i,s,a){var u=this;if(a=a||{},(i=parseFloat(i)||0)<=-65||64<=i)throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");var d=Math.floor(i)+64,p=i-Math.floor(i),m=(p=Math.round((p+1)/2*16383))>>7&127,v=127&p;return r.toMIDIChannels(s).forEach(function(){u.setRegisteredParameter("channelcoarsetuning",d,s,{time:a.time}),u.setRegisteredParameter("channelfinetuning",[m,v],s,{time:a.time})}),this},l.prototype.setTuningProgram=function(i,s,a){var u=this;if(a=a||{},!(0<=(i=Math.floor(i))&&i<=127))throw new RangeError("The program value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.setRegisteredParameter("tuningprogram",i,s,{time:a.time})}),this},l.prototype.setTuningBank=function(i,s,a){var u=this;if(a=a||{},!(0<=(i=Math.floor(i)||0)&&i<=127))throw new RangeError("The bank value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.setRegisteredParameter("tuningbank",i,s,{time:a.time})}),this},l.prototype.sendChannelMode=function(i,s,a,u){if(u=u||{},typeof i=="string"){if(!(i=r.MIDI_CHANNEL_MODE_MESSAGES[i]))throw new TypeError("Invalid channel mode message name.")}else if(!(120<=(i=Math.floor(i))&&i<=127))throw new RangeError("Channel mode numerical identifiers must be between 120 and 127.");if((s=Math.floor(s)||0)<0||127<s)throw new RangeError("Value must be an integer between 0 and 127.");return r.toMIDIChannels(a).forEach((function(d){this.send((r.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(d-1),[i,s],this._parseTimeParameter(u.time))}).bind(this)),this},l.prototype.sendProgramChange=function(i,s,a){var u=this;if(a=a||{},i=Math.floor(i),isNaN(i)||i<0||127<i)throw new RangeError("Program numbers must be between 0 and 127.");return r.toMIDIChannels(s).forEach(function(d){u.send((r.MIDI_CHANNEL_MESSAGES.programchange<<4)+(d-1),[i],u._parseTimeParameter(a.time))}),this},l.prototype.sendChannelAftertouch=function(i,s,a){var u=this;a=a||{},i=parseFloat(i),(isNaN(i)||i<0||1<i)&&(i=.5);var d=Math.round(127*i);return r.toMIDIChannels(s).forEach(function(p){u.send((r.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(p-1),[d],u._parseTimeParameter(a.time))}),this},l.prototype.sendPitchBend=function(i,s,a){var u=this;if(a=a||{},isNaN(i)||i<-1||1<i)throw new RangeError("Pitch bend value must be between -1 and 1.");var d=Math.round((i+1)/2*16383),p=d>>7&127,m=127&d;return r.toMIDIChannels(s).forEach(function(v){u.send((r.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(v-1),[m,p],u._parseTimeParameter(a.time))}),this},l.prototype._parseTimeParameter=function(i){var s,a=parseFloat(i);return typeof i=="string"&&i.substring(0,1)==="+"?a&&0<a&&(s=r.time+a):a>r.time&&(s=a),s},l.prototype._convertNoteToArray=function(i){var s=[];return Array.isArray(i)||(i=[i]),i.forEach(function(a){s.push(r.guessNoteNumber(a))}),s},e.exports?e.exports=r:t.WebMidi||(t.WebMidi=r)})(Ym)})(Em);var Yv=Em.exports;const ve=Ic(Yv),Fl=new Pm;function Xv({onNoteOn:e,onNoteOff:t}){const[n,r]=w.useState(!1),[o,l]=w.useState([]),[i,s]=w.useState([]),[a,u]=w.useState(null),[d,p]=w.useState(null),[m,v]=w.useState(["MIDI Hook Initialized..."]),[y,P]=w.useState(null),j=w.useRef(null),c=w.useCallback((M,x="INFO")=>{const L=new Date().toLocaleTimeString("en-US",{hour12:!1});let N="";x==="WARN"?N="[WARN] ":x==="ERROR"&&(N="[ERR] "),console.log(`${x}: ${M}`),v(B=>[...B.slice(-29),`${L}: ${N}${M}`])},[]),f=w.useCallback(()=>{if(c("Updating device lists..."),!ve.enabled){c("WebMidi not enabled, cannot update lists.","WARN"),l([]),s([]);return}const M=ve.inputs.map(L=>({id:L.id,name:L.name})),x=ve.outputs.map(L=>({id:L.id,name:L.name}));l(M),s(x),c(`Found ${M.length} inputs, ${x.length} outputs.`),a&&!M.find(L=>L.id===a)&&(c(`Selected input ${a} disconnected. Deselecting.`,"WARN"),S(null)),d&&!x.find(L=>L.id===d)&&(c(`Selected output ${d} disconnected. Deselecting.`,"WARN"),_(null))},[c]);w.useEffect(()=>{if(c(`Checking WebMidi.supported: ${ve.supported}`),!ve.supported){c("Web MIDI API is not supported in this browser.","ERROR"),alert("Web MIDI API is not supported in this browser environment."),r(!1);return}n||(c("Attempting to enable WebMidi (sysex: true)..."),ve.enable(M=>{M?(c(`WebMidi.enable() failed: ${M.message}`,"ERROR"),alert(`Failed to initialize MIDI: ${M.message}. Please ensure permissions are granted.`),r(!1)):(c("WebMidi enabled successfully."),r(!0),f())},{sysex:!0}))},[n,c,f]),w.useEffect(()=>()=>{ve.enabled&&(c("Disabling WebMidi on component unmount..."),ve.disable())},[]),w.useEffect(()=>{if(n&&ve.enabled){const M=x=>{var N,B;if(typeof x.port=="object"&&x.port!==null&&x.port.id!==void 0){try{c(`Device ${x.type}: Port Object: ${JSON.stringify(x.port)}`)}catch{c(`Device ${x.type}: Port Object could not be stringified.`,"WARN")}c(`Device ${x.type}: ${((N=x.port)==null?void 0:N.name)||"undefined"} (${((B=x.port)==null?void 0:B.type)||"undefined"})`)}else c(`Device ${x.type}: Received invalid Port data in event: ${JSON.stringify(x.port)}`,"WARN");x.type==="disconnected"?(c("Updating lists immediately for disconnect."),f()):x.type==="connected"?(c("Delaying list update slightly for connect (50ms)..."),setTimeout(f,50)):(c(`Updating lists for unknown event type: ${x.type}`),f())};return c("Adding WebMidi connected/disconnected listeners..."),ve.addListener("connected",M),ve.addListener("disconnected",M),()=>{c("Removing WebMidi connected/disconnected listeners..."),ve.enabled&&(ve.removeListener("connected",M),ve.removeListener("disconnected",M))}}else n&&!ve.enabled&&c("Skipping adding listeners because WebMidi is not enabled (isInitialized is true).","WARN")},[n,c,f]);const h=w.useCallback(M=>{const x=M.data;if(!x||x.length===0)return;const L=Array.from(x).map(H=>H.toString(16).padStart(2,"0").toUpperCase()).join(" "),N=x[0],B=N>>4,Y=N&15,z=x.length>1?x[1]:null,re=x.length>2?x[2]:0;let Z="";try{if(B===9&&re>0){const H=Fl.midiToNoteName(z);Z=`Note On  (Ch ${Y}): ${H} Vel: ${re}`,typeof e=="function"&&e({note:z,velocity:re,type:"noteon",timestamp:Date.now()})}else if(B===8||B===9&&re===0){const H=Fl.midiToNoteName(z);Z=`Note Off (Ch ${Y}): ${H} Vel: ${re}`,typeof t=="function"&&t({note:z,velocity:re,type:"noteoff",timestamp:Date.now()})}else if(B===11)Z=`CC       (Ch ${Y}): Ctrl ${z} Val: ${re}`;else if(B===14){const H=re<<7|z;Z=`Pitch Bend (Ch ${Y}): Val ${H}`}else if(B===10){const H=Fl.midiToNoteName(z);Z=`Poly AT  (Ch ${Y}): ${H} Pressure: ${re}`}else B===13?Z=`Channel AT (Ch ${Y}): Pressure: ${z}`:N===248?Z="Timing Clock (0xF8)":N===250?Z="Start (0xFA)":N===252?Z="Stop (0xFC)":N===254?Z="Active Sensing (0xFE)":Z=`[RAW] ${L}`}catch(H){c(`Error parsing MIDI: ${H.message}`,"ERROR"),Z=`[PARSE ERROR] ${L}`}c(`MIDI In: ${Z}`),P(M)},[c,e,t]),S=w.useCallback(M=>{if(M!==a)if(j.current&&(c(`Removing listener from previous input: ${j.current.name}`),j.current.removeListener("midimessage","all",h),j.current=null),u(M),M){const x=ve.inputs?ve.inputs.map(N=>N.id):[];c(`Trying to find input ID: ${M}. Available input IDs: [${x.join(", ")}]`);let L=null;if(ve.inputs&&ve.inputs.length>0){c("Attempting to find input via WebMidi.inputs.find() comparing as strings...");const N=String(M);L=ve.inputs.find(B=>String(B.id)===N)}L?(c(`Found device immediately via .find(): ${L.name} (ID: ${L.id})`),c(`Adding listener to new input: ${L.name}`),L.addListener("midimessage","all",h),j.current=L):c(`Could not find input device with ID: ${M} using .find().`,"ERROR")}else c("Input deselected.")},[c,a]),_=w.useCallback(M=>{const x=M!==null?Number(M):null;x!==d&&(c(`Selecting output: ${x!==null?x:"None"}`),p(x))},[c,d]),A=w.useCallback((M,x=[])=>{if(d===null){c("Cannot send MIDI message: No output selected.","WARN");return}const L=ve.outputs.find(N=>Number(N.id)===Number(d));if(L)try{const N=Array.from(x).map(Y=>Y.toString(16).padStart(2,"0").toUpperCase()).join(" "),B=M.toString(16).toUpperCase();c(`MIDI Out: Status=0x${B} Data=[${N}] to ${L.name}`),L.send(M,x)}catch(N){c(`Error sending MIDI message: ${N.message}`,"ERROR")}else{const N=ve.outputs?ve.outputs.map(B=>`ID: ${B.id} Name: ${B.name}`):["None available"];c(`[sendMessage] .find() failed to locate output device ID: ${d}`,"WARN"),c(`[sendMessage] Available outputs: [${N.join(", ")}]`,"WARN")}},[c,d]);return{isInitialized:n,inputs:o,outputs:i,selectedInputId:a,selectedOutputId:d,logMessages:m,selectInput:S,selectOutput:_,sendMessage:A,lastMidiMessage:y}}const Bs={SideStick:37,HighWoodBlock:76,LowWoodBlock:77,HighAgogo:67,Cowbell:56,Claves:75,HighTimbale:65,LowTimbale:66,Maracas:70,LowAgogo:68,MuteTriangle:80,OpenTriangle:81},Jv=120,qv=Bs.HighWoodBlock,Zv="4/4",xm=9,ey=144|xm,Mc=128|xm,ty=100,ny=127,ry=50;function oy(e){const[t,n]=w.useState(!1),[r,o]=w.useState(Jv),[l,i]=w.useState(qv),[s,a]=w.useState(Zv),[u,d]=w.useState(0),p=w.useRef(null),m=w.useRef(null),v=w.useCallback(()=>{if(p.current&&(clearInterval(p.current),p.current=null),m.current&&(clearTimeout(m.current),m.current=null),n(!1),d(0),e&&l)try{e([Mc,l,0])}catch(h){console.error("Error sending final Note Off:",h)}console.log("Metronome stopped")},[e,l]),y=w.useCallback(()=>{if(t||typeof e!="function"){console.warn("Metronome cannot start: isPlaying or sendMessage invalid");return}console.log(`Starting metronome: BPM=${r}, Sound=${l}, TimeSig=${s}`),n(!0),d(0),v();const h=60/r*1e3;let S=1/0;s==="3/4"?S=3:s==="4/4"&&(S=4),p.current=setInterval(()=>{const _=u%S+1;d(_);let A=ty;_===1&&(s==="3/4"||s==="4/4")&&(A=ny);try{console.log(`Beat: ${_}/${S}, Vel: ${A}`),e(ey,[l,A]),m.current=setTimeout(()=>{console.log(`Sending Note Off: ${l} via raw`),e(Mc,[l,0]),m.current=null},ry)}catch(M){console.error("Error sending metronome MIDI message:",M),v()}},h)},[t,r,l,e,v,s,u]);w.useEffect(()=>()=>{v()},[v]);const P=w.useCallback(()=>{t?v():y()},[t,y,v]),j=w.useCallback(h=>{const S=parseInt(h,10);!isNaN(S)&&S>0&&(console.log(`Setting BPM to ${S}`),o(S),t&&y())},[t,y]),c=w.useCallback(h=>{const S=parseInt(h,10);!isNaN(S)&&Object.values(Bs).includes(S)?(console.log(`Setting Sound Note to ${S}`),i(S)):console.warn(`Invalid sound note selected: ${h}`)},[]),f=w.useCallback(h=>{["none","3/4","4/4"].includes(h)?(console.log(`Setting Time Signature to ${h}`),a(h),d(0),t&&y()):console.warn(`Invalid time signature selected: ${h}`)},[t,y]);return{isPlaying:t,bpm:r,selectedSoundNote:l,timeSignature:s,availableSounds:Bs,togglePlay:P,changeTempo:j,changeSound:c,changeTimeSignature:f}}function Qo(e){let t=e.length,n;for(;t!==0;)n=Math.floor(Math.random()*t),t--,[e[t],e[n]]=[e[n],e[t]];return e}function iy({isDrillActive:e,currentMode:t,drillOptions:n,scaleName:r,selectedChordType:o,diatonicTriads:l,diatonicSevenths:i,selectedOctave:s,showSevenths:a,splitHandVoicing:u,splitHandInterval:d,rhInversion:p,playedNoteEvent:m,calculatedDiatonicChordNotes:v,selectedRootNote:y,ROOT_NOTES:P,transposedProgressionChords:j}){const[c,f]=w.useState([]),[h,S]=w.useState(0),[_,A]=w.useState({correct:[],incorrect:[]}),[M,x]=w.useState(new Set),[L,N]=w.useState({correctNotes:0,incorrectNotes:0}),B=w.useRef(null),Y=w.useCallback(()=>{console.log("useDrill: Generating sequence for mode:",t,"with options:",n);let H=!1;if(t==="scale_display"){const E=Ot.get(r);H=!E.empty&&E.notes}else t==="chord_search"?H=P&&P.length>0&&o:t==="diatonic_chords"?H=v&&v.length===7&&v.some(E=>Array.isArray(E)&&E.length>0):t==="chord_progression"&&(H=Array.isArray(j)&&j.length>0&&j.every(E=>E&&Array.isArray(E.midiNotes)&&E.midiNotes.length>0));if(!H){console.log("generateDrillSequence: Dependencies not valid, setting empty sequence."),f([]),S(0);return}let K=[];try{if(t==="scale_display"){const{octaves:E=1,repetitions:T=1,style:D="ascending"}=n,$=Ot.get(r);if($.empty||!$.notes){console.warn(`useDrill: Could not get scale data for ${r}`),f([]);return}let O=[];for(let W=0;W<E;W++){const ee=s+W,ie=$.notes.map(te=>V.midi(`${te}${ee}`)).filter(te=>te!==null);O.push(...ie)}let F=[...O];if(D==="ascending")F.sort((W,ee)=>W-ee);else if(D==="descending")F.sort((W,ee)=>ee-W);else if(D==="random")F=Qo(F);else if(D==="thirds"){const W=$.notes,ee=W.length,ie=[];if(ee>0)for(let te=0;te<E;te++){const Pe=s+te;for(let Ke=0;Ke<ee;Ke++){const tt=W[Ke],Bn=(Ke+2)%ee,_r=W[Bn],En=Bn<Ke?Pe+1:Pe,Hn=V.midi(`${tt}${Pe}`),de=V.midi(`${_r}${En}`);Hn!==null&&ie.push(Hn),de!==null&&ie.push(de)}}F=ie}let ae=[];for(let W=0;W<T;W++)ae.push(...F);K=ae.map(W=>({expectedMidiNotes:[W],type:"note"}))}else if(t==="chord_search"){console.log("useDrill: Generating sequence for Chord Search mode (all roots)...");const{octaves:E=1,repetitions:T=1}=n,D=[];if(!P||P.length===0){console.error("useDrill: ROOT_NOTES array is missing or empty."),f([]);return}if(!o){console.error("useDrill: selectedChordType is missing."),f([]);return}for(const F of P){const ae=`${F}${s}`;let W=[];try{const ee=Ve.getChord(o,ae);if(ee.empty||!Array.isArray(ee.notes)||ee.notes.length===0){console.warn(`useDrill: Could not get valid notes for chord ${o} at ${ae}`);continue}let ie=ee.notes;if(p>0&&p<ie.length){const te=ie.slice(0,p),Pe=ie.slice(p),Ke=te.map(tt=>V.transpose(tt,"8P"));ie=[...Pe,...Ke]}if(W=ie.map(V.midi).filter(Boolean).sort((te,Pe)=>te-Pe),W.length===0){console.warn(`useDrill: No valid MIDI notes after inversion/conversion for ${o} at ${ae}`);continue}for(let te=0;te<E;te++){const Pe=12*te,Ke=W.map(tt=>tt+Pe);D.push({expectedMidiNotes:Ke,type:"chord_search_target",rootNote:F,octaveIndex:te})}}catch(ee){console.error(`useDrill: Error getting chord notes for ${o} at ${ae}:`,ee);continue}}let $=[...D];const{style:O}=n;O==="descending"?$.reverse():O==="random"&&($=Qo($)),K=[];for(let F=0;F<T;F++)K.push(...$)}else if(t==="diatonic_chords"){const{octaves:E=1,repetitions:T=1,style:D="ascending"}=n,$=[];console.log("useDrill: Entered diatonic_chords generation block. About to loop. Notes used:",JSON.stringify(v));for(let F=0;F<E;F++){const ae=12*F;v.forEach((W,ee)=>{if(!W||W.length===0){console.warn(`useDrill: Skipping degree ${ee+1} in octave ${F+1} due to missing/empty base notes.`);return}const ie=W.map(te=>te+ae);$.push({expectedMidiNotes:ie,type:"diatonic_chord",degreeIndex:ee,octaveIndex:F})})}let O=[...$];D==="descending"?O.reverse():D==="random"&&(O=Qo(O)),K=[];for(let F=0;F<T;F++)K.push(...O)}else if(t==="chord_progression"){const{repetitions:E=1,style:T="ascending"}=n,D=[];console.log("useDrill: Generating progression drill sequence..."),j.forEach((O,F)=>{O&&O.midiNotes&&O.midiNotes.length>0?D.push({expectedMidiNotes:O.midiNotes,type:"progression_chord",roman:O.roman,name:O.name,progressionIndex:F}):console.warn(`useDrill: Skipping invalid chord data at index ${F} in progression.`)});let $=[...D];T==="descending"?$.reverse():T==="random"&&($=Qo($)),K=[];for(let O=0;O<E;O++)K.push(...$)}else console.warn(`useDrill: Unknown drill mode: ${t}`),K=[]}catch(E){console.error("useDrill: Error generating drill sequence:",E),K=[]}console.log(`useDrill: Generated ${K.length} steps.`),f(K),S(0),A({correct:[],incorrect:[]}),x(new Set),N({correctNotes:0,incorrectNotes:0})},[t,n,r,s,o,l,i,a,u,d,p,v,y,P,j]);w.useEffect(()=>{if(!e||!m||h>=c.length||m.timestamp===B.current||m.type!=="noteon")return;console.log("useDrill: Processing noteon event:",m);const H=m.note;console.log(`useDrill useEffect[playedNoteEvent]: Processing note ON ${H}`);const K=c[h];if(!K||!K.expectedMidiNotes||K.expectedMidiNotes.length===0){console.warn("useDrill: Invalid current step data.");return}const E=K.expectedMidiNotes,T=K.type;if(console.log(`useDrill: Checking step type: ${T}`),T==="note"){const D=E[0];if(H===D){console.log(`useDrill: Correct note played! Expected: ${D}, Got: ${H}`),N(O=>({...O,correctNotes:O.correctNotes+1}));const $=h+1;$<c.length?(S($),console.log(`useDrill: Advancing to step ${$}`)):(console.log("useDrill: Drill sequence completed!"),S($))}else console.log(`useDrill: Incorrect note played. Expected: ${D}, Got: ${H}`),N($=>({...$,incorrectNotes:$.incorrectNotes+1}))}else if(T==="diatonic_chord"||T==="chord_search_target"||T==="progression_chord"){const D=new Set(E);if(console.log(`useDrill ChordLogic: Checking note ${H} against expected set:`,D,"Current played set:",M),D.has(H)){const $=new Set(M).add(H);if(x($),console.log(`useDrill: Correct note for chord played: ${H}. Need ${E.length}, have ${$.size}`),$.size===E.length){console.log(`useDrill: Chord complete! Expected: [${E.join(", ")}]`),console.log("useDrill: Incrementing CORRECT score."),N(F=>({...F,correctNotes:F.correctNotes+1}));const O=h+1;O<c.length?(S(O),x(new Set),console.log(`useDrill: Advancing to chord step ${O}`)):(console.log("useDrill: Drill sequence completed!"),S(O))}}else console.log(`useDrill ChordLogic: Incorrect note ${H}. Expected one of: [${E.join(", ")}]. Current played set:`,M),console.log("useDrill: Incrementing INCORRECT score."),N($=>({...$,incorrectNotes:$.incorrectNotes+1}))}B.current=m.timestamp},[m,e,c,h,M]),w.useEffect(()=>{e?(console.log("useDrill Effect: Drill active, calling generateDrillSequence."),Y()):c.length>0&&(console.log("useDrill Effect: Drill stopped or inactive, clearing sequence."),f([]),S(0),A({correct:[],incorrect:[]}),x(new Set),N({correctNotes:0,incorrectNotes:0}))},[e,Y]);const z=c[h]||{expectedMidiNotes:[],type:null,stepIndex:0,totalSteps:0};let re="";if(z&&z.type){const H=z.type,K=z.octaveIndex||0,E=s+K;if(H==="note")re=V.fromMidi(z.expectedMidiNotes[0]);else if(H==="chord_search_target")re=`${z.rootNote}${o||""} (Octave ${E})`;else if(H==="diatonic_chord"){const T=a?i:l,D=z.degreeIndex;re=`${T&&T[D]?T[D]:"Unknown Chord"} (Octave ${E})`}else H==="progression_chord"&&(re=z.name||"Prog Chord?")}return{currentDrillStep:{...z,stepLabel:re,totalSteps:c.length},drillScore:L,notesPlayedThisStep:_}}function ui(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ui=function(t){return typeof t}:ui=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(e)}function Ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ga(e,t,n){return t&&Pc(e.prototype,t),n&&Pc(e,n),e}var Et={NOTES:[],HEADER_CHUNK_LENGTH:14,CIRCLE_OF_FOURTHS:["C","F","Bb","Eb","Ab","Db","Gb","Cb","Fb","Bbb","Ebb","Abb"],CIRCLE_OF_FIFTHS:["C","G","D","A","E","B","F#","C#","G#","D#","A#","E#"]},ly=[["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]],Ec=0,sy=function(t){ly.forEach(function(n){n.forEach(function(r){return Et.NOTES[Ec]=r+t}),Ec++})};for(var Bl=-1;Bl<=9;Bl++)sy(Bl);var ke=function(){function e(){Ua(this,e)}return Ga(e,null,[{key:"byteToHex",value:function(n){return("0"+n.toString(16)).slice(-2)}},{key:"bytesToHex",value:function(n){var r=[];return n.forEach(function(o){return r.push(e.byteToHex(o))}),r.join("")}},{key:"hexToNumber",value:function(n){return parseInt(n,16)}},{key:"bytesToNumber",value:function(n){return e.hexToNumber(e.bytesToHex(n))}},{key:"bytesToLetters",value:function(n){var r=[];return n.forEach(function(o){return r.push(String.fromCharCode(o))}),r.join("")}},{key:"decToBinary",value:function(n){return(n>>>0).toString(2)}},{key:"getVarIntLength",value:function(n){for(var r=n[0],o=1;r>=128;)r=n[o],o++;return o}},{key:"readVarInt",value:function(n){var r=0;return n.forEach(function(o){var l=o;l&128?(r+=l&127,r<<=7):r+=l}),r}},{key:"atob",value:function(t){function n(r){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}(function(t){return typeof atob=="function"?atob(t):Buffer.from(t,"base64").toString("binary")})}]),e}(),ay=function(){function e(t,n){Ua(this,e),this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.index=t,this.data=n,this.delta=0,this.runningDelta=0,this.events=[];var r=this.data.subarray(this.data.length-3,this.data.length);if(!(r[0]===255&&r[1]===47&&r[2]===0))throw"Invalid MIDI file; Last three bytes of track "+this.index+"must be FF 2F 00 to mark end of track"}return Ga(e,[{key:"reset",value:function(){return this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.delta=0,this.runningDelta=0,this}},{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"setEventIndexByTick",value:function(n){n=n||0;for(var r in this.events)if(this.events[r].tick>=n)return this.eventIndex=r,this}},{key:"getCurrentByte",value:function(){return this.data[this.pointer]}},{key:"getDeltaByteCount",value:function(){return ke.getVarIntLength(this.data.subarray(this.pointer))}},{key:"getDelta",value:function(){return ke.readVarInt(this.data.subarray(this.pointer,this.pointer+this.getDeltaByteCount()))}},{key:"handleEvent",value:function(n,r){if(r=r||!1,r){var o=n-this.lastTick,l=this.getDelta(),i=o>=l;if(this.pointer<this.data.length&&(r||i)){var s=this.parseEvent();if(this.enabled)return s}}else if(this.events[this.eventIndex]&&this.events[this.eventIndex].tick<=n&&(this.eventIndex++,this.enabled))return this.events[this.eventIndex-1];return null}},{key:"getStringData",value:function(n){var r=ke.getVarIntLength(this.data.subarray(n+2)),o=ke.readVarInt(this.data.subarray(n+2,n+2+r)),l=ke.bytesToLetters(this.data.subarray(n+2+r,n+2+r+o));return l}},{key:"parseEvent",value:function(){var n=this.pointer+this.getDeltaByteCount(),r={},o=this.getDeltaByteCount();if(r.track=this.index+1,r.delta=this.getDelta(),this.lastTick=this.lastTick+r.delta,this.runningDelta+=r.delta,r.tick=this.runningDelta,r.byteIndex=this.pointer,this.data[n]==255){switch(this.data[n+1]){case 0:r.name="Sequence Number";break;case 1:r.name="Text Event",r.string=this.getStringData(n);break;case 2:r.name="Copyright Notice";break;case 3:r.name="Sequence/Track Name",r.string=this.getStringData(n);break;case 4:r.name="Instrument Name",r.string=this.getStringData(n);break;case 5:r.name="Lyric",r.string=this.getStringData(n);break;case 6:r.name="Marker";break;case 7:r.name="Cue Point",r.string=this.getStringData(n);break;case 9:r.name="Device Name",r.string=this.getStringData(n);break;case 32:r.name="MIDI Channel Prefix";break;case 33:r.name="MIDI Port",r.data=ke.bytesToNumber([this.data[n+3]]);break;case 47:r.name="End of Track";break;case 81:r.name="Set Tempo",r.data=Math.round(6e7/ke.bytesToNumber(this.data.subarray(n+3,n+6))),this.tempo=r.data;break;case 84:r.name="SMTPE Offset";break;case 88:r.name="Time Signature",r.data=this.data.subarray(n+3,n+7),r.timeSignature=""+r.data[0]+"/"+Math.pow(2,r.data[1]);break;case 89:r.name="Key Signature",r.data=this.data.subarray(n+3,n+5),r.data[0]>=0?r.keySignature=Et.CIRCLE_OF_FIFTHS[r.data[0]]:r.data[0]<0&&(r.keySignature=Et.CIRCLE_OF_FOURTHS[Math.abs(r.data[0])]),r.data[1]==0?r.keySignature+=" Major":r.data[1]==1&&(r.keySignature+=" Minor");break;case 127:r.name="Sequencer-Specific Meta-event";break;default:r.name="Unknown: "+this.data[n+1].toString(16);break}var l=ke.getVarIntLength(this.data.subarray(n+2)),i=ke.readVarInt(this.data.subarray(n+2,n+2+l));this.pointer+=o+3+i}else if(this.data[n]===240){r.name="Sysex";var s=ke.getVarIntLength(this.data.subarray(n+1)),a=ke.readVarInt(this.data.subarray(n+1,n+1+s));r.data=this.data.subarray(n+1+s,n+1+s+a),this.pointer+=o+1+s+a}else if(this.data[n]===247){r.name="Sysex (escape)";var u=ke.getVarIntLength(this.data.subarray(n+1)),d=ke.readVarInt(this.data.subarray(n+1,n+1+u));r.data=this.data.subarray(n+1+u,n+1+u+d),this.pointer+=o+1+u+d}else if(this.data[n]<128)if(r.running=!0,r.noteNumber=this.data[n],r.noteName=Et.NOTES[this.data[n]],r.velocity=this.data[n+1],this.lastStatus<=143)r.name="Note off",r.channel=this.lastStatus-128+1,this.pointer+=o+2;else if(this.lastStatus<=159)r.name="Note on",r.channel=this.lastStatus-144+1,this.pointer+=o+2;else if(this.lastStatus<=175)r.name="Polyphonic Key Pressure",r.channel=this.lastStatus-160+1,r.note=Et.NOTES[this.data[n+1]],r.pressure=event[1],this.pointer+=o+2;else if(this.lastStatus<=191)r.name="Controller Change",r.channel=this.lastStatus-176+1,r.number=this.data[n+1],r.value=this.data[n+2],this.pointer+=o+2;else if(this.lastStatus<=207)r.name="Program Change",r.channel=this.lastStatus-192+1,r.value=this.data[n+1],this.pointer+=o+1;else if(this.lastStatus<=223)r.name="Channel Key Pressure",r.channel=this.lastStatus-208+1,this.pointer+=o+1;else if(this.lastStatus<=239)r.name="Pitch Bend",r.channel=this.lastStatus-224+1,r.value=this.data[n+2],this.pointer+=o+2;else throw"Unknown event (running): ".concat(this.lastStatus);else if(this.lastStatus=this.data[n],this.data[n]<=143)r.name="Note off",r.channel=this.lastStatus-128+1,r.noteNumber=this.data[n+1],r.noteName=Et.NOTES[this.data[n+1]],r.velocity=Math.round(this.data[n+2]/127*100),this.pointer+=o+3;else if(this.data[n]<=159)r.name="Note on",r.channel=this.lastStatus-144+1,r.noteNumber=this.data[n+1],r.noteName=Et.NOTES[this.data[n+1]],r.velocity=Math.round(this.data[n+2]/127*100),this.pointer+=o+3;else if(this.data[n]<=175)r.name="Polyphonic Key Pressure",r.channel=this.lastStatus-160+1,r.note=Et.NOTES[this.data[n+1]],r.pressure=event[2],this.pointer+=o+3;else if(this.data[n]<=191)r.name="Controller Change",r.channel=this.lastStatus-176+1,r.number=this.data[n+1],r.value=this.data[n+2],this.pointer+=o+3;else if(this.data[n]<=207)r.name="Program Change",r.channel=this.lastStatus-192+1,r.value=this.data[n+1],this.pointer+=o+2;else if(this.data[n]<=223)r.name="Channel Key Pressure",r.channel=this.lastStatus-208+1,this.pointer+=o+2;else if(this.data[n]<=239)r.name="Pitch Bend",r.channel=this.lastStatus-224+1,this.pointer+=o+3;else throw"Unknown event: ".concat(this.data[n]);return this.delta+=r.delta,this.events.push(r),r}},{key:"endOfTrack",value:function(){return this.data[this.pointer+1]==255&&this.data[this.pointer+2]==47&&this.data[this.pointer+3]==0}}]),e}();Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach});var uy=function(){function e(t,n){Ua(this,e),this.sampleRate=5,this.startTime=0,this.buffer=n||null,this.midiChunksByteLength=null,this.division,this.format,this.setIntervalId=!1,this.tracks=[],this.instruments=[],this.defaultTempo=120,this.tempo=null,this.startTick=0,this.tick=0,this.lastTick=null,this.inLoop=!1,this.totalTicks=0,this.events=[],this.totalEvents=0,this.eventListeners={},typeof t=="function"&&this.on("midiEvent",t)}return Ga(e,[{key:"loadFile",value:function(n){throw"loadFile is only supported on Node.js"}},{key:"loadArrayBuffer",value:function(n){return this.buffer=new Uint8Array(n),this.fileLoaded()}},{key:"loadDataUri",value:function(n){for(var r=ke.atob(n.split(",")[1]),o=new Uint8Array(r.length),l=0;l<r.length;l++)o[l]=r.charCodeAt(l);return this.buffer=o,this.fileLoaded()}},{key:"getFilesize",value:function(){return this.buffer?this.buffer.length:0}},{key:"fileLoaded",value:function(){if(!this.validate())throw"Invalid MIDI file; should start with MThd";return this.setTempo(this.defaultTempo).getDivision().getFormat().getTracks().dryRun()}},{key:"validate",value:function(){return ke.bytesToLetters(this.buffer.subarray(0,4))==="MThd"}},{key:"getFormat",value:function(){return this.format=ke.bytesToNumber(this.buffer.subarray(8,10)),this}},{key:"getTracks",value:function(){this.tracks=[];for(var n=0;n<this.buffer.length;){if(ke.bytesToLetters(this.buffer.subarray(n,n+4))=="MTrk"){var r=ke.bytesToNumber(this.buffer.subarray(n+4,n+8));this.tracks.push(new ay(this.tracks.length,this.buffer.subarray(n+8,n+8+r)))}n+=ke.bytesToNumber(this.buffer.subarray(n+4,n+8))+8}var o=0;return this.tracks.forEach(function(l){o+=8+l.data.length}),this.midiChunksByteLength=Et.HEADER_CHUNK_LENGTH+o,this}},{key:"enableTrack",value:function(n){return this.tracks[n-1].enable(),this}},{key:"disableTrack",value:function(n){return this.tracks[n-1].disable(),this}},{key:"getDivision",value:function(){return this.division=ke.bytesToNumber(this.buffer.subarray(12,Et.HEADER_CHUNK_LENGTH)),this}},{key:"playLoop",value:function(n){this.inLoop||(this.inLoop=!0,this.tick=this.getCurrentTick(),this.tracks.forEach(function(r,o){if(!n&&this.endOfFile())this.triggerPlayerEvent("endOfFile"),this.stop();else{var l=r.handleEvent(this.tick,n);n&&l?(l.hasOwnProperty("name")&&l.name==="Set Tempo"&&(this.defaultTempo=l.data,this.setTempo(l.data)),l.hasOwnProperty("name")&&l.name==="Program Change"&&(this.instruments.includes(l.value)||this.instruments.push(l.value))):l&&(l.hasOwnProperty("name")&&l.name==="Set Tempo"&&(this.setTempo(l.data),this.isPlaying()&&this.pause().play()),this.emitEvent(l))}},this),n||this.triggerPlayerEvent("playing",{tick:this.tick}),this.inLoop=!1)}},{key:"setTempo",value:function(n){return this.tempo=n,this}},{key:"setStartTime",value:function(n){return this.startTime=n,this}},{key:"play",value:function(){if(this.isPlaying())throw"Already playing...";return this.startTime||(this.startTime=new Date().getTime()),this.setIntervalId=setInterval(this.playLoop.bind(this),this.sampleRate),this}},{key:"loop",value:function(){setTimeout((function(){this.playLoop(),this.loop()}).bind(this),this.sampleRate)}},{key:"pause",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=this.tick,this.startTime=0,this}},{key:"stop",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=0,this.startTime=0,this.resetTracks(),this}},{key:"skipToTick",value:function(n){return this.stop(),this.startTick=n,this.tracks.forEach(function(r){r.setEventIndexByTick(n)}),this}},{key:"skipToPercent",value:function(n){if(n<0||n>100)throw"Percent must be number between 1 and 100.";return this.skipToTick(Math.round(n/100*this.totalTicks)),this}},{key:"skipToSeconds",value:function(n){var r=this.getSongTime();if(n<0||n>r)throw n+" seconds not within song time of "+r;return this.skipToPercent(n/r*100),this}},{key:"isPlaying",value:function(){return this.setIntervalId>0||ui(this.setIntervalId)==="object"}},{key:"dryRun",value:function(){for(this.resetTracks();!this.endOfFile();)this.playLoop(!0);return this.events=this.getEvents(),this.totalEvents=this.getTotalEvents(),this.totalTicks=this.getTotalTicks(),this.startTick=0,this.startTime=0,this.resetTracks(),this.triggerPlayerEvent("fileLoaded",this),this}},{key:"resetTracks",value:function(){return this.tracks.forEach(function(n){return n.reset()}),this}},{key:"getEvents",value:function(){return this.tracks.map(function(n){return n.events})}},{key:"getTotalTicks",value:function(){return Math.max.apply(null,this.tracks.map(function(n){return n.delta}))}},{key:"getTotalEvents",value:function(){return this.tracks.reduce(function(n,r){return{events:{length:n.events.length+r.events.length}}},{events:{length:0}}).events.length}},{key:"getSongTime",value:function(){return this.totalTicks/this.division/this.tempo*60}},{key:"getSongTimeRemaining",value:function(){return Math.round((this.totalTicks-this.getCurrentTick())/this.division/this.tempo*60)}},{key:"getSongPercentRemaining",value:function(){return Math.round(this.getSongTimeRemaining()/this.getSongTime()*100)}},{key:"bytesProcessed",value:function(){return Et.HEADER_CHUNK_LENGTH+this.tracks.length*8+this.tracks.reduce(function(n,r){return{pointer:n.pointer+r.pointer}},{pointer:0}).pointer}},{key:"eventsPlayed",value:function(){return this.tracks.reduce(function(n,r){return{eventIndex:n.eventIndex+r.eventIndex}},{eventIndex:0}).eventIndex}},{key:"endOfFile",value:function(){return this.isPlaying()?this.totalTicks-this.tick<=0:this.bytesProcessed()>=this.midiChunksByteLength}},{key:"getCurrentTick",value:function(){return this.startTime?Math.round((new Date().getTime()-this.startTime)/1e3*(this.division*(this.tempo/60)))+this.startTick:this.startTick}},{key:"emitEvent",value:function(n){return this.triggerPlayerEvent("midiEvent",n),this}},{key:"on",value:function(n,r){return this.eventListeners.hasOwnProperty(n)||(this.eventListeners[n]=[]),this.eventListeners[n].push(r),this}},{key:"triggerPlayerEvent",value:function(n,r){return this.eventListeners.hasOwnProperty(n)&&this.eventListeners[n].forEach(function(o){return o(r||{})}),this}}]),e}(),cy={Player:uy};function dy(e){const[t,n]=w.useState(null),[r,o]=w.useState("stopped"),[l,i]=w.useState(null),s=w.useRef(e);w.useEffect(()=>{s.current=e},[e]),w.useEffect(()=>{const m=y=>{const P=s.current;if(!P)return;let j,c=[];const f=y.channel?y.channel-1:0;switch(y.name){case"Note on":j=144|f,c=[y.noteNumber,y.velocity],y.velocity===0&&(j=128|f,c=[y.noteNumber,0]);break;case"Note off":j=128|f,c=[y.noteNumber,y.velocity!==void 0?y.velocity:0];break;case"Controller Change":case"Control Change":j=176|f,c=[y.number,y.value];break;case"Program Change":j=192|f,c=[y.value];break;case"Pitch Bend":case"Pitch Wheel":j=224|f;const h=y.value&127,S=y.value>>7&127;c=[h,S];break;case"Set Tempo":return;default:return}j!==void 0&&P(j,c)},v=new cy.Player(m);return v.on("fileLoaded",()=>{console.log("MIDI Player: File loaded.")}),v.on("playing",y=>{}),v.on("paused",()=>{}),v.on("stopped",()=>{}),v.on("endOfFile",()=>{console.log(`[useMidiPlayer] 'endOfFile' event fired. Current state: ${r}`),console.log("MIDI Player: End of file reached, looping...");try{v&&typeof v.skipToTick=="function"&&typeof v.play=="function"?(console.log("[useMidiPlayer] Scheduling loop restart..."),setTimeout(()=>{try{if(v.isPlaying()){console.warn("[useMidiPlayer] Inside setTimeout: Player already playing? Aborting loop start.");return}console.log("[useMidiPlayer] Inside setTimeout: Calling skipToTick(0) and play()..."),v.skipToTick(0),v.play(),console.log(`[useMidiPlayer] Inside setTimeout: After play() call, player.isPlaying(): ${v.isPlaying()}`),console.log("[useMidiPlayer] Inside setTimeout: Explicitly setting state back to playing for loop."),o("playing")}catch(y){console.error("[useMidiPlayer] Error inside loop setTimeout:",y),o("stopped")}},10)):(console.error("MIDI Player: Cannot loop, player instance or methods invalid."),console.log("[useMidiPlayer] Setting playbackState -> 'stopped' (loop error)"),o("stopped"))}catch(y){console.error("MIDI Player: Error during top-level loop attempt:",y),console.log("[useMidiPlayer] Setting playbackState -> 'stopped' (loop exception)"),o("stopped")}}),n(v),()=>{v&&v.stop()}},[]);const a=w.useCallback(async m=>{if(t){console.log(`Attempting to load MIDI file from URL: ${m}`);try{const v=await fetch(m);if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const y=await v.arrayBuffer();t.loadArrayBuffer(y);const P=m.substring(m.lastIndexOf("/")+1);i(P),o("stopped"),console.log(`Successfully loaded ${P} into player.`)}catch(v){console.error("Error loading MIDI file:",v),i(null),o("stopped")}}},[t]),u=w.useCallback(()=>{if(!t||!l){console.warn("Cannot play: No player or file loaded.");return}if(t.isPlaying()){console.warn("Player already playing.");return}console.log("Calling player.play()..."),t.play(),console.log("[useMidiPlayer] Setting playbackState -> 'playing' (after play call)"),o("playing")},[t,l]),d=w.useCallback(()=>{t&&t.isPlaying()&&(console.log("Calling player.pause()..."),t.pause(),console.log("[useMidiPlayer] Setting playbackState -> 'paused' (after pause call)"),o("paused"))},[t]),p=w.useCallback(()=>{t&&(console.log("Calling player.stop()..."),t.stop(),console.log("[useMidiPlayer] Setting playbackState -> 'stopped' (after stop call)"),o("stopped"))},[t]);return{playbackState:r,loadedFileName:l,loadMidiFile:a,play:u,pause:d,stop:p}}const fy=[{value:"ascending",label:"Ascending"},{value:"descending",label:"Descending"},{value:"random",label:"Random"},{value:"thirds",label:"Thirds (Scales Only)"}];function my({currentMode:e,isDrillActive:t,setIsDrillActive:n,drillNumOctaves:r,drillRepetitions:o,drillStyle:l,onDrillOctavesChange:i,onDrillRepetitionsChange:s,onDrillStyleChange:a,currentDrillStep:u,drillScore:d,style:p}){return g.jsxs("div",{style:{border:"1px solid purple",padding:"10px",...p},children:[" ",g.jsx("h4",{children:"Drill Controls"}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"drill-octaves",style:{marginRight:"10px"},children:"Octaves (Range):"}),g.jsx("input",{type:"number",id:"drill-octaves",value:r,onChange:i,min:"1",max:"4",disabled:t,style:{width:"50px",marginRight:"20px"}}),g.jsx("label",{htmlFor:"drill-style",style:{marginRight:"10px"},children:"Style:"}),g.jsx("select",{id:"drill-style",value:l,onChange:a,disabled:t,style:{marginRight:"20px"},children:fy.map(m=>g.jsx("option",{value:m.value,disabled:m.value==="thirds"&&e!=="scale_display",children:m.label},m.value))}),g.jsx("label",{htmlFor:"drill-repetitions",style:{marginRight:"10px"},children:"Repetitions:"}),g.jsx("input",{type:"number",id:"drill-repetitions",value:o,onChange:s,min:"1",max:"10",disabled:t,style:{width:"50px",marginRight:"20px"}}),g.jsx("button",{onClick:n,style:{marginLeft:"20px"},children:t?"Stop Drill":"Start Drill"})]}),t&&g.jsxs("div",{style:{marginTop:"10px"},children:[g.jsxs("span",{children:["Step: ",(u==null?void 0:u.stepIndex)!==void 0?u.stepIndex+1:"-"," / ",(u==null?void 0:u.totalSteps)||"-"," | "]}),g.jsxs("span",{children:["Score: Correct: ",(d==null?void 0:d.correctNotes)||0,", Incorrect: ",(d==null?void 0:d.incorrectNotes)||0]}),g.jsxs("p",{style:{fontWeight:"bold",marginTop:"5px"},children:["Current: ",(u==null?void 0:u.stepLabel)||"Loading..."]})]})]})}const xc=[{id:"popular",name:"The Most Popular (I-V-vi-IV)",progression:["I","V","vi","IV"]},{id:"pachelbel",name:"Pachelbel's Canon (I-V-vi-iii-IV-I-IV-V)",progression:["I","V","vi","iii","IV","I","IV","V"]},{id:"effective",name:"Effective (vi-IV-I-V)",progression:["vi","IV","I","V"]},{id:"magic",name:"Magic Changes (I-vi-IV-V)",progression:["I","vi","IV","V"]},{id:"gaining",name:"Gaining Popularity (IV-I-V-vi)",progression:["IV","I","V","vi"]},{id:"mixolydian",name:"Mixolydian Cadence (I-bVII-IV-I)",progression:["I","bVII","IV","I"]},{id:"flatVI",name:"VI setup (I-VI-V-I)",progression:["I","bVI","V","I"]},{id:"flatVII",name:"VII Cadence (e.g., I-VII-I)",progression:["I","bVII","I"]},{id:"ii-V-I",name:"Jazz Cadence (ii-V-I)",progression:["ii","V","I"]},{id:"iv-V-I",name:"Plagal Cadence style (I-IV-V-I)",progression:["I","IV","V","I"]}],Hl=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],zl=[2,3,4,5],_c=V1.names(),wc=R1.names(),Vl=[{value:"scale_display",label:"Scale Display"},{value:"chord_search",label:"Chord Search"},{value:"diatonic_chords",label:"Diatonic Chords"},{value:"chord_progression",label:"Chord Progression"}],kc=[{value:0,label:"Root Pos"},{value:1,label:"1st Inv"},{value:2,label:"2nd Inv"},{value:3,label:"3rd Inv"}];function py(){var Ja;const e=w.useRef(0),[t,n]=w.useState(Vl[0].value),[r,o]=w.useState("C"),[l,i]=w.useState(4),[s,a]=w.useState("major"),[u,d]=w.useState("maj7"),[p,m]=w.useState(0),[v,y]=w.useState(!1),[P,j]=w.useState(!1),[c,f]=w.useState(0),[h,S]=w.useState(24),[_,A]=w.useState(xc),[M,x]=w.useState(((Ja=xc[0])==null?void 0:Ja.id)||null),[L,N]=w.useState(null),[B,Y]=w.useState(new Set),[z,re]=w.useState(!1),[Z,H]=w.useState(1),[K,E]=w.useState(1),[T,D]=w.useState("ascending"),[$,O]=w.useState({}),[F,ae]=w.useState(!1),[W,ee]=w.useState(-12),[ie,te]=w.useState(!1),[Pe,Ke]=w.useState(!1),[tt,Bn]=w.useState(!1),_r=w.useMemo(()=>Array.from(B),[B]);w.useEffect(()=>{e.current++,console.log(`App.jsx Render Count: ${e.current}`)});const En=w.useMemo(()=>`${r}${l}`,[r,l]),Hn=w.useMemo(()=>V.midi(En),[En]),de=w.useMemo(()=>`${r} ${s}`,[r,s]),wr=w.useMemo(()=>Ot.get(de),[de]),ut=w.useMemo(()=>{try{const C=Ot.degrees(de);if(typeof C!="function")return[];const b=[];for(let le=1;le<=7;le++){const ne=C(le),U=C(le+2),ue=C(le+4);if(!ne||!U||!ue)continue;const ge=Ve.detect([ne,U,ue]),we=ge.length>0?ge[0]:`${ne}?`;b.push(we)}return b.length===7?b:[]}catch(C){return console.error(`Error building triads for ${de}:`,C),[]}},[de]),ct=w.useMemo(()=>{try{const C=Ot.degrees(de);if(typeof C!="function")return[];const b=[];for(let le=1;le<=7;le++){const ne=C(le),U=C(le+2),ue=C(le+4),ge=C(le+6);if(!ne||!U||!ue||!ge)continue;const we=Ve.detect([ne,U,ue,ge]),He=we.length>0?we[0]:`${ne}?7`;b.push(He)}return b.length===7?b:[]}catch(C){return console.error(`Error building 7th chords for ${de}:`,C),[]}},[de]),Qe=w.useMemo(()=>{var ue;console.log("App.jsx: Recalculating calculatedDiatonicChordNotes...");const C=`${r}${l}`,b=Ot.get(de),le=v?ct:ut,ne=[];if(b.empty||!Array.isArray(b.intervals)||b.intervals.length<7)return console.warn("App.jsx - Diatonic Drill Calc - Returning [] due to invalid scale intervals.",{scaleName:de,scaleInfoEmpty:b.empty,scaleIntervals:b.intervals}),[];if(!Array.isArray(le)||le.length<7)return console.warn("App.jsx - Diatonic Drill Calc - Returning [] due to invalid base chord names.",{showSevenths:v,diatonicTriadsLength:ut==null?void 0:ut.length,diatonicSeventhsLength:ct==null?void 0:ct.length,targetChordsLength:le==null?void 0:le.length}),[];const U=b.intervals;for(let ge=0;ge<7;ge++){let we=[];const He=le[ge],nt=U[ge];if(!(!He||!nt)){try{const X=V.transpose(C,nt);if(!X||V.midi(X)===null){console.warn(`App.jsx - Diatonic Drill Calc - Invalid root ${X} for degree ${ge+1}`);continue}const Ct=V.midi(X),Yt=Ve.get(He);if(Yt.empty){console.warn(`App.jsx - Diatonic Drill Calc - Could not parse chord ${He} to get type.`);continue}const Ye=(ue=Yt.aliases)==null?void 0:ue[0];if(!Ye){console.warn(`App.jsx - Diatonic Drill Calc - Could not get type alias for ${He}.`);continue}const Te=Ve.getChord(Ye,X);if(Te.empty||!Array.isArray(Te.notes)||Te.notes.length===0){console.warn(`App.jsx - Diatonic Drill Calc - Failed to get notes for ${Ye} at ${X}.`);continue}let Xt=Te.notes;if(c>0&&c<Xt.length){const Q=Xt.slice(0,c),J=Xt.slice(c),je=Q.map(Vn=>V.transpose(Vn,"8P"));Xt=[...J,...je]}let se=Xt;if(Pe){const Q=Ve.get(He);if(!Q.empty&&Q.intervals){const J=new Set(["1P"]),je=Q.intervals.find(Ar=>Ar.startsWith("3"));je&&J.add(je);const Vn=Q.intervals.find(Ar=>Ar.startsWith("7"));Vn&&J.add(Vn);const Jt=[],cl=V.get(X);for(const Ar of J){const Qm=V.transpose(cl,Ar);Jt.push(Qm)}se=Jt,console.log(`App.jsx (Diatonic/Shell): Applied shell voicing to ${He}. Notes:`,se)}else console.warn(`App.jsx (Diatonic/Shell): Could not get chord info for ${He} to apply shell voicing. Skipping.`)}let pe=se.map(V.midi).filter(Boolean);if(pe.length===0)continue;if(P){let Q=pe;if(ie){const J=V.midi(X);J!==null?(Q=pe.filter(je=>je!==J),console.log(`App.jsx (Diatonic/Split/Rootless): RH notes for ${He} after root ${J} removal:`,Q)):console.warn(`App.jsx (Diatonic/Split/Rootless): Could not get MIDI for root ${X} to apply rootless voicing.`)}if(Ct!==null&&Ct>=h){const J=Ct-h;J>=0&&J<=127?we=[J,...Q]:(console.warn(`App.jsx (Diatonic/Split): Calculated LH note ${J} is out of MIDI range. Using RH notes only.`),we=Q)}else we=Q}else we=pe;we=we.filter(Q=>Q!==null&&Q>=0&&Q<=127).sort((Q,J)=>Q-J)}catch(X){console.error(`Error calculating notes for degree ${ge} (${He}):`,X),we=[]}ne.push(we)}}return console.log("App.jsx: Finished calculating MIDI notes for diatonic chords. Returning valid array."),ne},[de,l,r,v,ut,ct,c,P,h,ie,Pe,tt]),vt=w.useMemo(()=>{var ne;if(console.log("App.jsx: Recalculating calculatedProgressionChords START",{voicingSplitHand:F,voicingLhOctaveOffset:W,voicingRhRootless:ie,voicingUseShell:Pe,voicingAddOctaveRoot:tt}),console.log(`App.jsx: Recalculating progression chords for ID: ${M} in key: ${de} octave: ${l}`),!M||!_.find(U=>U.id===M)||!de||wr.empty)return console.log("App.jsx: Progression calc returning early: Invalid ID, scale name, scale info, or progression object not found."),[];const C=_.find(U=>U.id===M);if(!C.progression||C.progression.length===0)return console.log(`App.jsx: Progression calc returning early: Progression array for ID ${M} is missing or empty.`),[];const b=[];wr.notes;const le=Ot.degrees(de);console.log(`App.jsx: Processing progression: [${C.progression.join(", ")}] in key ${de}`);for(const U of C.progression)try{const ue=Nv.get(U);if(console.log(`App.jsx: RomanNumeral analysis for "${U}":`,ue),ue.empty){console.warn(`App.jsx: Could not analyze Roman numeral: ${U}`),b.push({roman:U,name:`? (${U})`,notes:[],midiNotes:[],error:"Analysis failed"});continue}if(typeof ue.step!="number"||ue.step<0||ue.step>6){console.warn(`App.jsx: Roman numeral analysis for "${U}" returned an invalid step: ${ue.step}. Skipping chord generation for this step.`),b.push({roman:U,name:`? (${U})`,notes:[],midiNotes:[],error:"Invalid step from analysis"});continue}const ge=le(ue.step+1);if(!ge){console.warn(`App.jsx: Could not find scale degree ${ue.step+1} for ${de}`),b.push({roman:U,name:`?${ue.chordType||""}`,notes:[],midiNotes:[],error:"Degree note not found"});continue}const we=ue.step,He=v?ct:ut;let nt="",X=`? (${U})`;if(we>=0&&we<He.length&&He[we]){const se=He[we];if(se.startsWith(ge)){X=se;const pe=Ve.get(X);!pe.empty&&((ne=pe.aliases)!=null&&ne[0])?(nt=pe.aliases[0],console.log(`App.jsx: Using diatonic chord ${X} for ${U}. Alias: ${nt}`)):console.warn(`App.jsx: Could not get valid alias from diatonic chord name: ${X}`)}else console.warn(`App.jsx: Mismatch between expected root ${ge} (from step ${ue.step+1}) and diatonic chord root ${se} at index ${we}. This might happen with altered chords (bVII etc) or errors.`),nt=ue.chordType||(v?"7":"M"),X=`${ge}${nt}`,console.log(`App.jsx: Using fallback alias ${nt} for ${U}. Built name: ${X}`)}else console.warn(`App.jsx: Could not find valid diatonic chord for degree index ${we} (from Roman ${U}).`),nt=ue.chordType||(v?"7":"M"),X=`${ge}${nt}`;if(!nt){console.warn(`App.jsx: Still couldn't determine valid chord type alias for ${U} -> ${X}`),b.push({roman:U,name:X,notes:[],midiNotes:[],error:"Failed to determine chord type"});continue}const Ct=`${ge}${l}`,Yt=Ve.getChord(nt,Ct);if(Yt.empty||!Yt.notes||Yt.notes.length===0){console.warn(`App.jsx: Failed to get notes for type "${nt}" at root "${Ct}" (derived from ${U})`),b.push({roman:U,name:X,notes:[],midiNotes:[],error:"Note generation failed"});continue}let Ye=Yt.notes;if(c>0&&c<Ye.length){const se=Ye.slice(0,c),pe=Ye.slice(c),Q=se.map(J=>V.transpose(J,"8P"));Ye=[...pe,...Q],console.log(`App.jsx (Inversion): Applied RH inversion ${c} to ${X}. Notes:`,Ye)}if(Pe){const se=Ve.get(X);if(!se.empty&&se.intervals){const pe=new Set(["1P"]),Q=se.intervals.find(Jt=>Jt.startsWith("3"));Q&&pe.add(Q);const J=se.intervals.find(Jt=>Jt.startsWith("7"));J&&pe.add(J);const je=[],Vn=V.get(Ct);for(const Jt of pe){const cl=V.transpose(Vn,Jt);je.push(cl)}Ye=je,console.log(`App.jsx (Shell): Applied shell voicing to ${X}. Kept intervals: [${Array.from(pe).join(", ")}]. Notes:`,Ye)}else console.warn(`App.jsx (Shell): Could not get chord info for ${X} to apply shell voicing. Skipping.`)}let Te=[];const Xt=V.midi(Ct);if(F&&Xt!==null){const se=Xt+W;let pe=Ye;if(ie){const J=V.pitchClass(Ct);pe=Ye.filter(je=>V.pitchClass(je)!==J),console.log(`App.jsx (Split/Rootless): RH notes for ${X} after root removal:`,pe)}const Q=pe.map(V.midi).filter(J=>J!==null&&J>=0&&J<=127);se>=0&&se<=127?Te=[se,...Q].sort((J,je)=>J-je):(console.warn(`App.jsx (Split Hand): Calculated LH note ${se} is out of MIDI range. Using RH notes only.`),Te=Q.sort((J,je)=>J-je)),console.log(`App.jsx (Split Hand): Final MIDI for ${X}: LH ${se}, RH [${Q.join(", ")}] -> [${Te.join(", ")}]`)}else Te=Ye.map(V.midi).filter(se=>se!==null&&se>=0&&se<=127).sort((se,pe)=>se-pe),console.log(`App.jsx (Standard): Final MIDI for ${X}: [${Te.join(", ")}]`);if(tt&&Te.length>0){const se=V.pitchClass(Ct),pe=Te.find(Q=>V.pitchClass(V.fromMidi(Q))===se);if(pe!==void 0){const Q=pe+12;Q<=127&&!Te.includes(Q)&&(Te.push(Q),Te.sort((J,je)=>J-je),console.log(`App.jsx (Diatonic/Add Oct Root): Added upper octave root (${Q}) to ${X}. Notes before sort: [${Te.join(", ")}]`))}else console.warn(`App.jsx (Diatonic/Add Oct Root): Could not find root note MIDI value in final notes for ${X} to add octave.`)}console.log(`App.jsx: Successfully processed ${U} -> ${X}. FINAL MIDI: [${Te.join(", ")}]`),b.push({roman:U,name:X,notes:Yt.notes,midiNotes:Te})}catch(ue){console.error(`App.jsx: Error processing Roman numeral "${U}" in progression "${C.name}":`,ue),b.push({roman:U,name:`? (${U})`,notes:[],midiNotes:[],error:ue.message})}return console.log("App.jsx: Finished calculating progression chords:",b),b},[M,_,de,wr,l,v,ut,ct,F,W,ie,Pe,tt]),kr=w.useCallback(C=>{N(C),Y(b=>new Set(b).add(C.note))},[]),wo=w.useCallback(C=>{N(C),Y(b=>{const le=new Set(b);return le.delete(C.note),le})},[]),{isInitialized:zn,inputs:Ir,outputs:ko,selectedInputId:Io,selectedOutputId:Co,logMessages:No,selectInput:$t,selectOutput:il,sendMessage:Cr}=Xv({onNoteOn:kr,onNoteOff:wo}),{playbackState:ll,loadedFileName:sl,loadMidiFile:To,play:k,pause:yt,stop:Wa}=dy(Cr),{currentDrillStep:Qt,drillScore:Nr}=iy({isDrillActive:z,currentMode:t,drillOptions:$,scaleName:de,selectedChordType:u,diatonicTriads:ut,diatonicSevenths:ct,selectedOctave:l,showSevenths:v,splitHandVoicing:P,splitHandInterval:h,rhInversion:c,playedNoteEvent:L,calculatedDiatonicChordNotes:Qe,selectedRootNote:r,ROOT_NOTES:Hl,transposedProgressionChords:vt}),{isPlaying:Tr,bpm:al,selectedSoundNote:ul,availableSounds:_m,timeSignature:wm,togglePlay:km,changeTempo:Im,changeSound:Cm,changeTimeSignature:Nm}=oy(Cr),Tm=w.useMemo(()=>{console.log("App.jsx: Recalculating notesToHighlight START"),console.log("App.jsx: Recalculating notesToHighlight...");let C=[];const b=l,le=r;try{if(t==="scale_display"&&s){const ne=Ot.get(de);if(ne&&Array.isArray(ne.notes)){const U=ne.notes.map(ge=>V.midi(`${ge}${b}`)).filter(Boolean),ue=ne.notes.map(ge=>V.midi(`${ge}${b+1}`)).filter(Boolean);C=[...U,...ue]}}else if(t==="chord_search"&&u){if(!Hn)return[];const ne=Ve.getChord(u,`${le}${b}`);ne&&Array.isArray(ne.notes)&&(C=ne.notes.map(V.midi).filter(Boolean))}else if(t==="diatonic_chords")Array.isArray(Qe)&&p>=0&&p<Qe.length?C=Qe[p]||[]:(console.warn("App.jsx - Diatonic Highlight - Pre-calculated notes not available or degree invalid."),C=[]);else if(t==="chord_progression")if(vt&&vt.length>0){const ne=vt.flatMap(U=>U.midiNotes||[]);C=[...new Set(ne)],console.log("App.jsx - Progression Highlight - Highlighting notes:",C)}else console.log("App.jsx - Progression Highlight - No transposed chords available."),C=[]}catch(ne){console.error("Error calculating notes:",ne),C=[]}return C.filter(ne=>ne!==null&&ne>=0&&ne<=127)},[t,de,l,u,r,p,Qe,vt,F,W,ie,Pe,tt]),Am=w.useMemo(()=>_.find(C=>C.id===M),[M,_]),Dm=C=>{Vl.find(b=>b.value===C)&&n(C)},jm=C=>{Hl.includes(C)&&o(C)},Rm=C=>{const b=parseInt(C,10);zl.includes(b)&&i(b)},$m=C=>{_c.includes(C)&&(a(C),n("scale_display"),m(0))},Lm=C=>{wc.includes(C)&&(d(C),n("chord_search"))},bm=C=>{m(C),t!=="diatonic_chords"&&n("diatonic_chords")},Om=C=>{y(C.target.checked),!C.target.checked&&c===3&&f(0)},Fm=C=>{console.log("App.jsx: handleSplitHandVoicingChange - Setting splitHandVoicing to:",C.target.checked),j(C.target.checked)},Bm=C=>{const b=parseInt(C,10);!v&&b===3||kc.find(le=>le.value===b)&&f(b)},Hm=C=>{const b=parseInt(C.target.value,10);(b===12||b===24)&&S(b)},Ka=C=>{const b=parseInt(C.target.value,10);b>=1&&b<=4&&H(b)},Qa=C=>{const b=parseInt(C.target.value,10);b>=1&&b<=10&&E(b)},Ya=C=>{const b=C.target.value;D(b)},Xa=()=>{const C=!z;O(C?{octaves:Z,repetitions:K,style:T}:{}),re(C)},zm=C=>{_.find(b=>b.id===C)&&x(C)},Vm=C=>{console.log("App.jsx: handleVoicingSplitHandChange - Setting voicingSplitHand to:",C.target.checked),ae(C.target.checked),C.target.checked||te(!1)},Um=C=>{const b=parseInt(C,10);(b===-12||b===-24)&&ee(b)},Gm=C=>{te(C.target.checked)},Wm=C=>{Ke(C.target.checked)},Km=C=>{Bn(C.target.checked)};return g.jsxs("div",{className:"App",children:[g.jsx("h1",{children:"Piano Helper (React Version)"}),g.jsx(Qv,{rootNote:Hn,notesToHighlight:Tm,octaveRange:zl,playedNotes:_r,expectedNotes:z?Qt.expectedMidiNotes:[],lowestNote:48}),g.jsxs("div",{style:{display:"flex",gap:"20px",marginTop:"10px",alignItems:"flex-start"},children:[g.jsx(Wv,{style:{flex:1},selectedRoot:En,selectedScaleType:s,selectedChordType:u,currentMode:t,diatonicTriads:ut,diatonicSevenths:ct,selectedDiatonicDegree:p,showSevenths:v,selectedProgression:Am,transposedProgressionChords:vt}),g.jsx(Gv,{style:{flex:2},modes:Vl,currentMode:t,onModeChange:Dm,rootNotes:Hl,octaves:zl,scaleTypes:_c,chordTypes:wc,selectedRootNote:r,selectedOctave:l,selectedScaleType:s,selectedChordType:u,onRootChange:jm,onOctaveChange:Rm,onScaleChange:$m,onChordChange:Lm,diatonicTriads:ut,diatonicSevenths:ct,selectedDiatonicDegree:p,showSevenths:v,splitHandVoicing:P,rhInversion:c,inversions:kc,onDiatonicDegreeChange:bm,onShowSeventhsChange:Om,onSplitHandVoicingChange:Fm,onRhInversionChange:Bm,splitHandInterval:h,onSplitHandIntervalChange:Hm,midiInputs:Ir,midiOutputs:ko,selectedInputId:Io,selectedOutputId:Co,onSelectInput:$t,onSelectOutput:il,isMidiInitialized:zn,sendMidiMessage:Cr,availableProgressions:_,selectedProgressionId:M,onProgressionChange:zm,voicingSplitHand:F,voicingLhOctaveOffset:W,voicingRhRootless:ie,onVoicingSplitHandChange:Vm,onVoicingLhOffsetChange:Um,onVoicingRhRootlessChange:Gm,onVoicingUseShellChange:Wm,onVoicingAddOctaveRootChange:Km,isMetronomePlaying:Tr,metronomeBpm:al,metronomeSoundNote:ul,metronomeSounds:_m,metronomeTimeSignature:wm,onToggleMetronome:km,onChangeMetronomeTempo:Im,onChangeMetronomeSound:Cm,onChangeMetronomeTimeSignature:Nm,isDrillActive:z,setIsDrillActive:Xa,drillOptions:$,setDrillOptions:O,currentDrillStep:Qt,drillScore:Nr,drillNumOctaves:Z,drillRepetitions:K,onDrillOctavesChange:Ka,onDrillRepetitionsChange:Qa,drillStyle:T,onDrillStyleChange:Ya,playbackState:ll,loadedMidiFileName:sl,availableMidiFiles:[{name:"9-8 NmlStr Tambourine 141",url:"/Piano_Helper/midi-files/JBB_9-8_NmlStr_Tambourine_141.mid"},{name:"4-4 NmlStr Triangles 130",url:"/Piano_Helper/midi-files/JBB_4-4_NmlStr_Triangles_130.mid"},{name:"4-4 NmlStr Toms 129",url:"/Piano_Helper/midi-files/JBB_4-4_NmlStr_Toms_129.mid"},{name:"3-4 NmlStr Shaker 128",url:"/Piano_Helper/midi-files/JBB_3-4_NmlStr_Shaker_128.mid"},{name:"3-4 NmlStr Kicks 127",url:"/Piano_Helper/midi-files/JBB_3-4_NmlStr_Kicks_127.mid"},{name:"3-4 NmlStr HiHats 126",url:"/Piano_Helper/midi-files/JBB_3-4_NmlStr_HiHats_126.mid"},{name:"3-4 NmlStr Cowbell 125",url:"/Piano_Helper/midi-files/JBB_3-4_NmlStr_Cowbell_125.mid"},{name:"3-4 NmlMedSwg Snares 124",url:"/Piano_Helper/midi-files/JBB_3-4_NmlMedSwg_Snares_124.mid"},{name:"3-4 NmlMedSwg Rides 123",url:"/Piano_Helper/midi-files/JBB_3-4_NmlMedSwg_Rides_123.mid"},{name:"2-4 NmlStr Cabasa 122",url:"/Piano_Helper/midi-files/JBB_2-4_NmlStr_Cabasa_122.mid"},{name:"12-8 NmlStr Congas 145",url:"/Piano_Helper/midi-files/JBB_12-8_NmlStr_Congas_145.mid"},{name:"12-8 NmlStr Bongos 144",url:"/Piano_Helper/midi-files/JBB_12-8_NmlStr_Bongos_144.mid"},{name:"9-8 NmlStr T024 FullKit 117",url:"/Piano_Helper/midi-files/JBB_9-8_NmlStr_T024_FullKit_117.mid"},{name:"12-8 NmlStr T096 FullKit 120",url:"/Piano_Helper/midi-files/JBB_12-8_NmlStr_T096_FullKit_120.mid"},{name:"6-8 NmlStr T057 FullKit 115",url:"/Piano_Helper/midi-files/JBB_6-8_NmlStr_T057_FullKit_115.mid"},{name:"4-4 NmlStr T088 FullKit 109",url:"/Piano_Helper/midi-files/JBB_4-4_NmlStr_T088_FullKit_109.mid"},{name:"4-4 NmlStr T009 FullKit 110",url:"/Piano_Helper/midi-files/JBB_4-4_NmlStr_T009_FullKit_110.mid"},{name:"4-4 NmlMedSwg T076 FullKit 108",url:"/Piano_Helper/midi-files/JBB_4-4_NmlMedSwg_T076_FullKit_108.mid"},{name:"4-4 NmlMedSwg T069 FullKit 106",url:"/Piano_Helper/midi-files/JBB_4-4_NmlMedSwg_T069_FullKit_106.mid"},{name:"4-4 NmlMedSwg T008 FullKit 107",url:"/Piano_Helper/midi-files/JBB_4-4_NmlMedSwg_T008_FullKit_107.mid"},{name:"4-4 DblTmMedSwg T017 FullKit 103",url:"/Piano_Helper/midi-files/JBB_4-4_DblTmMedSwg_T017_FullKit_103.mid"},{name:"4-4 DblTmMedSwg T014 FullKit 104",url:"/Piano_Helper/midi-files/JBB_4-4_DblTmMedSwg_T014_FullKit_104.mid"},{name:"4-4 DblTmMedSwg T007 FullKit 102",url:"/Piano_Helper/midi-files/JBB_4-4_DblTmMedSwg_T007_FullKit_102.mid"}],onLoadMidiFile:To,onPlayMidiFile:k,onPauseMidiFile:yt,onStopMidiFile:Wa}),g.jsx(my,{style:{flex:1},currentMode:t,isDrillActive:z,setIsDrillActive:Xa,drillNumOctaves:Z,drillRepetitions:K,drillStyle:T,onDrillOctavesChange:Ka,onDrillRepetitionsChange:Qa,onDrillStyleChange:Ya,currentDrillStep:Qt,drillScore:Nr})]}),g.jsx(Kv,{logMessages:No})]})}Ul.createRoot(document.getElementById("root")).render(g.jsx(dp.StrictMode,{children:g.jsx(py,{})}));
