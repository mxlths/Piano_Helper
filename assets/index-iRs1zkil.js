(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var Ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ac(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dc={exports:{}},jo={},Lc={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mi=Symbol.for("react.element"),Xm=Symbol.for("react.portal"),qm=Symbol.for("react.fragment"),Zm=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),tp=Symbol.for("react.provider"),np=Symbol.for("react.context"),rp=Symbol.for("react.forward_ref"),ip=Symbol.for("react.suspense"),op=Symbol.for("react.memo"),lp=Symbol.for("react.lazy"),nu=Symbol.iterator;function sp(e){return e===null||typeof e!="object"?null:(e=nu&&e[nu]||e["@@iterator"],typeof e=="function"?e:null)}var Fc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jc=Object.assign,$c={};function vr(e,t,n){this.props=e,this.context=t,this.refs=$c,this.updater=n||Fc}vr.prototype.isReactComponent={};vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bc(){}Bc.prototype=vr.prototype;function Us(e,t,n){this.props=e,this.context=t,this.refs=$c,this.updater=n||Fc}var Gs=Us.prototype=new Bc;Gs.constructor=Us;jc(Gs,vr.prototype);Gs.isPureReactComponent=!0;var ru=Array.isArray,bc=Object.prototype.hasOwnProperty,Ws={current:null},Oc={key:!0,ref:!0,__self:!0,__source:!0};function zc(e,t,n){var r,i={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)bc.call(t,r)&&!Oc.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:mi,type:e,key:l,ref:o,props:i,_owner:Ws.current}}function ap(e,t){return{$$typeof:mi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Js(e){return typeof e=="object"&&e!==null&&e.$$typeof===mi}function up(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var iu=/\/+/g;function yl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?up(""+e.key):t.toString(36)}function Ji(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mi:case Xm:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+yl(o,0):r,ru(i)?(n="",e!=null&&(n=e.replace(iu,"$&/")+"/"),Ji(i,t,n,"",function(u){return u})):i!=null&&(Js(i)&&(i=ap(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(iu,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",ru(e))for(var s=0;s<e.length;s++){l=e[s];var a=r+yl(l,s);o+=Ji(l,t,n,a,i)}else if(a=sp(e),typeof a=="function")for(e=a.call(e),s=0;!(l=e.next()).done;)l=l.value,a=r+yl(l,s++),o+=Ji(l,t,n,a,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ti(e,t,n){if(e==null)return e;var r=[],i=0;return Ji(e,r,"","",function(l){return t.call(n,l,i++)}),r}function cp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},Qi={transition:null},dp={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:Qi,ReactCurrentOwner:Ws};function Hc(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Ti,forEach:function(e,t,n){Ti(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ti(e,function(){t++}),t},toArray:function(e){return Ti(e,function(t){return t})||[]},only:function(e){if(!Js(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=vr;G.Fragment=qm;G.Profiler=ep;G.PureComponent=Us;G.StrictMode=Zm;G.Suspense=ip;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dp;G.act=Hc;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jc({},e.props),i=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Ws.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)bc.call(t,a)&&!Oc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:mi,type:e.type,key:i,ref:l,props:r,_owner:o}};G.createContext=function(e){return e={$$typeof:np,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tp,_context:e},e.Consumer=e};G.createElement=zc;G.createFactory=function(e){var t=zc.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:rp,render:e}};G.isValidElement=Js;G.lazy=function(e){return{$$typeof:lp,_payload:{_status:-1,_result:e},_init:cp}};G.memo=function(e,t){return{$$typeof:op,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Qi.transition;Qi.transition={};try{e()}finally{Qi.transition=t}};G.unstable_act=Hc;G.useCallback=function(e,t){return We.current.useCallback(e,t)};G.useContext=function(e){return We.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return We.current.useDeferredValue(e)};G.useEffect=function(e,t){return We.current.useEffect(e,t)};G.useId=function(){return We.current.useId()};G.useImperativeHandle=function(e,t,n){return We.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return We.current.useMemo(e,t)};G.useReducer=function(e,t,n){return We.current.useReducer(e,t,n)};G.useRef=function(e){return We.current.useRef(e)};G.useState=function(e){return We.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return We.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return We.current.useTransition()};G.version="18.3.1";Lc.exports=G;var x=Lc.exports;const fp=Ac(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp=x,pp=Symbol.for("react.element"),hp=Symbol.for("react.fragment"),gp=Object.prototype.hasOwnProperty,vp=mp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yp={key:!0,ref:!0,__self:!0,__source:!0};function Kc(e,t,n){var r,i={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)gp.call(t,r)&&!yp.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:pp,type:e,key:l,ref:o,props:i,_owner:vp.current}}jo.Fragment=hp;jo.jsx=Kc;jo.jsxs=Kc;Dc.exports=jo;var g=Dc.exports,Jl={},Vc={exports:{}},st={},Uc={exports:{}},Gc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,R){var L=M.length;M.push(R);e:for(;0<L;){var $=L-1>>>1,b=M[$];if(0<i(b,R))M[$]=R,M[L]=b,L=$;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var R=M[0],L=M.pop();if(L!==R){M[0]=L;e:for(var $=0,b=M.length,H=b>>>1;$<H;){var se=2*($+1)-1,Q=M[se],te=se+1,oe=M[te];if(0>i(Q,L))te<b&&0>i(oe,Q)?(M[$]=oe,M[te]=L,$=te):(M[$]=Q,M[se]=L,$=se);else if(te<b&&0>i(oe,L))M[$]=oe,M[te]=L,$=te;else break e}}return R}function i(M,R){var L=M.sortIndex-R.sortIndex;return L!==0?L:M.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var a=[],u=[],d=1,p=null,m=3,v=!1,y=!1,N=!1,F=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(M){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=M)r(u),R.sortIndex=R.expirationTime,t(a,R);else break;R=n(u)}}function S(M){if(N=!1,h(M),!y)if(n(a)!==null)y=!0,z(E);else{var R=n(u);R!==null&&J(S,R.startTime-M)}}function E(M,R){y=!1,N&&(N=!1,f(P),P=-1),v=!0;var L=m;try{for(h(R),p=n(a);p!==null&&(!(p.expirationTime>R)||M&&!K());){var $=p.callback;if(typeof $=="function"){p.callback=null,m=p.priorityLevel;var b=$(p.expirationTime<=R);R=e.unstable_now(),typeof b=="function"?p.callback=b:p===n(a)&&r(a),h(R)}else r(a);p=n(a)}if(p!==null)var H=!0;else{var se=n(u);se!==null&&J(S,se.startTime-R),H=!1}return H}finally{p=null,m=L,v=!1}}var T=!1,_=null,P=-1,D=5,I=-1;function K(){return!(e.unstable_now()-I<D)}function W(){if(_!==null){var M=e.unstable_now();I=M;var R=!0;try{R=_(!0,M)}finally{R?j():(T=!1,_=null)}}else T=!1}var j;if(typeof c=="function")j=function(){c(W)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ee=O.port2;O.port1.onmessage=W,j=function(){ee.postMessage(null)}}else j=function(){F(W,0)};function z(M){_=M,T||(T=!0,j())}function J(M,R){P=F(function(){M(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,z(E))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var L=m;m=R;try{return M()}finally{m=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,R){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var L=m;m=M;try{return R()}finally{m=L}},e.unstable_scheduleCallback=function(M,R,L){var $=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?$+L:$):L=$,M){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=L+b,M={id:d++,callback:R,priorityLevel:M,startTime:L,expirationTime:b,sortIndex:-1},L>$?(M.sortIndex=L,t(u,M),n(a)===null&&M===n(u)&&(N?(f(P),P=-1):N=!0,J(S,L-$))):(M.sortIndex=b,t(a,M),y||v||(y=!0,z(E))),M},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(M){var R=m;return function(){var L=m;m=R;try{return M.apply(this,arguments)}finally{m=L}}}})(Gc);Uc.exports=Gc;var Sp=Uc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=x,lt=Sp;function w(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wc=new Set,Qr={};function jn(e,t){ar(e,t),ar(e+"Capture",t)}function ar(e,t){for(Qr[e]=t,e=0;e<t.length;e++)Wc.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,Mp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ou={},lu={};function Pp(e){return Ql.call(lu,e)?!0:Ql.call(ou,e)?!1:Mp.test(e)?lu[e]=!0:(ou[e]=!0,!1)}function Np(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ep(e,t,n,r){if(t===null||typeof t>"u"||Np(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Je(e,t,n,r,i,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new Je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new Je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new Je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new Je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new Je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new Je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new Je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new Je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new Je(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qs=/[\-:]([a-z])/g;function Ys(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qs,Ys);je[t]=new Je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qs,Ys);je[t]=new Je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qs,Ys);je[t]=new Je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new Je(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new Je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new Je(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xs(e,t,n,r){var i=je.hasOwnProperty(t)?je[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ep(t,n,i,r)&&(n=null),r||i===null?Pp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jt=_p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ri=Symbol.for("react.element"),Vn=Symbol.for("react.portal"),Un=Symbol.for("react.fragment"),qs=Symbol.for("react.strict_mode"),Yl=Symbol.for("react.profiler"),Jc=Symbol.for("react.provider"),Qc=Symbol.for("react.context"),Zs=Symbol.for("react.forward_ref"),Xl=Symbol.for("react.suspense"),ql=Symbol.for("react.suspense_list"),ea=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),Yc=Symbol.for("react.offscreen"),su=Symbol.iterator;function Cr(e){return e===null||typeof e!="object"?null:(e=su&&e[su]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Sl;function jr(e){if(Sl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sl=t&&t[1]||""}return`
`+Sl+e}var _l=!1;function Ml(e,t){if(!e||_l)return"";_l=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),l=r.stack.split(`
`),o=i.length-1,s=l.length-1;1<=o&&0<=s&&i[o]!==l[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==l[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==l[s]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=s);break}}}finally{_l=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jr(e):""}function kp(e){switch(e.tag){case 5:return jr(e.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 2:case 15:return e=Ml(e.type,!1),e;case 11:return e=Ml(e.type.render,!1),e;case 1:return e=Ml(e.type,!0),e;default:return""}}function Zl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Un:return"Fragment";case Vn:return"Portal";case Yl:return"Profiler";case qs:return"StrictMode";case Xl:return"Suspense";case ql:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qc:return(e.displayName||"Context")+".Consumer";case Jc:return(e._context.displayName||"Context")+".Provider";case Zs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ea:return t=e.displayName||null,t!==null?t:Zl(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return Zl(e(t))}catch{}}return null}function xp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zl(t);case 8:return t===qs?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wp(e){var t=Xc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ai(e){e._valueTracker||(e._valueTracker=wp(e))}function qc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function uo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function es(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function au(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zc(e,t){t=t.checked,t!=null&&Xs(e,"checked",t,!1)}function ts(e,t){Zc(e,t);var n=pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ns(e,t.type,n):t.hasOwnProperty("defaultValue")&&ns(e,t.type,pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ns(e,t,n){(t!=="number"||uo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $r=Array.isArray;function nr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(w(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(w(92));if($r(n)){if(1<n.length)throw Error(w(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pn(n)}}function ed(e,t){var n=pn(t.value),r=pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function du(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function td(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function is(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?td(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Di,nd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Di=Di||document.createElement("div"),Di.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Di.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cp=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(e){Cp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Or[t]=Or[e]})});function rd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Or.hasOwnProperty(e)&&Or[e]?(""+t).trim():t+"px"}function id(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ip=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function os(e,t){if(t){if(Ip[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(w(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(w(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(w(61))}if(t.style!=null&&typeof t.style!="object")throw Error(w(62))}}function ls(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ss=null;function ta(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var as=null,rr=null,ir=null;function fu(e){if(e=gi(e)){if(typeof as!="function")throw Error(w(280));var t=e.stateNode;t&&(t=zo(t),as(e.stateNode,e.type,t))}}function od(e){rr?ir?ir.push(e):ir=[e]:rr=e}function ld(){if(rr){var e=rr,t=ir;if(ir=rr=null,fu(e),t)for(e=0;e<t.length;e++)fu(t[e])}}function sd(e,t){return e(t)}function ad(){}var Pl=!1;function ud(e,t,n){if(Pl)return e(t,n);Pl=!0;try{return sd(e,t,n)}finally{Pl=!1,(rr!==null||ir!==null)&&(ad(),ld())}}function Xr(e,t){var n=e.stateNode;if(n===null)return null;var r=zo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(w(231,t,typeof n));return n}var us=!1;if(Kt)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){us=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{us=!1}function Tp(e,t,n,r,i,l,o,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var zr=!1,co=null,fo=!1,cs=null,Rp={onError:function(e){zr=!0,co=e}};function Ap(e,t,n,r,i,l,o,s,a){zr=!1,co=null,Tp.apply(Rp,arguments)}function Dp(e,t,n,r,i,l,o,s,a){if(Ap.apply(this,arguments),zr){if(zr){var u=co;zr=!1,co=null}else throw Error(w(198));fo||(fo=!0,cs=u)}}function $n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mu(e){if($n(e)!==e)throw Error(w(188))}function Lp(e){var t=e.alternate;if(!t){if(t=$n(e),t===null)throw Error(w(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return mu(i),e;if(l===r)return mu(i),t;l=l.sibling}throw Error(w(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=l;break}if(s===r){o=!0,r=i,n=l;break}s=s.sibling}if(!o){for(s=l.child;s;){if(s===n){o=!0,n=l,r=i;break}if(s===r){o=!0,r=l,n=i;break}s=s.sibling}if(!o)throw Error(w(189))}}if(n.alternate!==r)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?e:t}function dd(e){return e=Lp(e),e!==null?fd(e):null}function fd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fd(e);if(t!==null)return t;e=e.sibling}return null}var md=lt.unstable_scheduleCallback,pu=lt.unstable_cancelCallback,Fp=lt.unstable_shouldYield,jp=lt.unstable_requestPaint,Ee=lt.unstable_now,$p=lt.unstable_getCurrentPriorityLevel,na=lt.unstable_ImmediatePriority,pd=lt.unstable_UserBlockingPriority,mo=lt.unstable_NormalPriority,Bp=lt.unstable_LowPriority,hd=lt.unstable_IdlePriority,$o=null,Dt=null;function bp(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot($o,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Hp,Op=Math.log,zp=Math.LN2;function Hp(e){return e>>>=0,e===0?32:31-(Op(e)/zp|0)|0}var Li=64,Fi=4194304;function Br(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function po(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Br(s):(l&=o,l!==0&&(r=Br(l)))}else o=n&~i,o!==0?r=Br(o):l!==0&&(r=Br(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nt(t),i=1<<n,r|=e[n],t&=~i;return r}function Kp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Nt(l),s=1<<o,a=i[o];a===-1?(!(s&n)||s&r)&&(i[o]=Kp(s,t)):a<=t&&(e.expiredLanes|=s),l&=~s}}function ds(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gd(){var e=Li;return Li<<=1,!(Li&4194240)&&(Li=64),e}function Nl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function Up(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Nt(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function ra(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ie=0;function vd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yd,ia,Sd,_d,Md,fs=!1,ji=[],ln=null,sn=null,an=null,qr=new Map,Zr=new Map,tn=[],Gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hu(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(t.pointerId)}}function Tr(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=gi(t),t!==null&&ia(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Wp(e,t,n,r,i){switch(t){case"focusin":return ln=Tr(ln,e,t,n,r,i),!0;case"dragenter":return sn=Tr(sn,e,t,n,r,i),!0;case"mouseover":return an=Tr(an,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return qr.set(l,Tr(qr.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,Zr.set(l,Tr(Zr.get(l)||null,e,t,n,r,i)),!0}return!1}function Pd(e){var t=En(e.target);if(t!==null){var n=$n(t);if(n!==null){if(t=n.tag,t===13){if(t=cd(n),t!==null){e.blockedOn=t,Md(e.priority,function(){Sd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ms(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ss=r,n.target.dispatchEvent(r),ss=null}else return t=gi(n),t!==null&&ia(t),e.blockedOn=n,!1;t.shift()}return!0}function gu(e,t,n){Yi(e)&&n.delete(t)}function Jp(){fs=!1,ln!==null&&Yi(ln)&&(ln=null),sn!==null&&Yi(sn)&&(sn=null),an!==null&&Yi(an)&&(an=null),qr.forEach(gu),Zr.forEach(gu)}function Rr(e,t){e.blockedOn===t&&(e.blockedOn=null,fs||(fs=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,Jp)))}function ei(e){function t(i){return Rr(i,e)}if(0<ji.length){Rr(ji[0],e);for(var n=1;n<ji.length;n++){var r=ji[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ln!==null&&Rr(ln,e),sn!==null&&Rr(sn,e),an!==null&&Rr(an,e),qr.forEach(t),Zr.forEach(t),n=0;n<tn.length;n++)r=tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)Pd(n),n.blockedOn===null&&tn.shift()}var or=Jt.ReactCurrentBatchConfig,ho=!0;function Qp(e,t,n,r){var i=ie,l=or.transition;or.transition=null;try{ie=1,oa(e,t,n,r)}finally{ie=i,or.transition=l}}function Yp(e,t,n,r){var i=ie,l=or.transition;or.transition=null;try{ie=4,oa(e,t,n,r)}finally{ie=i,or.transition=l}}function oa(e,t,n,r){if(ho){var i=ms(e,t,n,r);if(i===null)Dl(e,t,r,go,n),hu(e,r);else if(Wp(i,e,t,n,r))r.stopPropagation();else if(hu(e,r),t&4&&-1<Gp.indexOf(e)){for(;i!==null;){var l=gi(i);if(l!==null&&yd(l),l=ms(e,t,n,r),l===null&&Dl(e,t,r,go,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else Dl(e,t,r,null,n)}}var go=null;function ms(e,t,n,r){if(go=null,e=ta(r),e=En(e),e!==null)if(t=$n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return go=e,null}function Nd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($p()){case na:return 1;case pd:return 4;case mo:case Bp:return 16;case hd:return 536870912;default:return 16}default:return 16}}var rn=null,la=null,Xi=null;function Ed(){if(Xi)return Xi;var e,t=la,n=t.length,r,i="value"in rn?rn.value:rn.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[l-r];r++);return Xi=i.slice(e,1<r?1-r:void 0)}function qi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function vu(){return!1}function at(e){function t(n,r,i,l,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(l):l[s]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?$i:vu,this.isPropagationStopped=vu,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),t}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=at(yr),hi=ye({},yr,{view:0,detail:0}),Xp=at(hi),El,kl,Ar,Bo=ye({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ar&&(Ar&&e.type==="mousemove"?(El=e.screenX-Ar.screenX,kl=e.screenY-Ar.screenY):kl=El=0,Ar=e),El)},movementY:function(e){return"movementY"in e?e.movementY:kl}}),yu=at(Bo),qp=ye({},Bo,{dataTransfer:0}),Zp=at(qp),eh=ye({},hi,{relatedTarget:0}),xl=at(eh),th=ye({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),nh=at(th),rh=ye({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ih=at(rh),oh=ye({},yr,{data:0}),Su=at(oh),lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ah[e])?!!t[e]:!1}function aa(){return uh}var ch=ye({},hi,{key:function(e){if(e.key){var t=lh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(e){return e.type==="keypress"?qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dh=at(ch),fh=ye({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_u=at(fh),mh=ye({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),ph=at(mh),hh=ye({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gh=at(hh),vh=ye({},Bo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yh=at(vh),Sh=[9,13,27,32],ua=Kt&&"CompositionEvent"in window,Hr=null;Kt&&"documentMode"in document&&(Hr=document.documentMode);var _h=Kt&&"TextEvent"in window&&!Hr,kd=Kt&&(!ua||Hr&&8<Hr&&11>=Hr),Mu=" ",Pu=!1;function xd(e,t){switch(e){case"keyup":return Sh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function Mh(e,t){switch(e){case"compositionend":return wd(t);case"keypress":return t.which!==32?null:(Pu=!0,Mu);case"textInput":return e=t.data,e===Mu&&Pu?null:e;default:return null}}function Ph(e,t){if(Gn)return e==="compositionend"||!ua&&xd(e,t)?(e=Ed(),Xi=la=rn=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kd&&t.locale!=="ko"?null:t.data;default:return null}}var Nh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nh[e.type]:t==="textarea"}function Cd(e,t,n,r){od(r),t=vo(t,"onChange"),0<t.length&&(n=new sa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kr=null,ti=null;function Eh(e){bd(e,0)}function bo(e){var t=Qn(e);if(qc(t))return e}function kh(e,t){if(e==="change")return t}var Id=!1;if(Kt){var wl;if(Kt){var Cl="oninput"in document;if(!Cl){var Eu=document.createElement("div");Eu.setAttribute("oninput","return;"),Cl=typeof Eu.oninput=="function"}wl=Cl}else wl=!1;Id=wl&&(!document.documentMode||9<document.documentMode)}function ku(){Kr&&(Kr.detachEvent("onpropertychange",Td),ti=Kr=null)}function Td(e){if(e.propertyName==="value"&&bo(ti)){var t=[];Cd(t,ti,e,ta(e)),ud(Eh,t)}}function xh(e,t,n){e==="focusin"?(ku(),Kr=t,ti=n,Kr.attachEvent("onpropertychange",Td)):e==="focusout"&&ku()}function wh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bo(ti)}function Ch(e,t){if(e==="click")return bo(t)}function Ih(e,t){if(e==="input"||e==="change")return bo(t)}function Th(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Th;function ni(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ql.call(t,i)||!kt(e[i],t[i]))return!1}return!0}function xu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wu(e,t){var n=xu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xu(n)}}function Rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ad(){for(var e=window,t=uo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uo(e.document)}return t}function ca(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rh(e){var t=Ad(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rd(n.ownerDocument.documentElement,n)){if(r!==null&&ca(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=wu(n,l);var o=wu(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ah=Kt&&"documentMode"in document&&11>=document.documentMode,Wn=null,ps=null,Vr=null,hs=!1;function Cu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hs||Wn==null||Wn!==uo(r)||(r=Wn,"selectionStart"in r&&ca(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vr&&ni(Vr,r)||(Vr=r,r=vo(ps,"onSelect"),0<r.length&&(t=new sa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wn)))}function Bi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jn={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionend:Bi("Transition","TransitionEnd")},Il={},Dd={};Kt&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function Oo(e){if(Il[e])return Il[e];if(!Jn[e])return e;var t=Jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dd)return Il[e]=t[n];return e}var Ld=Oo("animationend"),Fd=Oo("animationiteration"),jd=Oo("animationstart"),$d=Oo("transitionend"),Bd=new Map,Iu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,t){Bd.set(e,t),jn(t,[e])}for(var Tl=0;Tl<Iu.length;Tl++){var Rl=Iu[Tl],Dh=Rl.toLowerCase(),Lh=Rl[0].toUpperCase()+Rl.slice(1);yn(Dh,"on"+Lh)}yn(Ld,"onAnimationEnd");yn(Fd,"onAnimationIteration");yn(jd,"onAnimationStart");yn("dblclick","onDoubleClick");yn("focusin","onFocus");yn("focusout","onBlur");yn($d,"onTransitionEnd");ar("onMouseEnter",["mouseout","mouseover"]);ar("onMouseLeave",["mouseout","mouseover"]);ar("onPointerEnter",["pointerout","pointerover"]);ar("onPointerLeave",["pointerout","pointerover"]);jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fh=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function Tu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Dp(r,t,void 0,e),e.currentTarget=null}function bd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==l&&i.isPropagationStopped())break e;Tu(i,s,u),l=a}else for(o=0;o<r.length;o++){if(s=r[o],a=s.instance,u=s.currentTarget,s=s.listener,a!==l&&i.isPropagationStopped())break e;Tu(i,s,u),l=a}}}if(fo)throw e=cs,fo=!1,cs=null,e}function de(e,t){var n=t[_s];n===void 0&&(n=t[_s]=new Set);var r=e+"__bubble";n.has(r)||(Od(t,e,2,!1),n.add(r))}function Al(e,t,n){var r=0;t&&(r|=4),Od(n,e,r,t)}var bi="_reactListening"+Math.random().toString(36).slice(2);function ri(e){if(!e[bi]){e[bi]=!0,Wc.forEach(function(n){n!=="selectionchange"&&(Fh.has(n)||Al(n,!1,e),Al(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bi]||(t[bi]=!0,Al("selectionchange",!1,t))}}function Od(e,t,n,r){switch(Nd(t)){case 1:var i=Qp;break;case 4:i=Yp;break;default:i=oa}n=i.bind(null,t,n,e),i=void 0,!us||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dl(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;s!==null;){if(o=En(s),o===null)return;if(a=o.tag,a===5||a===6){r=l=o;continue e}s=s.parentNode}}r=r.return}ud(function(){var u=l,d=ta(n),p=[];e:{var m=Bd.get(e);if(m!==void 0){var v=sa,y=e;switch(e){case"keypress":if(qi(n)===0)break e;case"keydown":case"keyup":v=dh;break;case"focusin":y="focus",v=xl;break;case"focusout":y="blur",v=xl;break;case"beforeblur":case"afterblur":v=xl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ph;break;case Ld:case Fd:case jd:v=nh;break;case $d:v=gh;break;case"scroll":v=Xp;break;case"wheel":v=yh;break;case"copy":case"cut":case"paste":v=ih;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=_u}var N=(t&4)!==0,F=!N&&e==="scroll",f=N?m!==null?m+"Capture":null:m;N=[];for(var c=u,h;c!==null;){h=c;var S=h.stateNode;if(h.tag===5&&S!==null&&(h=S,f!==null&&(S=Xr(c,f),S!=null&&N.push(ii(c,S,h)))),F)break;c=c.return}0<N.length&&(m=new v(m,y,null,n,d),p.push({event:m,listeners:N}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==ss&&(y=n.relatedTarget||n.fromElement)&&(En(y)||y[Vt]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?En(y):null,y!==null&&(F=$n(y),y!==F||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(N=yu,S="onMouseLeave",f="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(N=_u,S="onPointerLeave",f="onPointerEnter",c="pointer"),F=v==null?m:Qn(v),h=y==null?m:Qn(y),m=new N(S,c+"leave",v,n,d),m.target=F,m.relatedTarget=h,S=null,En(d)===u&&(N=new N(f,c+"enter",y,n,d),N.target=h,N.relatedTarget=F,S=N),F=S,v&&y)t:{for(N=v,f=y,c=0,h=N;h;h=Kn(h))c++;for(h=0,S=f;S;S=Kn(S))h++;for(;0<c-h;)N=Kn(N),c--;for(;0<h-c;)f=Kn(f),h--;for(;c--;){if(N===f||f!==null&&N===f.alternate)break t;N=Kn(N),f=Kn(f)}N=null}else N=null;v!==null&&Ru(p,m,v,N,!1),y!==null&&F!==null&&Ru(p,F,y,N,!0)}}e:{if(m=u?Qn(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var E=kh;else if(Nu(m))if(Id)E=Ih;else{E=wh;var T=xh}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=Ch);if(E&&(E=E(e,u))){Cd(p,E,n,d);break e}T&&T(e,m,u),e==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&ns(m,"number",m.value)}switch(T=u?Qn(u):window,e){case"focusin":(Nu(T)||T.contentEditable==="true")&&(Wn=T,ps=u,Vr=null);break;case"focusout":Vr=ps=Wn=null;break;case"mousedown":hs=!0;break;case"contextmenu":case"mouseup":case"dragend":hs=!1,Cu(p,n,d);break;case"selectionchange":if(Ah)break;case"keydown":case"keyup":Cu(p,n,d)}var _;if(ua)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Gn?xd(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(kd&&n.locale!=="ko"&&(Gn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Gn&&(_=Ed()):(rn=d,la="value"in rn?rn.value:rn.textContent,Gn=!0)),T=vo(u,P),0<T.length&&(P=new Su(P,e,null,n,d),p.push({event:P,listeners:T}),_?P.data=_:(_=wd(n),_!==null&&(P.data=_)))),(_=_h?Mh(e,n):Ph(e,n))&&(u=vo(u,"onBeforeInput"),0<u.length&&(d=new Su("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=_))}bd(p,t)})}function ii(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=Xr(e,n),l!=null&&r.unshift(ii(e,l,i)),l=Xr(e,t),l!=null&&r.push(ii(e,l,i))),e=e.return}return r}function Kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ru(e,t,n,r,i){for(var l=t._reactName,o=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,i?(a=Xr(n,l),a!=null&&o.unshift(ii(n,a,s))):i||(a=Xr(n,l),a!=null&&o.push(ii(n,a,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jh=/\r\n?/g,$h=/\u0000|\uFFFD/g;function Au(e){return(typeof e=="string"?e:""+e).replace(jh,`
`).replace($h,"")}function Oi(e,t,n){if(t=Au(t),Au(e)!==t&&n)throw Error(w(425))}function yo(){}var gs=null,vs=null;function ys(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ss=typeof setTimeout=="function"?setTimeout:void 0,Bh=typeof clearTimeout=="function"?clearTimeout:void 0,Du=typeof Promise=="function"?Promise:void 0,bh=typeof queueMicrotask=="function"?queueMicrotask:typeof Du<"u"?function(e){return Du.resolve(null).then(e).catch(Oh)}:Ss;function Oh(e){setTimeout(function(){throw e})}function Ll(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ei(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ei(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),At="__reactFiber$"+Sr,oi="__reactProps$"+Sr,Vt="__reactContainer$"+Sr,_s="__reactEvents$"+Sr,zh="__reactListeners$"+Sr,Hh="__reactHandles$"+Sr;function En(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Lu(e);e!==null;){if(n=e[At])return n;e=Lu(e)}return t}e=n,n=e.parentNode}return null}function gi(e){return e=e[At]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(w(33))}function zo(e){return e[oi]||null}var Ms=[],Yn=-1;function Sn(e){return{current:e}}function fe(e){0>Yn||(e.current=Ms[Yn],Ms[Yn]=null,Yn--)}function ce(e,t){Yn++,Ms[Yn]=e.current,e.current=t}var hn={},ze=Sn(hn),qe=Sn(!1),Rn=hn;function ur(e,t){var n=e.type.contextTypes;if(!n)return hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(e){return e=e.childContextTypes,e!=null}function So(){fe(qe),fe(ze)}function Fu(e,t,n){if(ze.current!==hn)throw Error(w(168));ce(ze,t),ce(qe,n)}function zd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(w(108,xp(e)||"Unknown",i));return ye({},n,r)}function _o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,Rn=ze.current,ce(ze,e),ce(qe,qe.current),!0}function ju(e,t,n){var r=e.stateNode;if(!r)throw Error(w(169));n?(e=zd(e,t,Rn),r.__reactInternalMemoizedMergedChildContext=e,fe(qe),fe(ze),ce(ze,e)):fe(qe),ce(qe,n)}var Bt=null,Ho=!1,Fl=!1;function Hd(e){Bt===null?Bt=[e]:Bt.push(e)}function Kh(e){Ho=!0,Hd(e)}function _n(){if(!Fl&&Bt!==null){Fl=!0;var e=0,t=ie;try{var n=Bt;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bt=null,Ho=!1}catch(i){throw Bt!==null&&(Bt=Bt.slice(e+1)),md(na,_n),i}finally{ie=t,Fl=!1}}return null}var Xn=[],qn=0,Mo=null,Po=0,ft=[],mt=0,An=null,Ot=1,zt="";function Pn(e,t){Xn[qn++]=Po,Xn[qn++]=Mo,Mo=e,Po=t}function Kd(e,t,n){ft[mt++]=Ot,ft[mt++]=zt,ft[mt++]=An,An=e;var r=Ot;e=zt;var i=32-Nt(r)-1;r&=~(1<<i),n+=1;var l=32-Nt(t)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ot=1<<32-Nt(t)+i|n<<i|r,zt=l+e}else Ot=1<<l|n<<i|r,zt=e}function da(e){e.return!==null&&(Pn(e,1),Kd(e,1,0))}function fa(e){for(;e===Mo;)Mo=Xn[--qn],Xn[qn]=null,Po=Xn[--qn],Xn[qn]=null;for(;e===An;)An=ft[--mt],ft[mt]=null,zt=ft[--mt],ft[mt]=null,Ot=ft[--mt],ft[mt]=null}var ot=null,it=null,pe=!1,Pt=null;function Vd(e,t){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $u(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,it=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=An!==null?{id:Ot,overflow:zt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,it=null,!0):!1;default:return!1}}function Ps(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ns(e){if(pe){var t=it;if(t){var n=t;if(!$u(e,t)){if(Ps(e))throw Error(w(418));t=un(n.nextSibling);var r=ot;t&&$u(e,t)?Vd(r,n):(e.flags=e.flags&-4097|2,pe=!1,ot=e)}}else{if(Ps(e))throw Error(w(418));e.flags=e.flags&-4097|2,pe=!1,ot=e}}}function Bu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function zi(e){if(e!==ot)return!1;if(!pe)return Bu(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ys(e.type,e.memoizedProps)),t&&(t=it)){if(Ps(e))throw Ud(),Error(w(418));for(;t;)Vd(e,t),t=un(t.nextSibling)}if(Bu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){it=un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}it=null}}else it=ot?un(e.stateNode.nextSibling):null;return!0}function Ud(){for(var e=it;e;)e=un(e.nextSibling)}function cr(){it=ot=null,pe=!1}function ma(e){Pt===null?Pt=[e]:Pt.push(e)}var Vh=Jt.ReactCurrentBatchConfig;function Dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(w(309));var r=n.stateNode}if(!r)throw Error(w(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var s=i.refs;o===null?delete s[l]:s[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(w(284));if(!n._owner)throw Error(w(290,e))}return e}function Hi(e,t){throw e=Object.prototype.toString.call(t),Error(w(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bu(e){var t=e._init;return t(e._payload)}function Gd(e){function t(f,c){if(e){var h=f.deletions;h===null?(f.deletions=[c],f.flags|=16):h.push(c)}}function n(f,c){if(!e)return null;for(;c!==null;)t(f,c),c=c.sibling;return null}function r(f,c){for(f=new Map;c!==null;)c.key!==null?f.set(c.key,c):f.set(c.index,c),c=c.sibling;return f}function i(f,c){return f=mn(f,c),f.index=0,f.sibling=null,f}function l(f,c,h){return f.index=h,e?(h=f.alternate,h!==null?(h=h.index,h<c?(f.flags|=2,c):h):(f.flags|=2,c)):(f.flags|=1048576,c)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function s(f,c,h,S){return c===null||c.tag!==6?(c=Hl(h,f.mode,S),c.return=f,c):(c=i(c,h),c.return=f,c)}function a(f,c,h,S){var E=h.type;return E===Un?d(f,c,h.props.children,S,h.key):c!==null&&(c.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zt&&bu(E)===c.type)?(S=i(c,h.props),S.ref=Dr(f,c,h),S.return=f,S):(S=oo(h.type,h.key,h.props,null,f.mode,S),S.ref=Dr(f,c,h),S.return=f,S)}function u(f,c,h,S){return c===null||c.tag!==4||c.stateNode.containerInfo!==h.containerInfo||c.stateNode.implementation!==h.implementation?(c=Kl(h,f.mode,S),c.return=f,c):(c=i(c,h.children||[]),c.return=f,c)}function d(f,c,h,S,E){return c===null||c.tag!==7?(c=Cn(h,f.mode,S,E),c.return=f,c):(c=i(c,h),c.return=f,c)}function p(f,c,h){if(typeof c=="string"&&c!==""||typeof c=="number")return c=Hl(""+c,f.mode,h),c.return=f,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Ri:return h=oo(c.type,c.key,c.props,null,f.mode,h),h.ref=Dr(f,null,c),h.return=f,h;case Vn:return c=Kl(c,f.mode,h),c.return=f,c;case Zt:var S=c._init;return p(f,S(c._payload),h)}if($r(c)||Cr(c))return c=Cn(c,f.mode,h,null),c.return=f,c;Hi(f,c)}return null}function m(f,c,h,S){var E=c!==null?c.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return E!==null?null:s(f,c,""+h,S);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ri:return h.key===E?a(f,c,h,S):null;case Vn:return h.key===E?u(f,c,h,S):null;case Zt:return E=h._init,m(f,c,E(h._payload),S)}if($r(h)||Cr(h))return E!==null?null:d(f,c,h,S,null);Hi(f,h)}return null}function v(f,c,h,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return f=f.get(h)||null,s(c,f,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ri:return f=f.get(S.key===null?h:S.key)||null,a(c,f,S,E);case Vn:return f=f.get(S.key===null?h:S.key)||null,u(c,f,S,E);case Zt:var T=S._init;return v(f,c,h,T(S._payload),E)}if($r(S)||Cr(S))return f=f.get(h)||null,d(c,f,S,E,null);Hi(c,S)}return null}function y(f,c,h,S){for(var E=null,T=null,_=c,P=c=0,D=null;_!==null&&P<h.length;P++){_.index>P?(D=_,_=null):D=_.sibling;var I=m(f,_,h[P],S);if(I===null){_===null&&(_=D);break}e&&_&&I.alternate===null&&t(f,_),c=l(I,c,P),T===null?E=I:T.sibling=I,T=I,_=D}if(P===h.length)return n(f,_),pe&&Pn(f,P),E;if(_===null){for(;P<h.length;P++)_=p(f,h[P],S),_!==null&&(c=l(_,c,P),T===null?E=_:T.sibling=_,T=_);return pe&&Pn(f,P),E}for(_=r(f,_);P<h.length;P++)D=v(_,f,P,h[P],S),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?P:D.key),c=l(D,c,P),T===null?E=D:T.sibling=D,T=D);return e&&_.forEach(function(K){return t(f,K)}),pe&&Pn(f,P),E}function N(f,c,h,S){var E=Cr(h);if(typeof E!="function")throw Error(w(150));if(h=E.call(h),h==null)throw Error(w(151));for(var T=E=null,_=c,P=c=0,D=null,I=h.next();_!==null&&!I.done;P++,I=h.next()){_.index>P?(D=_,_=null):D=_.sibling;var K=m(f,_,I.value,S);if(K===null){_===null&&(_=D);break}e&&_&&K.alternate===null&&t(f,_),c=l(K,c,P),T===null?E=K:T.sibling=K,T=K,_=D}if(I.done)return n(f,_),pe&&Pn(f,P),E;if(_===null){for(;!I.done;P++,I=h.next())I=p(f,I.value,S),I!==null&&(c=l(I,c,P),T===null?E=I:T.sibling=I,T=I);return pe&&Pn(f,P),E}for(_=r(f,_);!I.done;P++,I=h.next())I=v(_,f,P,I.value,S),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?P:I.key),c=l(I,c,P),T===null?E=I:T.sibling=I,T=I);return e&&_.forEach(function(W){return t(f,W)}),pe&&Pn(f,P),E}function F(f,c,h,S){if(typeof h=="object"&&h!==null&&h.type===Un&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ri:e:{for(var E=h.key,T=c;T!==null;){if(T.key===E){if(E=h.type,E===Un){if(T.tag===7){n(f,T.sibling),c=i(T,h.props.children),c.return=f,f=c;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zt&&bu(E)===T.type){n(f,T.sibling),c=i(T,h.props),c.ref=Dr(f,T,h),c.return=f,f=c;break e}n(f,T);break}else t(f,T);T=T.sibling}h.type===Un?(c=Cn(h.props.children,f.mode,S,h.key),c.return=f,f=c):(S=oo(h.type,h.key,h.props,null,f.mode,S),S.ref=Dr(f,c,h),S.return=f,f=S)}return o(f);case Vn:e:{for(T=h.key;c!==null;){if(c.key===T)if(c.tag===4&&c.stateNode.containerInfo===h.containerInfo&&c.stateNode.implementation===h.implementation){n(f,c.sibling),c=i(c,h.children||[]),c.return=f,f=c;break e}else{n(f,c);break}else t(f,c);c=c.sibling}c=Kl(h,f.mode,S),c.return=f,f=c}return o(f);case Zt:return T=h._init,F(f,c,T(h._payload),S)}if($r(h))return y(f,c,h,S);if(Cr(h))return N(f,c,h,S);Hi(f,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,c!==null&&c.tag===6?(n(f,c.sibling),c=i(c,h),c.return=f,f=c):(n(f,c),c=Hl(h,f.mode,S),c.return=f,f=c),o(f)):n(f,c)}return F}var dr=Gd(!0),Wd=Gd(!1),No=Sn(null),Eo=null,Zn=null,pa=null;function ha(){pa=Zn=Eo=null}function ga(e){var t=No.current;fe(No),e._currentValue=t}function Es(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lr(e,t){Eo=e,pa=Zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(pa!==e)if(e={context:e,memoizedValue:t,next:null},Zn===null){if(Eo===null)throw Error(w(308));Zn=e,Eo.dependencies={lanes:0,firstContext:e}}else Zn=Zn.next=e;return t}var kn=null;function va(e){kn===null?kn=[e]:kn.push(e)}function Jd(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,va(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ut(e,r)}function Ut(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ut(e,n)}return i=r.interleaved,i===null?(t.next=t,va(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ut(e,n)}function Zi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ra(e,n)}}function Ou(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ko(e,t,n,r){var i=e.updateQueue;en=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,u=a.next;a.next=null,o===null?l=u:o.next=u,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=a))}if(l!==null){var p=i.baseState;o=0,d=u=a=null,s=l;do{var m=s.lane,v=s.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=e,N=s;switch(m=t,v=n,N.tag){case 1:if(y=N.payload,typeof y=="function"){p=y.call(v,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=N.payload,m=typeof y=="function"?y.call(v,p,m):y,m==null)break e;p=ye({},p,m);break e;case 2:en=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[s]:m.push(s))}else v={eventTime:v,lane:m,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=v,a=p):d=d.next=v,o|=m;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(a=p),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);Ln|=o,e.lanes=o,e.memoizedState=p}}function zu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(w(191,i));i.call(r)}}}var vi={},Lt=Sn(vi),li=Sn(vi),si=Sn(vi);function xn(e){if(e===vi)throw Error(w(174));return e}function Sa(e,t){switch(ce(si,t),ce(li,e),ce(Lt,vi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:is(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=is(t,e)}fe(Lt),ce(Lt,t)}function fr(){fe(Lt),fe(li),fe(si)}function Yd(e){xn(si.current);var t=xn(Lt.current),n=is(t,e.type);t!==n&&(ce(li,e),ce(Lt,n))}function _a(e){li.current===e&&(fe(Lt),fe(li))}var ge=Sn(0);function xo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jl=[];function Ma(){for(var e=0;e<jl.length;e++)jl[e]._workInProgressVersionPrimary=null;jl.length=0}var eo=Jt.ReactCurrentDispatcher,$l=Jt.ReactCurrentBatchConfig,Dn=0,ve=null,Ce=null,Re=null,wo=!1,Ur=!1,ai=0,Uh=0;function Be(){throw Error(w(321))}function Pa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function Na(e,t,n,r,i,l){if(Dn=l,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,eo.current=e===null||e.memoizedState===null?Qh:Yh,e=n(r,i),Ur){l=0;do{if(Ur=!1,ai=0,25<=l)throw Error(w(301));l+=1,Re=Ce=null,t.updateQueue=null,eo.current=Xh,e=n(r,i)}while(Ur)}if(eo.current=Co,t=Ce!==null&&Ce.next!==null,Dn=0,Re=Ce=ve=null,wo=!1,t)throw Error(w(300));return e}function Ea(){var e=ai!==0;return ai=0,e}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ve.memoizedState=Re=e:Re=Re.next=e,Re}function vt(){if(Ce===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Re===null?ve.memoizedState:Re.next;if(t!==null)Re=t,Ce=e;else{if(e===null)throw Error(w(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Re===null?ve.memoizedState=Re=e:Re=Re.next=e}return Re}function ui(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=vt(),n=t.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=e;var r=Ce,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var s=o=null,a=null,u=l;do{var d=u.lane;if((Dn&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=p,o=r):a=a.next=p,ve.lanes|=d,Ln|=d}u=u.next}while(u!==null&&u!==l);a===null?o=r:a.next=s,kt(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,ve.lanes|=l,Ln|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bl(e){var t=vt(),n=t.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=e(l,o.action),o=o.next;while(o!==i);kt(l,t.memoizedState)||(Xe=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Xd(){}function qd(e,t){var n=ve,r=vt(),i=t(),l=!kt(r.memoizedState,i);if(l&&(r.memoizedState=i,Xe=!0),r=r.queue,ka(tf.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,ci(9,ef.bind(null,n,r,i,t),void 0,null),Ae===null)throw Error(w(349));Dn&30||Zd(n,t,i)}return i}function Zd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ef(e,t,n,r){t.value=n,t.getSnapshot=r,nf(t)&&rf(e)}function tf(e,t,n){return n(function(){nf(t)&&rf(e)})}function nf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function rf(e){var t=Ut(e,1);t!==null&&Et(t,e,1,-1)}function Hu(e){var t=Rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:e},t.queue=e,e=e.dispatch=Jh.bind(null,ve,e),[t.memoizedState,e]}function ci(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function of(){return vt().memoizedState}function to(e,t,n,r){var i=Rt();ve.flags|=e,i.memoizedState=ci(1|t,n,void 0,r===void 0?null:r)}function Ko(e,t,n,r){var i=vt();r=r===void 0?null:r;var l=void 0;if(Ce!==null){var o=Ce.memoizedState;if(l=o.destroy,r!==null&&Pa(r,o.deps)){i.memoizedState=ci(t,n,l,r);return}}ve.flags|=e,i.memoizedState=ci(1|t,n,l,r)}function Ku(e,t){return to(8390656,8,e,t)}function ka(e,t){return Ko(2048,8,e,t)}function lf(e,t){return Ko(4,2,e,t)}function sf(e,t){return Ko(4,4,e,t)}function af(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uf(e,t,n){return n=n!=null?n.concat([e]):null,Ko(4,4,af.bind(null,t,e),n)}function xa(){}function cf(e,t){var n=vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function df(e,t){var n=vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ff(e,t,n){return Dn&21?(kt(n,t)||(n=gd(),ve.lanes|=n,Ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function Gh(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=$l.transition;$l.transition={};try{e(!1),t()}finally{ie=n,$l.transition=r}}function mf(){return vt().memoizedState}function Wh(e,t,n){var r=fn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pf(e))hf(t,n);else if(n=Jd(e,t,n,r),n!==null){var i=Ge();Et(n,e,r,i),gf(n,t,r)}}function Jh(e,t,n){var r=fn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pf(e))hf(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,s=l(o,n);if(i.hasEagerState=!0,i.eagerState=s,kt(s,o)){var a=t.interleaved;a===null?(i.next=i,va(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Jd(e,t,i,r),n!==null&&(i=Ge(),Et(n,e,r,i),gf(n,t,r))}}function pf(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function hf(e,t){Ur=wo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ra(e,n)}}var Co={readContext:gt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},Qh={readContext:gt,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Ku,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,to(4194308,4,af.bind(null,t,e),n)},useLayoutEffect:function(e,t){return to(4194308,4,e,t)},useInsertionEffect:function(e,t){return to(4,2,e,t)},useMemo:function(e,t){var n=Rt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wh.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:Hu,useDebugValue:xa,useDeferredValue:function(e){return Rt().memoizedState=e},useTransition:function(){var e=Hu(!1),t=e[0];return e=Gh.bind(null,e[1]),Rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,i=Rt();if(pe){if(n===void 0)throw Error(w(407));n=n()}else{if(n=t(),Ae===null)throw Error(w(349));Dn&30||Zd(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,Ku(tf.bind(null,r,l,e),[e]),r.flags|=2048,ci(9,ef.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Rt(),t=Ae.identifierPrefix;if(pe){var n=zt,r=Ot;n=(r&~(1<<32-Nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ai++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Uh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yh={readContext:gt,useCallback:cf,useContext:gt,useEffect:ka,useImperativeHandle:uf,useInsertionEffect:lf,useLayoutEffect:sf,useMemo:df,useReducer:Bl,useRef:of,useState:function(){return Bl(ui)},useDebugValue:xa,useDeferredValue:function(e){var t=vt();return ff(t,Ce.memoizedState,e)},useTransition:function(){var e=Bl(ui)[0],t=vt().memoizedState;return[e,t]},useMutableSource:Xd,useSyncExternalStore:qd,useId:mf,unstable_isNewReconciler:!1},Xh={readContext:gt,useCallback:cf,useContext:gt,useEffect:ka,useImperativeHandle:uf,useInsertionEffect:lf,useLayoutEffect:sf,useMemo:df,useReducer:bl,useRef:of,useState:function(){return bl(ui)},useDebugValue:xa,useDeferredValue:function(e){var t=vt();return Ce===null?t.memoizedState=e:ff(t,Ce.memoizedState,e)},useTransition:function(){var e=bl(ui)[0],t=vt().memoizedState;return[e,t]},useMutableSource:Xd,useSyncExternalStore:qd,useId:mf,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ks(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return(e=e._reactInternals)?$n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ge(),i=fn(e),l=Ht(r,i);l.payload=t,n!=null&&(l.callback=n),t=cn(e,l,i),t!==null&&(Et(t,e,i,r),Zi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ge(),i=fn(e),l=Ht(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=cn(e,l,i),t!==null&&(Et(t,e,i,r),Zi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),r=fn(e),i=Ht(n,r);i.tag=2,t!=null&&(i.callback=t),t=cn(e,i,r),t!==null&&(Et(t,e,r,n),Zi(t,e,r))}};function Vu(e,t,n,r,i,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!ni(n,r)||!ni(i,l):!0}function vf(e,t,n){var r=!1,i=hn,l=t.contextType;return typeof l=="object"&&l!==null?l=gt(l):(i=Ze(t)?Rn:ze.current,r=t.contextTypes,l=(r=r!=null)?ur(e,i):hn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function Uu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function xs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ya(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=gt(l):(l=Ze(t)?Rn:ze.current,i.context=ur(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ks(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),ko(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,t){try{var n="",r=t;do n+=kp(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function Ol(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ws(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qh=typeof WeakMap=="function"?WeakMap:Map;function yf(e,t,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){To||(To=!0,$s=r),ws(e,t)},n}function Sf(e,t,n){n=Ht(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ws(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){ws(e,t),typeof r!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Gu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qh;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=fg.bind(null,e,t,n),t.then(e,e))}function Wu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ju(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ht(-1,1),t.tag=2,cn(n,t,1))),n.lanes|=1),e)}var Zh=Jt.ReactCurrentOwner,Xe=!1;function Ve(e,t,n,r){t.child=e===null?Wd(t,null,n,r):dr(t,e.child,n,r)}function Qu(e,t,n,r,i){n=n.render;var l=t.ref;return lr(t,i),r=Na(e,t,n,r,l,i),n=Ea(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gt(e,t,i)):(pe&&n&&da(t),t.flags|=1,Ve(e,t,r,i),t.child)}function Yu(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!La(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,_f(e,t,l,r,i)):(e=oo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:ni,n(o,r)&&e.ref===t.ref)return Gt(e,t,i)}return t.flags|=1,e=mn(l,r),e.ref=t.ref,e.return=t,t.child=e}function _f(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(ni(l,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,Gt(e,t,i)}return Cs(e,t,n,r,i)}function Mf(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(tr,rt),rt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(tr,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,ce(tr,rt),rt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,ce(tr,rt),rt|=r;return Ve(e,t,i,n),t.child}function Pf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var l=Ze(n)?Rn:ze.current;return l=ur(t,l),lr(t,i),n=Na(e,t,n,r,l,i),r=Ea(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gt(e,t,i)):(pe&&r&&da(t),t.flags|=1,Ve(e,t,n,i),t.child)}function Xu(e,t,n,r,i){if(Ze(n)){var l=!0;_o(t)}else l=!1;if(lr(t,i),t.stateNode===null)no(e,t),vf(t,n,r),xs(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=gt(u):(u=Ze(n)?Rn:ze.current,u=ur(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||a!==u)&&Uu(t,o,r,u),en=!1;var m=t.memoizedState;o.state=m,ko(t,r,o,i),a=t.memoizedState,s!==r||m!==a||qe.current||en?(typeof d=="function"&&(ks(t,n,d,r),a=t.memoizedState),(s=en||Vu(t,n,s,r,m,a,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Qd(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:St(t.type,s),o.props=u,p=t.pendingProps,m=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=gt(a):(a=Ze(n)?Rn:ze.current,a=ur(t,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==p||m!==a)&&Uu(t,o,r,a),en=!1,m=t.memoizedState,o.state=m,ko(t,r,o,i);var y=t.memoizedState;s!==p||m!==y||qe.current||en?(typeof v=="function"&&(ks(t,n,v,r),y=t.memoizedState),(u=en||Vu(t,n,u,r,m,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,l,i)}function Is(e,t,n,r,i,l){Pf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&ju(t,n,!1),Gt(e,t,l);r=t.stateNode,Zh.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=dr(t,e.child,null,l),t.child=dr(t,null,s,l)):Ve(e,t,s,l),t.memoizedState=r.state,i&&ju(t,n,!0),t.child}function Nf(e){var t=e.stateNode;t.pendingContext?Fu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fu(e,t.context,!1),Sa(e,t.containerInfo)}function qu(e,t,n,r,i){return cr(),ma(i),t.flags|=256,Ve(e,t,n,r),t.child}var Ts={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ef(e,t,n){var r=t.pendingProps,i=ge.current,l=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ce(ge,i&1),e===null)return Ns(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Wo(o,r,0,null),e=Cn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Rs(n),t.memoizedState=Ts,e):wa(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return eg(e,t,o,r,s,i,n);if(l){l=r.fallback,o=t.mode,i=e.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=mn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?l=mn(s,l):(l=Cn(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?Rs(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Ts,r}return l=e.child,e=l.sibling,r=mn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wa(e,t){return t=Wo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ki(e,t,n,r){return r!==null&&ma(r),dr(t,e.child,null,n),e=wa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eg(e,t,n,r,i,l,o){if(n)return t.flags&256?(t.flags&=-257,r=Ol(Error(w(422))),Ki(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=Wo({mode:"visible",children:r.children},i,0,null),l=Cn(l,i,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&dr(t,e.child,null,o),t.child.memoizedState=Rs(o),t.memoizedState=Ts,l);if(!(t.mode&1))return Ki(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,l=Error(w(419)),r=Ol(l,r,void 0),Ki(e,t,o,r)}if(s=(o&e.childLanes)!==0,Xe||s){if(r=Ae,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,Ut(e,i),Et(r,e,i,-1))}return Da(),r=Ol(Error(w(421))),Ki(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=mg.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,it=un(i.nextSibling),ot=t,pe=!0,Pt=null,e!==null&&(ft[mt++]=Ot,ft[mt++]=zt,ft[mt++]=An,Ot=e.id,zt=e.overflow,An=t),t=wa(t,r.children),t.flags|=4096,t)}function Zu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Es(e.return,t,n)}function zl(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function kf(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(Ve(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zu(e,n,t);else if(e.tag===19)Zu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&xo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zl(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zl(t,!0,n,null,l);break;case"together":zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function no(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(w(153));if(t.child!==null){for(e=t.child,n=mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tg(e,t,n){switch(t.tag){case 3:Nf(t),cr();break;case 5:Yd(t);break;case 1:Ze(t.type)&&_o(t);break;case 4:Sa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ce(No,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?Ef(e,t,n):(ce(ge,ge.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);ce(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kf(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,Mf(e,t,n)}return Gt(e,t,n)}var xf,As,wf,Cf;xf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};As=function(){};wf=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,xn(Lt.current);var l=null;switch(n){case"input":i=es(e,i),r=es(e,r),l=[];break;case"select":i=ye({},i,{value:void 0}),r=ye({},r,{value:void 0}),l=[];break;case"textarea":i=rs(e,i),r=rs(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yo)}os(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qr.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var a=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&s[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(l||(l=[]),l.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(l=l||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(l=l||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&de("scroll",e),l||s===a||(l=[])):(l=l||[]).push(u,a))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};Cf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Lr(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ng(e,t,n){var r=t.pendingProps;switch(fa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(t),null;case 1:return Ze(t.type)&&So(),be(t),null;case 3:return r=t.stateNode,fr(),fe(qe),fe(ze),Ma(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pt!==null&&(Os(Pt),Pt=null))),As(e,t),be(t),null;case 5:_a(t);var i=xn(si.current);if(n=t.type,e!==null&&t.stateNode!=null)wf(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(w(166));return be(t),null}if(e=xn(Lt.current),zi(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[At]=t,r[oi]=l,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<br.length;i++)de(br[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":au(r,l),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},de("invalid",r);break;case"textarea":cu(r,l),de("invalid",r)}os(n,l),i=null;for(var o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="children"?typeof s=="string"?r.textContent!==s&&(l.suppressHydrationWarning!==!0&&Oi(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(l.suppressHydrationWarning!==!0&&Oi(r.textContent,s,e),i=["children",""+s]):Qr.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":Ai(r),uu(r,l,!0);break;case"textarea":Ai(r),du(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=yo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=td(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[At]=t,e[oi]=r,xf(e,t,!1,!1),t.stateNode=e;e:{switch(o=ls(n,r),n){case"dialog":de("cancel",e),de("close",e),i=r;break;case"iframe":case"object":case"embed":de("load",e),i=r;break;case"video":case"audio":for(i=0;i<br.length;i++)de(br[i],e);i=r;break;case"source":de("error",e),i=r;break;case"img":case"image":case"link":de("error",e),de("load",e),i=r;break;case"details":de("toggle",e),i=r;break;case"input":au(e,r),i=es(e,r),de("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ye({},r,{value:void 0}),de("invalid",e);break;case"textarea":cu(e,r),i=rs(e,r),de("invalid",e);break;default:i=r}os(n,i),s=i;for(l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="style"?id(e,a):l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&nd(e,a)):l==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Yr(e,a):typeof a=="number"&&Yr(e,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Qr.hasOwnProperty(l)?a!=null&&l==="onScroll"&&de("scroll",e):a!=null&&Xs(e,l,a,o))}switch(n){case"input":Ai(e),uu(e,r,!1);break;case"textarea":Ai(e),du(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?nr(e,!!r.multiple,l,!1):r.defaultValue!=null&&nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=yo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return be(t),null;case 6:if(e&&t.stateNode!=null)Cf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(w(166));if(n=xn(si.current),xn(Lt.current),zi(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(l=r.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:Oi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oi(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return be(t),null;case 13:if(fe(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&it!==null&&t.mode&1&&!(t.flags&128))Ud(),cr(),t.flags|=98560,l=!1;else if(l=zi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(w(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(w(317));l[At]=t}else cr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;be(t),l=!1}else Pt!==null&&(Os(Pt),Pt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Ie===0&&(Ie=3):Da())),t.updateQueue!==null&&(t.flags|=4),be(t),null);case 4:return fr(),As(e,t),e===null&&ri(t.stateNode.containerInfo),be(t),null;case 10:return ga(t.type._context),be(t),null;case 17:return Ze(t.type)&&So(),be(t),null;case 19:if(fe(ge),l=t.memoizedState,l===null)return be(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)Lr(l,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xo(e),o!==null){for(t.flags|=128,Lr(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(ge,ge.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ee()>pr&&(t.flags|=128,r=!0,Lr(l,!1),t.lanes=4194304)}else{if(!r)if(e=xo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Lr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!pe)return be(t),null}else 2*Ee()-l.renderingStartTime>pr&&n!==1073741824&&(t.flags|=128,r=!0,Lr(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ee(),t.sibling=null,n=ge.current,ce(ge,r?n&1|2:n&1),t):(be(t),null);case 22:case 23:return Aa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rt&1073741824&&(be(t),t.subtreeFlags&6&&(t.flags|=8192)):be(t),null;case 24:return null;case 25:return null}throw Error(w(156,t.tag))}function rg(e,t){switch(fa(t),t.tag){case 1:return Ze(t.type)&&So(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(),fe(qe),fe(ze),Ma(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _a(t),null;case 13:if(fe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(w(340));cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ge),null;case 4:return fr(),null;case 10:return ga(t.type._context),null;case 22:case 23:return Aa(),null;case 24:return null;default:return null}}var Vi=!1,Oe=!1,ig=typeof WeakSet=="function"?WeakSet:Set,B=null;function er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_e(e,t,r)}else n.current=null}function Ds(e,t,n){try{n()}catch(r){_e(e,t,r)}}var ec=!1;function og(e,t){if(gs=ho,e=Ad(),ca(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,s=-1,a=-1,u=0,d=0,p=e,m=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(s=o+i),p!==l||r!==0&&p.nodeType!==3||(a=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===e)break t;if(m===n&&++u===i&&(s=o),m===l&&++d===r&&(a=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(vs={focusedElem:e,selectionRange:n},ho=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var N=y.memoizedProps,F=y.memoizedState,f=t.stateNode,c=f.getSnapshotBeforeUpdate(t.elementType===t.type?N:St(t.type,N),F);f.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163))}}catch(S){_e(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return y=ec,ec=!1,y}function Gr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&Ds(t,n,l)}i=i.next}while(i!==r)}}function Uo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ls(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function If(e){var t=e.alternate;t!==null&&(e.alternate=null,If(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[oi],delete t[_s],delete t[zh],delete t[Hh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tf(e){return e.tag===5||e.tag===3||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yo));else if(r!==4&&(e=e.child,e!==null))for(Fs(e,t,n),e=e.sibling;e!==null;)Fs(e,t,n),e=e.sibling}function js(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(js(e,t,n),e=e.sibling;e!==null;)js(e,t,n),e=e.sibling}var Le=null,_t=!1;function qt(e,t,n){for(n=n.child;n!==null;)Rf(e,t,n),n=n.sibling}function Rf(e,t,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount($o,n)}catch{}switch(n.tag){case 5:Oe||er(n,t);case 6:var r=Le,i=_t;Le=null,qt(e,t,n),Le=r,_t=i,Le!==null&&(_t?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(_t?(e=Le,n=n.stateNode,e.nodeType===8?Ll(e.parentNode,n):e.nodeType===1&&Ll(e,n),ei(e)):Ll(Le,n.stateNode));break;case 4:r=Le,i=_t,Le=n.stateNode.containerInfo,_t=!0,qt(e,t,n),Le=r,_t=i;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&Ds(n,t,o),i=i.next}while(i!==r)}qt(e,t,n);break;case 1:if(!Oe&&(er(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_e(n,t,s)}qt(e,t,n);break;case 21:qt(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,qt(e,t,n),Oe=r):qt(e,t,n);break;default:qt(e,t,n)}}function nc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ig),t.forEach(function(r){var i=pg.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Le=s.stateNode,_t=!1;break e;case 3:Le=s.stateNode.containerInfo,_t=!0;break e;case 4:Le=s.stateNode.containerInfo,_t=!0;break e}s=s.return}if(Le===null)throw Error(w(160));Rf(l,o,i),Le=null,_t=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){_e(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Af(t,e),t=t.sibling}function Af(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),Tt(e),r&4){try{Gr(3,e,e.return),Uo(3,e)}catch(N){_e(e,e.return,N)}try{Gr(5,e,e.return)}catch(N){_e(e,e.return,N)}}break;case 1:yt(t,e),Tt(e),r&512&&n!==null&&er(n,n.return);break;case 5:if(yt(t,e),Tt(e),r&512&&n!==null&&er(n,n.return),e.flags&32){var i=e.stateNode;try{Yr(i,"")}catch(N){_e(e,e.return,N)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&l.type==="radio"&&l.name!=null&&Zc(i,l),ls(s,o);var u=ls(s,l);for(o=0;o<a.length;o+=2){var d=a[o],p=a[o+1];d==="style"?id(i,p):d==="dangerouslySetInnerHTML"?nd(i,p):d==="children"?Yr(i,p):Xs(i,d,p,u)}switch(s){case"input":ts(i,l);break;case"textarea":ed(i,l);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?nr(i,!!l.multiple,v,!1):m!==!!l.multiple&&(l.defaultValue!=null?nr(i,!!l.multiple,l.defaultValue,!0):nr(i,!!l.multiple,l.multiple?[]:"",!1))}i[oi]=l}catch(N){_e(e,e.return,N)}}break;case 6:if(yt(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(w(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(N){_e(e,e.return,N)}}break;case 3:if(yt(t,e),Tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(N){_e(e,e.return,N)}break;case 4:yt(t,e),Tt(e);break;case 13:yt(t,e),Tt(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(Ta=Ee())),r&4&&nc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||d,yt(t,e),Oe=u):yt(t,e),Tt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(B=e,d=e.child;d!==null;){for(p=B=d;B!==null;){switch(m=B,v=m.child,m.tag){case 0:case 11:case 14:case 15:Gr(4,m,m.return);break;case 1:er(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(N){_e(r,n,N)}}break;case 5:er(m,m.return);break;case 22:if(m.memoizedState!==null){ic(p);continue}}v!==null?(v.return=m,B=v):ic(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(s=p.stateNode,a=p.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=rd("display",o))}catch(N){_e(e,e.return,N)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(N){_e(e,e.return,N)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:yt(t,e),Tt(e),r&4&&nc(e);break;case 21:break;default:yt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Tf(n)){var r=n;break e}n=n.return}throw Error(w(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yr(i,""),r.flags&=-33);var l=tc(e);js(e,l,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=tc(e);Fs(e,s,o);break;default:throw Error(w(161))}}catch(a){_e(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lg(e,t,n){B=e,Df(e)}function Df(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var i=B,l=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vi;if(!o){var s=i.alternate,a=s!==null&&s.memoizedState!==null||Oe;s=Vi;var u=Oe;if(Vi=o,(Oe=a)&&!u)for(B=i;B!==null;)o=B,a=o.child,o.tag===22&&o.memoizedState!==null?oc(i):a!==null?(a.return=o,B=a):oc(i);for(;l!==null;)B=l,Df(l),l=l.sibling;B=i,Vi=s,Oe=u}rc(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,B=l):rc(e)}}function rc(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||Uo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&zu(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zu(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ei(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163))}Oe||t.flags&512&&Ls(t)}catch(m){_e(t,t.return,m)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function ic(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function oc(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Uo(4,t)}catch(a){_e(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){_e(t,i,a)}}var l=t.return;try{Ls(t)}catch(a){_e(t,l,a)}break;case 5:var o=t.return;try{Ls(t)}catch(a){_e(t,o,a)}}}catch(a){_e(t,t.return,a)}if(t===e){B=null;break}var s=t.sibling;if(s!==null){s.return=t.return,B=s;break}B=t.return}}var sg=Math.ceil,Io=Jt.ReactCurrentDispatcher,Ca=Jt.ReactCurrentOwner,ht=Jt.ReactCurrentBatchConfig,Z=0,Ae=null,we=null,Fe=0,rt=0,tr=Sn(0),Ie=0,di=null,Ln=0,Go=0,Ia=0,Wr=null,Ye=null,Ta=0,pr=1/0,$t=null,To=!1,$s=null,dn=null,Ui=!1,on=null,Ro=0,Jr=0,Bs=null,ro=-1,io=0;function Ge(){return Z&6?Ee():ro!==-1?ro:ro=Ee()}function fn(e){return e.mode&1?Z&2&&Fe!==0?Fe&-Fe:Vh.transition!==null?(io===0&&(io=gd()),io):(e=ie,e!==0||(e=window.event,e=e===void 0?16:Nd(e.type)),e):1}function Et(e,t,n,r){if(50<Jr)throw Jr=0,Bs=null,Error(w(185));pi(e,n,r),(!(Z&2)||e!==Ae)&&(e===Ae&&(!(Z&2)&&(Go|=n),Ie===4&&nn(e,Fe)),et(e,r),n===1&&Z===0&&!(t.mode&1)&&(pr=Ee()+500,Ho&&_n()))}function et(e,t){var n=e.callbackNode;Vp(e,t);var r=po(e,e===Ae?Fe:0);if(r===0)n!==null&&pu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pu(n),t===1)e.tag===0?Kh(lc.bind(null,e)):Hd(lc.bind(null,e)),bh(function(){!(Z&6)&&_n()}),n=null;else{switch(vd(r)){case 1:n=na;break;case 4:n=pd;break;case 16:n=mo;break;case 536870912:n=hd;break;default:n=mo}n=zf(n,Lf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lf(e,t){if(ro=-1,io=0,Z&6)throw Error(w(327));var n=e.callbackNode;if(sr()&&e.callbackNode!==n)return null;var r=po(e,e===Ae?Fe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ao(e,r);else{t=r;var i=Z;Z|=2;var l=jf();(Ae!==e||Fe!==t)&&($t=null,pr=Ee()+500,wn(e,t));do try{cg();break}catch(s){Ff(e,s)}while(!0);ha(),Io.current=l,Z=i,we!==null?t=0:(Ae=null,Fe=0,t=Ie)}if(t!==0){if(t===2&&(i=ds(e),i!==0&&(r=i,t=bs(e,i))),t===1)throw n=di,wn(e,0),nn(e,r),et(e,Ee()),n;if(t===6)nn(e,r);else{if(i=e.current.alternate,!(r&30)&&!ag(i)&&(t=Ao(e,r),t===2&&(l=ds(e),l!==0&&(r=l,t=bs(e,l))),t===1))throw n=di,wn(e,0),nn(e,r),et(e,Ee()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(w(345));case 2:Nn(e,Ye,$t);break;case 3:if(nn(e,r),(r&130023424)===r&&(t=Ta+500-Ee(),10<t)){if(po(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ge(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ss(Nn.bind(null,e,Ye,$t),t);break}Nn(e,Ye,$t);break;case 4:if(nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Nt(r);l=1<<o,o=t[o],o>i&&(i=o),r&=~l}if(r=i,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sg(r/1960))-r,10<r){e.timeoutHandle=Ss(Nn.bind(null,e,Ye,$t),r);break}Nn(e,Ye,$t);break;case 5:Nn(e,Ye,$t);break;default:throw Error(w(329))}}}return et(e,Ee()),e.callbackNode===n?Lf.bind(null,e):null}function bs(e,t){var n=Wr;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=Ao(e,t),e!==2&&(t=Ye,Ye=n,t!==null&&Os(t)),e}function Os(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function ag(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!kt(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~Ia,t&=~Go,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(Z&6)throw Error(w(327));sr();var t=po(e,0);if(!(t&1))return et(e,Ee()),null;var n=Ao(e,t);if(e.tag!==0&&n===2){var r=ds(e);r!==0&&(t=r,n=bs(e,r))}if(n===1)throw n=di,wn(e,0),nn(e,t),et(e,Ee()),n;if(n===6)throw Error(w(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nn(e,Ye,$t),et(e,Ee()),null}function Ra(e,t){var n=Z;Z|=1;try{return e(t)}finally{Z=n,Z===0&&(pr=Ee()+500,Ho&&_n())}}function Fn(e){on!==null&&on.tag===0&&!(Z&6)&&sr();var t=Z;Z|=1;var n=ht.transition,r=ie;try{if(ht.transition=null,ie=1,e)return e()}finally{ie=r,ht.transition=n,Z=t,!(Z&6)&&_n()}}function Aa(){rt=tr.current,fe(tr)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Bh(n)),we!==null)for(n=we.return;n!==null;){var r=n;switch(fa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&So();break;case 3:fr(),fe(qe),fe(ze),Ma();break;case 5:_a(r);break;case 4:fr();break;case 13:fe(ge);break;case 19:fe(ge);break;case 10:ga(r.type._context);break;case 22:case 23:Aa()}n=n.return}if(Ae=e,we=e=mn(e.current,null),Fe=rt=t,Ie=0,di=null,Ia=Go=Ln=0,Ye=Wr=null,kn!==null){for(t=0;t<kn.length;t++)if(n=kn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=i,r.next=o}n.pending=r}kn=null}return e}function Ff(e,t){do{var n=we;try{if(ha(),eo.current=Co,wo){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wo=!1}if(Dn=0,Re=Ce=ve=null,Ur=!1,ai=0,Ca.current=null,n===null||n.return===null){Ie=1,di=t,we=null;break}e:{var l=e,o=n.return,s=n,a=t;if(t=Fe,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=s,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Wu(o);if(v!==null){v.flags&=-257,Ju(v,o,s,l,t),v.mode&1&&Gu(l,u,t),t=v,a=u;var y=t.updateQueue;if(y===null){var N=new Set;N.add(a),t.updateQueue=N}else y.add(a);break e}else{if(!(t&1)){Gu(l,u,t),Da();break e}a=Error(w(426))}}else if(pe&&s.mode&1){var F=Wu(o);if(F!==null){!(F.flags&65536)&&(F.flags|=256),Ju(F,o,s,l,t),ma(mr(a,s));break e}}l=a=mr(a,s),Ie!==4&&(Ie=2),Wr===null?Wr=[l]:Wr.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var f=yf(l,a,t);Ou(l,f);break e;case 1:s=a;var c=l.type,h=l.stateNode;if(!(l.flags&128)&&(typeof c.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(dn===null||!dn.has(h)))){l.flags|=65536,t&=-t,l.lanes|=t;var S=Sf(l,s,t);Ou(l,S);break e}}l=l.return}while(l!==null)}Bf(n)}catch(E){t=E,we===n&&n!==null&&(we=n=n.return);continue}break}while(!0)}function jf(){var e=Io.current;return Io.current=Co,e===null?Co:e}function Da(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Ae===null||!(Ln&268435455)&&!(Go&268435455)||nn(Ae,Fe)}function Ao(e,t){var n=Z;Z|=2;var r=jf();(Ae!==e||Fe!==t)&&($t=null,wn(e,t));do try{ug();break}catch(i){Ff(e,i)}while(!0);if(ha(),Z=n,Io.current=r,we!==null)throw Error(w(261));return Ae=null,Fe=0,Ie}function ug(){for(;we!==null;)$f(we)}function cg(){for(;we!==null&&!Fp();)$f(we)}function $f(e){var t=Of(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?Bf(e):we=t,Ca.current=null}function Bf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=rg(n,t),n!==null){n.flags&=32767,we=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,we=null;return}}else if(n=ng(n,t,rt),n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ie===0&&(Ie=5)}function Nn(e,t,n){var r=ie,i=ht.transition;try{ht.transition=null,ie=1,dg(e,t,n,r)}finally{ht.transition=i,ie=r}return null}function dg(e,t,n,r){do sr();while(on!==null);if(Z&6)throw Error(w(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(w(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Up(e,l),e===Ae&&(we=Ae=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ui||(Ui=!0,zf(mo,function(){return sr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=ht.transition,ht.transition=null;var o=ie;ie=1;var s=Z;Z|=4,Ca.current=null,og(e,n),Af(n,e),Rh(vs),ho=!!gs,vs=gs=null,e.current=n,lg(n),jp(),Z=s,ie=o,ht.transition=l}else e.current=n;if(Ui&&(Ui=!1,on=e,Ro=i),l=e.pendingLanes,l===0&&(dn=null),bp(n.stateNode),et(e,Ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(To)throw To=!1,e=$s,$s=null,e;return Ro&1&&e.tag!==0&&sr(),l=e.pendingLanes,l&1?e===Bs?Jr++:(Jr=0,Bs=e):Jr=0,_n(),null}function sr(){if(on!==null){var e=vd(Ro),t=ht.transition,n=ie;try{if(ht.transition=null,ie=16>e?16:e,on===null)var r=!1;else{if(e=on,on=null,Ro=0,Z&6)throw Error(w(331));var i=Z;for(Z|=4,B=e.current;B!==null;){var l=B,o=l.child;if(B.flags&16){var s=l.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(B=u;B!==null;){var d=B;switch(d.tag){case 0:case 11:case 15:Gr(8,d,l)}var p=d.child;if(p!==null)p.return=d,B=p;else for(;B!==null;){d=B;var m=d.sibling,v=d.return;if(If(d),d===u){B=null;break}if(m!==null){m.return=v,B=m;break}B=v}}}var y=l.alternate;if(y!==null){var N=y.child;if(N!==null){y.child=null;do{var F=N.sibling;N.sibling=null,N=F}while(N!==null)}}B=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,B=o;else e:for(;B!==null;){if(l=B,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Gr(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,B=f;break e}B=l.return}}var c=e.current;for(B=c;B!==null;){o=B;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,B=h;else e:for(o=c;B!==null;){if(s=B,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Uo(9,s)}}catch(E){_e(s,s.return,E)}if(s===o){B=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,B=S;break e}B=s.return}}if(Z=i,_n(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot($o,e)}catch{}r=!0}return r}finally{ie=n,ht.transition=t}}return!1}function sc(e,t,n){t=mr(n,t),t=yf(e,t,1),e=cn(e,t,1),t=Ge(),e!==null&&(pi(e,1,t),et(e,t))}function _e(e,t,n){if(e.tag===3)sc(e,e,n);else for(;t!==null;){if(t.tag===3){sc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dn===null||!dn.has(r))){e=mr(n,e),e=Sf(t,e,1),t=cn(t,e,1),e=Ge(),t!==null&&(pi(t,1,e),et(t,e));break}}t=t.return}}function fg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(Fe&n)===n&&(Ie===4||Ie===3&&(Fe&130023424)===Fe&&500>Ee()-Ta?wn(e,0):Ia|=n),et(e,t)}function bf(e,t){t===0&&(e.mode&1?(t=Fi,Fi<<=1,!(Fi&130023424)&&(Fi=4194304)):t=1);var n=Ge();e=Ut(e,t),e!==null&&(pi(e,t,n),et(e,n))}function mg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bf(e,n)}function pg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(w(314))}r!==null&&r.delete(t),bf(e,n)}var Of;Of=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,tg(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,pe&&t.flags&1048576&&Kd(t,Po,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;no(e,t),e=t.pendingProps;var i=ur(t,ze.current);lr(t,n),i=Na(null,t,r,e,i,n);var l=Ea();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(r)?(l=!0,_o(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ya(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,xs(t,r,e,n),t=Is(null,t,r,!0,l,n)):(t.tag=0,pe&&l&&da(t),Ve(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(no(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=gg(r),e=St(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Xu(null,t,r,e,n);break e;case 11:t=Qu(null,t,r,e,n);break e;case 14:t=Yu(null,t,r,St(r.type,e),n);break e}throw Error(w(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Cs(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Xu(e,t,r,i,n);case 3:e:{if(Nf(t),e===null)throw Error(w(387));r=t.pendingProps,l=t.memoizedState,i=l.element,Qd(e,t),ko(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=mr(Error(w(423)),t),t=qu(e,t,r,n,i);break e}else if(r!==i){i=mr(Error(w(424)),t),t=qu(e,t,r,n,i);break e}else for(it=un(t.stateNode.containerInfo.firstChild),ot=t,pe=!0,Pt=null,n=Wd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cr(),r===i){t=Gt(e,t,n);break e}Ve(e,t,r,n)}t=t.child}return t;case 5:return Yd(t),e===null&&Ns(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,o=i.children,ys(r,i)?o=null:l!==null&&ys(r,l)&&(t.flags|=32),Pf(e,t),Ve(e,t,o,n),t.child;case 6:return e===null&&Ns(t),null;case 13:return Ef(e,t,n);case 4:return Sa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=dr(t,null,r,n):Ve(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Qu(e,t,r,i,n);case 7:return Ve(e,t,t.pendingProps,n),t.child;case 8:return Ve(e,t,t.pendingProps.children,n),t.child;case 12:return Ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value,ce(No,r._currentValue),r._currentValue=o,l!==null)if(kt(l.value,o)){if(l.children===i.children&&!qe.current){t=Gt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){o=l.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(l.tag===1){a=Ht(-1,n&-n),a.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Es(l.return,n,t),s.lanes|=n;break}a=a.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(w(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Es(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Ve(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,lr(t,n),i=gt(i),r=r(i),t.flags|=1,Ve(e,t,r,n),t.child;case 14:return r=t.type,i=St(r,t.pendingProps),i=St(r.type,i),Yu(e,t,r,i,n);case 15:return _f(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),no(e,t),t.tag=1,Ze(r)?(e=!0,_o(t)):e=!1,lr(t,n),vf(t,r,i),xs(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return kf(e,t,n);case 22:return Mf(e,t,n)}throw Error(w(156,t.tag))};function zf(e,t){return md(e,t)}function hg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,n,r){return new hg(e,t,n,r)}function La(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gg(e){if(typeof e=="function")return La(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zs)return 11;if(e===ea)return 14}return 2}function mn(e,t){var n=e.alternate;return n===null?(n=pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function oo(e,t,n,r,i,l){var o=2;if(r=e,typeof e=="function")La(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Un:return Cn(n.children,i,l,t);case qs:o=8,i|=8;break;case Yl:return e=pt(12,n,t,i|2),e.elementType=Yl,e.lanes=l,e;case Xl:return e=pt(13,n,t,i),e.elementType=Xl,e.lanes=l,e;case ql:return e=pt(19,n,t,i),e.elementType=ql,e.lanes=l,e;case Yc:return Wo(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jc:o=10;break e;case Qc:o=9;break e;case Zs:o=11;break e;case ea:o=14;break e;case Zt:o=16,r=null;break e}throw Error(w(130,e==null?e:typeof e,""))}return t=pt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function Cn(e,t,n,r){return e=pt(7,e,r,t),e.lanes=n,e}function Wo(e,t,n,r){return e=pt(22,e,r,t),e.elementType=Yc,e.lanes=n,e.stateNode={isHidden:!1},e}function Hl(e,t,n){return e=pt(6,e,null,t),e.lanes=n,e}function Kl(e,t,n){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vg(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nl(0),this.expirationTimes=Nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fa(e,t,n,r,i,l,o,s,a){return e=new vg(e,t,n,s,a),t===1?(t=1,l===!0&&(t|=8)):t=0,l=pt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ya(l),e}function yg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Hf(e){if(!e)return hn;e=e._reactInternals;e:{if($n(e)!==e||e.tag!==1)throw Error(w(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(w(171))}if(e.tag===1){var n=e.type;if(Ze(n))return zd(e,n,t)}return t}function Kf(e,t,n,r,i,l,o,s,a){return e=Fa(n,r,!0,e,i,l,o,s,a),e.context=Hf(null),n=e.current,r=Ge(),i=fn(n),l=Ht(r,i),l.callback=t??null,cn(n,l,i),e.current.lanes=i,pi(e,i,r),et(e,r),e}function Jo(e,t,n,r){var i=t.current,l=Ge(),o=fn(i);return n=Hf(n),t.context===null?t.context=n:t.pendingContext=n,t=Ht(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cn(i,t,o),e!==null&&(Et(e,i,o,l),Zi(e,i,o)),o}function Do(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ac(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ja(e,t){ac(e,t),(e=e.alternate)&&ac(e,t)}function Sg(){return null}var Vf=typeof reportError=="function"?reportError:function(e){console.error(e)};function $a(e){this._internalRoot=e}Qo.prototype.render=$a.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(w(409));Jo(e,t,null,null)};Qo.prototype.unmount=$a.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fn(function(){Jo(null,e,null,null)}),t[Vt]=null}};function Qo(e){this._internalRoot=e}Qo.prototype.unstable_scheduleHydration=function(e){if(e){var t=_d();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&Pd(e)}};function Ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uc(){}function _g(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var u=Do(o);l.call(u)}}var o=Kf(t,r,e,0,null,!1,!1,"",uc);return e._reactRootContainer=o,e[Vt]=o.current,ri(e.nodeType===8?e.parentNode:e),Fn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Do(a);s.call(u)}}var a=Fa(e,0,!1,null,null,!1,!1,"",uc);return e._reactRootContainer=a,e[Vt]=a.current,ri(e.nodeType===8?e.parentNode:e),Fn(function(){Jo(t,a,n,r)}),a}function Xo(e,t,n,r,i){var l=n._reactRootContainer;if(l){var o=l;if(typeof i=="function"){var s=i;i=function(){var a=Do(o);s.call(a)}}Jo(t,o,e,i)}else o=_g(n,t,e,i,r);return Do(o)}yd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Br(t.pendingLanes);n!==0&&(ra(t,n|1),et(t,Ee()),!(Z&6)&&(pr=Ee()+500,_n()))}break;case 13:Fn(function(){var r=Ut(e,1);if(r!==null){var i=Ge();Et(r,e,1,i)}}),ja(e,1)}};ia=function(e){if(e.tag===13){var t=Ut(e,134217728);if(t!==null){var n=Ge();Et(t,e,134217728,n)}ja(e,134217728)}};Sd=function(e){if(e.tag===13){var t=fn(e),n=Ut(e,t);if(n!==null){var r=Ge();Et(n,e,t,r)}ja(e,t)}};_d=function(){return ie};Md=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};as=function(e,t,n){switch(t){case"input":if(ts(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=zo(r);if(!i)throw Error(w(90));qc(r),ts(r,i)}}}break;case"textarea":ed(e,n);break;case"select":t=n.value,t!=null&&nr(e,!!n.multiple,t,!1)}};sd=Ra;ad=Fn;var Mg={usingClientEntryPoint:!1,Events:[gi,Qn,zo,od,ld,Ra]},Fr={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pg={bundleType:Fr.bundleType,version:Fr.version,rendererPackageName:Fr.rendererPackageName,rendererConfig:Fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dd(e),e===null?null:e.stateNode},findFiberByHostInstance:Fr.findFiberByHostInstance||Sg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gi.isDisabled&&Gi.supportsFiber)try{$o=Gi.inject(Pg),Dt=Gi}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mg;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ba(t))throw Error(w(200));return yg(e,t,null,n)};st.createRoot=function(e,t){if(!Ba(e))throw Error(w(299));var n=!1,r="",i=Vf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Fa(e,1,!1,null,null,n,!1,r,i),e[Vt]=t.current,ri(e.nodeType===8?e.parentNode:e),new $a(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(w(188)):(e=Object.keys(e).join(","),Error(w(268,e)));return e=dd(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return Fn(e)};st.hydrate=function(e,t,n){if(!Yo(t))throw Error(w(200));return Xo(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!Ba(e))throw Error(w(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",o=Vf;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Kf(t,null,e,1,n??null,i,!1,l,o),e[Vt]=t.current,ri(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qo(t)};st.render=function(e,t,n){if(!Yo(t))throw Error(w(200));return Xo(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!Yo(e))throw Error(w(40));return e._reactRootContainer?(Fn(function(){Xo(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};st.unstable_batchedUpdates=Ra;st.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yo(n))throw Error(w(200));if(e==null||e._reactInternals===void 0)throw Error(w(38));return Xo(e,t,n,!1,r)};st.version="18.3.1-next-f1338f8080-20240426";function Uf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uf)}catch(e){console.error(e)}}Uf(),Vc.exports=st;var Ng=Vc.exports,cc=Ng;Jl.createRoot=cc.createRoot,Jl.hydrateRoot=cc.hydrateRoot;function qo(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function Zo(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"}var Gf=[0,2,4,-1,1,3,5],Wf=Gf.map(e=>Math.floor(e*7/12));function ba(e){const{step:t,alt:n,oct:r,dir:i=1}=e,l=Gf[t]+7*n;if(r===void 0)return[i*l];const o=r-Wf[t]-4*n;return[i*l,i*o]}var Eg=[3,0,4,1,5,2,6];function Jf(e){const[t,n,r]=e,i=Eg[kg(t)],l=Math.floor((t+1)/7);if(n===void 0)return{step:i,alt:l,dir:r};const o=n+4*l+Wf[i];return{step:i,alt:l,oct:o,dir:r}}function kg(e){const t=(e+1)%7;return t<0?7+t:t}var dc=(e,t)=>Array(Math.abs(t)+1).join(e),zs={empty:!0,name:"",acc:""},xg="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",wg="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Cg=new RegExp("^"+xg+"|"+wg+"$");function Ig(e){const t=Cg.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var fc={};function hr(e){return typeof e=="string"?fc[e]||(fc[e]=Tg(e)):Zo(e)?hr(Dg(e)):qo(e)?hr(e.name):zs}var mc=[0,2,4,5,7,9,11],Qf="PMMPPMM";function Tg(e){const t=Ig(e);if(t[0]==="")return zs;const n=+t[0],r=t[1],i=(Math.abs(n)-1)%7,l=Qf[i];if(l==="M"&&r==="P")return zs;const o=l==="M"?"majorable":"perfectable",s=""+n+r,a=n<0?-1:1,u=n===8||n===-8?n:a*(i+1),d=Ag(o,r),p=Math.floor((Math.abs(n)-1)/7),m=a*(mc[i]+d+12*p),v=(a*(mc[i]+d)%12+12)%12,y=ba({step:i,alt:d,oct:p,dir:a});return{empty:!1,name:s,num:n,q:r,step:i,alt:d,dir:a,type:o,simple:u,semitones:m,chroma:v,coord:y,oct:p}}function Rg(e,t){const[n,r=0]=e,i=n*7+r*12<0,l=t||i?[-n,-r,-1]:[n,r,1];return hr(Jf(l))}function Ag(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function Dg(e){const{step:t,alt:n,oct:r=0,dir:i}=e;if(!i)return"";const l=t+1+7*r,o=l===0?t+1:l,s=i<0?"-":"",a=Qf[t]==="M"?"majorable":"perfectable";return s+o+Lg(a,n)}function Lg(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?dc("A",t):dc("d",e==="perfectable"?t:t+1)}var pc=(e,t)=>Array(Math.abs(t)+1).join(e),Yf={empty:!0,name:"",pc:"",acc:""},hc=new Map,Fg=e=>"CDEFGAB".charAt(e),jg=e=>e<0?pc("b",-e):pc("#",e),$g=e=>e[0]==="b"?-e.length:e.length;function gr(e){const t=JSON.stringify(e),n=hc.get(t);if(n)return n;const r=typeof e=="string"?Hg(e):Zo(e)?gr(Kg(e)):qo(e)?gr(e.name):Yf;return hc.set(t,r),r}var Bg=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function bg(e){const t=Bg.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function Og(e){return gr(Jf(e))}var zg=(e,t)=>(e%t+t)%t,Vl=[0,2,4,5,7,9,11];function Hg(e){const t=bg(e);if(t[0]===""||t[3]!=="")return Yf;const n=t[0],r=t[1],i=t[2],l=(n.charCodeAt(0)+3)%7,o=$g(r),s=i.length?+i:void 0,a=ba({step:l,alt:o,oct:s}),u=n+r+i,d=n+r,p=(Vl[l]+o+120)%12,m=s===void 0?zg(Vl[l]+o,12)-12*99:Vl[l]+o+12*(s+1),v=m>=0&&m<=127?m:null,y=s===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:r,alt:o,chroma:p,coord:a,freq:y,height:m,letter:n,midi:v,name:u,oct:s,pc:d,step:l}}function Kg(e){const{step:t,alt:n,oct:r}=e,i=Fg(t);if(!i)return"";const l=i+jg(n);return r||r===0?l+r:l}function gn(e,t){const n=gr(e),r=Array.isArray(t)?t:hr(t).coord;if(n.empty||!r||r.length<2)return"";const i=n.coord,l=i.length===1?[i[0]+r[0]]:[i[0]+r[0],i[1]+r[1]];return Og(l).name}function el(e,t){const n=e.length;return r=>{if(!t)return"";const i=r<0?(n- -r%n)%n:r%n,l=Math.floor(r/n),o=gn(t,[0,l]);return gn(o,e[i])}}function Vg(e,t){const n=gr(e),r=gr(t);if(n.empty||r.empty)return"";const i=n.coord,l=r.coord,o=l[0]-i[0],s=i.length===2&&l.length===2?l[1]-i[1]:-Math.floor(o*7/12),a=r.height===n.height&&r.midi!==null&&n.midi!==null&&n.step>r.step;return Rg([o,s],a).name}var gc=(e,t)=>Array(Math.abs(t)+1).join(e),Xf={empty:!0,name:"",pc:"",acc:""},vc=new Map,Ug=e=>"CDEFGAB".charAt(e),qf=e=>e<0?gc("b",-e):gc("#",e),Zf=e=>e[0]==="b"?-e.length:e.length;function Me(e){const t=JSON.stringify(e),n=vc.get(t);if(n)return n;const r=typeof e=="string"?Jg(e):Zo(e)?Me(Qg(e)):qo(e)?Me(e.name):Xf;return vc.set(t,r),r}var Gg=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function em(e){const t=Gg.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}var Wg=(e,t)=>(e%t+t)%t,Ul=[0,2,4,5,7,9,11];function Jg(e){const t=em(e);if(t[0]===""||t[3]!=="")return Xf;const n=t[0],r=t[1],i=t[2],l=(n.charCodeAt(0)+3)%7,o=Zf(r),s=i.length?+i:void 0,a=ba({step:l,alt:o,oct:s}),u=n+r+i,d=n+r,p=(Ul[l]+o+120)%12,m=s===void 0?Wg(Ul[l]+o,12)-12*99:Ul[l]+o+12*(s+1),v=m>=0&&m<=127?m:null,y=s===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:r,alt:o,chroma:p,coord:a,freq:y,height:m,letter:n,midi:v,name:u,oct:s,pc:d,step:l}}function Qg(e){const{step:t,alt:n,oct:r}=e,i=Ug(t);if(!i)return"";const l=i+qf(n);return r||r===0?l+r:l}function Mn(e,t,n){return function(...r){return console.warn(`${e} is deprecated. Use ${t}.`),n.apply(this,r)}}var Yg=Mn("isNamed","isNamedPitch",qo);function Xg(e,t){const n=[];for(;t--;n[t]=t+e);return n}function qg(e,t){const n=[];for(;t--;n[t]=e-t);return n}function Zg(e,t){return e<t?Xg(e,t-e+1):qg(e,e-t+1)}function yi(e,t){const n=t.length,r=(e%n+n)%n;return t.slice(r,n).concat(t.slice(0,r))}function e1(e){return e.filter(t=>t===0||t)}var vn={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},tm=e=>Number(e).toString(2).padStart(12,"0"),yc=e=>parseInt(e,2),t1=/^[01]{12}$/;function Oa(e){return t1.test(e)}var n1=e=>typeof e=="number"&&e>=0&&e<=4095,r1=e=>e&&Oa(e.chroma),Sc={[vn.chroma]:vn};function Wt(e){const t=Oa(e)?e:n1(e)?tm(e):Array.isArray(e)?u1(e):r1(e)?e.chroma:vn.chroma;return Sc[t]=Sc[t]||a1(t)}var i1=e=>Wt(e).chroma,o1=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function l1(e){const t=[];for(let n=0;n<12;n++)e.charAt(n)==="1"&&t.push(o1[n]);return t}function nm(e,t=!0){const r=Wt(e).chroma.split("");return e1(r.map((i,l)=>{const o=yi(l,r);return t&&o[0]==="0"?null:o.join("")}))}function za(e){const t=Wt(e).setNum;return n=>{const r=Wt(n).setNum;return t&&t!==r&&(r&t)===r}}function Ha(e){const t=Wt(e).setNum;return n=>{const r=Wt(n).setNum;return t&&t!==r&&(r|t)===r}}function s1(e){const t=e.split("");return t.map((n,r)=>yi(r,t).join(""))}function a1(e){const t=yc(e),n=s1(e).map(yc).filter(l=>l>=2048).sort()[0],r=tm(n),i=l1(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:r,intervals:i}}function u1(e){if(e.length===0)return vn.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r++)t=Me(e[r]),t.empty&&(t=hr(e[r])),t.empty||(n[t.chroma]=1);return n.join("")}var c1=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],d1=c1;({...vn});var Ka=[],lo={};function rm(){return Ka.slice()}function f1(e,t,n){const r=p1(e),i={...Wt(e),name:n||"",quality:r,intervals:e,aliases:t};Ka.push(i),i.name&&(lo[i.name]=i),lo[i.setNum]=i,lo[i.chroma]=i,i.aliases.forEach(l=>m1(i,l))}function m1(e,t){lo[t]=e}function p1(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}d1.forEach(([e,t,n])=>f1(e.split(" "),n.split(" "),t));Ka.sort((e,t)=>e.setNum-t.setNum);var h1=e=>{const t=e.reduce((n,r)=>{const i=Me(r).chroma;return i!==void 0&&(n[i]=n[i]||Me(r).name),n},{});return n=>t[n]};function g1(e,t={}){const n=e.map(i=>Me(i).pc).filter(i=>i);return Me.length===0?[]:N1(n,1,t).filter(i=>i.weight).sort((i,l)=>l.weight-i.weight).map(i=>i.name)}var tl={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},nl=e=>t=>!!(t&e),v1=nl(tl.anyThirds),y1=nl(tl.perfectFifth),S1=nl(tl.anySeventh),_1=nl(tl.nonPerfectFifths);function M1(e){const t=parseInt(e.chroma,2);return v1(t)&&y1(t)&&S1(t)}function P1(e){const t=parseInt(e,2);return _1(t)?e:(t|16).toString(2)}function N1(e,t,n){const r=e[0],i=Me(r).chroma,l=h1(e),o=nm(e,!1),s=[];return o.forEach((a,u)=>{const d=n.assumePerfectFifth&&P1(a);rm().filter(m=>n.assumePerfectFifth&&M1(m)?m.chroma===d:m.chroma===a).forEach(m=>{const v=m.aliases[0],y=l(u);u!==i?s.push({weight:.5*t,name:`${y}${v}/${r}`}):s.push({weight:1*t,name:`${y}${v}`})})}),s}var E1=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],k1=E1,x1={...vn,name:"",quality:"Unknown",intervals:[],aliases:[]},_r=[],In={};function Va(e){return In[e]||x1}var w1=Mn("ChordType.chordType","ChordType.get",Va);function C1(){return _r.map(e=>e.name).filter(e=>e)}function I1(){return _r.map(e=>e.aliases[0]).filter(e=>e)}function T1(){return Object.keys(In)}function rl(){return _r.slice()}var R1=Mn("ChordType.entries","ChordType.all",rl);function A1(){_r=[],In={}}function im(e,t,n){const r=L1(e),i={...Wt(e),name:n||"",quality:r,intervals:e,aliases:t};_r.push(i),i.name&&(In[i.name]=i),In[i.setNum]=i,In[i.chroma]=i,i.aliases.forEach(l=>D1(i,l))}function D1(e,t){In[t]=e}function L1(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}k1.forEach(([e,t,n])=>im(e.split(" "),n.split(" "),t));_r.sort((e,t)=>e.setNum-t.setNum);var F1={names:C1,symbols:I1,get:Va,all:rl,add:im,removeAll:A1,keys:T1,entries:R1,chordType:w1},j1=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],$1=j1,B1={...vn,intervals:[],aliases:[]},il=[],Tn={};function om(){return il.map(e=>e.name)}function ol(e){return Tn[e]||B1}var b1=Mn("ScaleDictionary.scaleType","ScaleType.get",ol);function Mr(){return il.slice()}var O1=Mn("ScaleDictionary.entries","ScaleType.all",Mr);function z1(){return Object.keys(Tn)}function H1(){il=[],Tn={}}function lm(e,t,n=[]){const r={...Wt(e),name:t,intervals:e,aliases:n};return il.push(r),Tn[r.name]=r,Tn[r.setNum]=r,Tn[r.chroma]=r,r.aliases.forEach(i=>K1(r,i)),r}function K1(e,t){Tn[t]=e}$1.forEach(([e,t,...n])=>lm(e.split(" "),t,n));var V1={names:om,get:ol,all:Mr,add:lm,removeAll:H1,keys:z1,entries:O1,scaleType:b1},Hs={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Ua(e){const[t,n,r,i]=em(e);return t===""?["",e]:t==="A"&&i==="ug"?["","aug"]:[t+n,r+i]}function Bn(e){if(e==="")return Hs;if(Array.isArray(e)&&e.length===2)return so(e[1],e[0]);{const[t,n]=Ua(e),r=so(n,t);return r.empty?so(e):r}}function so(e,t,n){const r=Va(e),i=Me(t||""),l=Me(n||"");if(r.empty||t&&i.empty||n&&l.empty)return Hs;const o=Vg(i.pc,l.pc),s=r.intervals.indexOf(o)+1;if(!l.empty&&!s)return Hs;const a=Array.from(r.intervals);for(let m=1;m<s;m++){const v=a[0][0],y=a[0][1],N=parseInt(v,10)+7;a.push(`${N}${y}`),a.shift()}const u=i.empty?[]:a.map(m=>gn(i,m));e=r.aliases.indexOf(e)!==-1?e:r.aliases[0];const d=`${i.empty?"":i.pc}${e}${l.empty||s<=1?"":"/"+l.pc}`,p=`${t?i.pc+" ":""}${r.name}${s>1&&n?" over "+l.pc:""}`;return{...r,name:p,symbol:d,type:r.name,root:l.name,intervals:a,rootDegree:s,tonic:i.name,notes:u}}var U1=Mn("Chord.chord","Chord.get",Bn);function G1(e,t){const[n,r]=Ua(e);return n?gn(n,t)+r:e}function W1(e){const t=Bn(e),n=Ha(t.chroma);return Mr().filter(r=>n(r.chroma)).map(r=>r.name)}function J1(e){const t=Bn(e),n=Ha(t.chroma);return rl().filter(r=>n(r.chroma)).map(r=>t.tonic+r.aliases[0])}function Q1(e){const t=Bn(e),n=za(t.chroma);return rl().filter(r=>n(r.chroma)).map(r=>t.tonic+r.aliases[0])}function Y1(e){const{intervals:t,tonic:n}=Bn(e),r=el(t,n);return i=>i?r(i>0?i-1:i):""}function X1(e){const{intervals:t,tonic:n}=Bn(e);return el(t,n)}var Ue={getChord:so,get:Bn,detect:g1,chordScales:W1,extended:J1,reduced:Q1,tokenize:Ua,transpose:G1,degrees:Y1,steps:X1,chord:U1},q1=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],Z1=q1;Z1.forEach(([e,t,n])=>void 0);var ev=Math.log(2),tv=Math.log(440);function sm(e){const t=12*(Math.log(e)-tv)/ev+69;return Math.round(t*100)/100}var nv="C C# D D# E F F# G G# A A# B".split(" "),rv="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Pr(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const r=(t.sharps===!0?nv:rv)[e%12];if(t.pitchClass)return r;const i=Math.floor(e/12)-1;return r+i}var iv=["C","D","E","F","G","A","B"],am=e=>e.name,um=e=>e.map(Me).filter(t=>!t.empty);function ov(e){return e===void 0?iv.slice():Array.isArray(e)?um(e).map(am):[]}var xt=Me,lv=e=>xt(e).name,sv=e=>xt(e).pc,av=e=>xt(e).acc,uv=e=>xt(e).oct,cv=e=>xt(e).midi,dv=e=>xt(e).freq,fv=e=>xt(e).chroma;function cm(e){return Pr(e)}function mv(e){return Pr(sm(e))}function pv(e){return Pr(sm(e),{sharps:!0})}function hv(e){return Pr(e,{sharps:!0})}var Si=gn,gv=gn,dm=e=>t=>Si(t,e),vv=dm,fm=e=>t=>Si(e,t),yv=fm;function mm(e,t){return Si(e,[t,0])}var Sv=mm;function _v(e,t){return Si(e,[0,t])}var Ga=(e,t)=>e.height-t.height,Mv=(e,t)=>t.height-e.height;function pm(e,t){return t=t||Ga,um(e).sort(t).map(am)}function hm(e){return pm(e,Ga).filter((t,n,r)=>n===0||t!==r[n-1])}var Pv=e=>{const t=xt(e);return t.empty?"":Pr(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:t.midi===null})};function gm(e,t){const n=xt(e);if(n.empty)return"";const r=xt(t||Pr(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(n.oct===void 0)return r.pc;const i=n.chroma-n.alt,l=r.chroma-r.alt,o=i>11||l<0?-1:i<0||l>11?1:0,s=n.oct+o;return r.pc+s}var V={names:ov,get:xt,name:lv,pitchClass:sv,accidentals:av,octave:uv,midi:cv,ascending:Ga,descending:Mv,sortedNames:pm,sortedUniqNames:hm,fromMidi:cm,fromMidiSharps:hv,freq:dv,fromFreq:mv,fromFreqSharps:pv,chroma:fv,transpose:Si,tr:gv,transposeBy:dm,trBy:vv,transposeFrom:fm,trFrom:yv,transposeFifths:mm,transposeOctaves:_v,trFifths:Sv,simplify:Pv,enharmonic:gm},vm={empty:!0,name:"",chordType:""},_c={};function fi(e){return typeof e=="string"?_c[e]||(_c[e]=Iv(e)):typeof e=="number"?fi(ll[e]||""):Zo(e)?kv(e):Yg(e)?fi(e.name):vm}var Nv=Mn("RomanNumeral.romanNumeral","RomanNumeral.get",fi);function Ev(e=!0){return(e?ll:Cv).slice()}function kv(e){return fi(qf(e.alt)+ll[e.step])}var xv=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function wv(e){return xv.exec(e)||["","","",""]}var ym="I II III IV V VI VII",ll=ym.split(" "),Cv=ym.toLowerCase().split(" ");function Iv(e){const[t,n,r,i]=wv(e);if(!r)return vm;const l=r.toUpperCase(),o=ll.indexOf(l),s=Zf(n),a=1;return{empty:!1,name:t,roman:r,interval:hr({step:o,alt:s,dir:a}).name,acc:n,chordType:i,alt:s,step:o,major:r===l,oct:0,dir:a}}var Tv={names:Ev,get:fi,romanNumeral:Nv},Wa=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Mc={...vn,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},Rv=Wa.map(Av),Ks={};Rv.forEach(e=>{Ks[e.name]=e,e.aliases.forEach(t=>{Ks[t]=e})});function Sm(e){return typeof e=="string"?Ks[e.toLowerCase()]||Mc:e&&e.name?Sm(e.name):Mc}function Av(e){const[t,n,r,i,l,o,s]=e,a=s?[s]:[],u=Number(n).toString(2);return{empty:!1,intervals:ol(i).intervals,modeNum:t,chroma:u,normalized:u,name:i,setNum:n,alt:r,triad:l,seventh:o,aliases:a}}function _m(e){return(t,n)=>{const r=Sm(t);if(r.empty)return[];const i=yi(r.modeNum,e),l=r.intervals.map(o=>gn(n,o));return i.map((o,s)=>l[s]+o)}}_m(Wa.map(e=>e[4]));_m(Wa.map(e=>e[5]));var Dv={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Mm(e){if(typeof e!="string")return["",""];const t=e.indexOf(" "),n=Me(e.substring(0,t));if(n.empty){const i=Me(e);return i.empty?["",e]:[i.name,""]}const r=e.substring(n.name.length+1);return[n.name,r.length?r:""]}var Lv=om;function Ft(e){const t=Array.isArray(e)?e:Mm(e),n=Me(t[0]).name,r=ol(t[1]);if(r.empty)return Dv;const i=r.name,l=n?r.intervals.map(s=>gn(n,s)):[],o=n?n+" "+i:i;return{...r,name:o,type:i,tonic:n,notes:l}}var Fv=Mn("Scale.scale","Scale.get",Ft);function jv(e,t={}){const n=i1(e),r=Me(t.tonic??e[0]??""),i=r.chroma;if(i===void 0)return[];const l=n.split("");l[i]="1";const o=yi(i,l).join(""),s=Mr().find(u=>u.chroma===o),a=[];return s&&a.push(r.name+" "+s.name),t.match==="exact"||Pm(o).forEach(u=>{a.push(r.name+" "+u)}),a}function $v(e){const t=Ft(e),n=za(t.chroma);return rm().filter(r=>n(r.chroma)).map(r=>r.aliases[0])}function Pm(e){const t=Oa(e)?e:Ft(e).chroma,n=Ha(t);return Mr().filter(r=>n(r.chroma)).map(r=>r.name)}function Bv(e){const t=za(Ft(e).chroma);return Mr().filter(n=>t(n.chroma)).map(n=>n.name)}function Nm(e){const t=e.map(i=>Me(i).pc).filter(i=>i),n=t[0],r=hm(t);return yi(r.indexOf(n),r)}function bv(e){const t=Ft(e);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return nm(t.chroma).map((r,i)=>{const l=Ft(r).name;return l?[n[i],l]:["",""]}).filter(r=>r[0])}function Ov(e){const t=Array.isArray(e)?Nm(e):Ft(e).notes,n=t.map(r=>Me(r).chroma);return r=>{const i=Me(typeof r=="number"?cm(r):r),l=i.height;if(l===void 0)return;const o=l%12,s=n.indexOf(o);if(s!==-1)return gm(i.name,t[s])}}function zv(e){const t=Ov(e);return(n,r)=>{const i=Me(n).height,l=Me(r).height;return i===void 0||l===void 0?[]:Zg(i,l).map(t).filter(o=>o)}}function Hv(e){const{intervals:t,tonic:n}=Ft(e),r=el(t,n);return i=>i?r(i>0?i-1:i):""}function Kv(e){const{intervals:t,tonic:n}=Ft(e);return el(t,n)}var bt={degrees:Hv,detect:jv,extended:Pm,get:Ft,modeNames:bv,names:Lv,rangeOf:zv,reduced:Bv,scaleChords:$v,scaleNotes:Nm,steps:Kv,tokenize:Mm,scale:Fv};const Lo={0:{name:"Piano",programs:[{pc:0,name:"Acoustic Grand Piano"},{pc:1,name:"Bright Acoustic Piano"},{pc:2,name:"Electric Grand Piano"},{pc:3,name:"Honky-tonk Piano"},{pc:4,name:"Electric Piano 1"},{pc:5,name:"Electric Piano 2"},{pc:6,name:"Harpsichord"},{pc:7,name:"Clavi"}]},8:{name:"Chromatic Percussion",programs:[{pc:8,name:"Celesta"},{pc:9,name:"Glockenspiel"},{pc:10,name:"Music Box"},{pc:11,name:"Vibraphone"},{pc:12,name:"Marimba"},{pc:13,name:"Xylophone"},{pc:14,name:"Tubular Bells"},{pc:15,name:"Dulcimer"}]},16:{name:"Organ",programs:[{pc:16,name:"Drawbar Organ"},{pc:17,name:"Percussive Organ"},{pc:18,name:"Rock Organ"},{pc:19,name:"Church Organ"},{pc:20,name:"Reed Organ"},{pc:21,name:"Accordion"},{pc:22,name:"Harmonica"},{pc:23,name:"Tango Accordion"}]},24:{name:"Guitar",programs:[{pc:24,name:"Acoustic Guitar (nylon)"},{pc:25,name:"Acoustic Guitar (steel)"},{pc:26,name:"Electric Guitar (jazz)"},{pc:27,name:"Electric Guitar (clean)"},{pc:28,name:"Electric Guitar (muted)"},{pc:29,name:"Overdriven Guitar"},{pc:30,name:"Distortion Guitar"},{pc:31,name:"Guitar harmonics"}]},32:{name:"Bass",programs:[{pc:32,name:"Acoustic Bass"},{pc:33,name:"Electric Bass (finger)"},{pc:34,name:"Electric Bass (pick)"},{pc:35,name:"Fretless Bass"},{pc:36,name:"Slap Bass 1"},{pc:37,name:"Slap Bass 2"},{pc:38,name:"Synth Bass 1"},{pc:39,name:"Synth Bass 2"}]},40:{name:"Strings",programs:[{pc:40,name:"Violin"},{pc:41,name:"Viola"},{pc:42,name:"Cello"},{pc:43,name:"Contrabass"},{pc:44,name:"Tremolo Strings"},{pc:45,name:"Pizzicato Strings"},{pc:46,name:"Orchestral Harp"},{pc:47,name:"Timpani"}]},48:{name:"Ensemble",programs:[{pc:48,name:"String Ensemble 1"},{pc:49,name:"String Ensemble 2"},{pc:50,name:"SynthStrings 1"},{pc:51,name:"SynthStrings 2"},{pc:52,name:"Choir Aahs"},{pc:53,name:"Voice Oohs"},{pc:54,name:"Synth Voice"},{pc:55,name:"Orchestra Hit"}]},56:{name:"Brass",programs:[{pc:56,name:"Trumpet"},{pc:57,name:"Trombone"},{pc:58,name:"Tuba"},{pc:59,name:"Muted Trumpet"},{pc:60,name:"French Horn"},{pc:61,name:"Brass Section"},{pc:62,name:"SynthBrass 1"},{pc:63,name:"SynthBrass 2"}]},64:{name:"Reed",programs:[{pc:64,name:"Soprano Sax"},{pc:65,name:"Alto Sax"},{pc:66,name:"Tenor Sax"},{pc:67,name:"Baritone Sax"},{pc:68,name:"Oboe"},{pc:69,name:"English Horn"},{pc:70,name:"Bassoon"},{pc:71,name:"Clarinet"}]},72:{name:"Pipe",programs:[{pc:72,name:"Piccolo"},{pc:73,name:"Flute"},{pc:74,name:"Recorder"},{pc:75,name:"Pan Flute"},{pc:76,name:"Blown Bottle"},{pc:77,name:"Shakuhachi"},{pc:78,name:"Whistle"},{pc:79,name:"Ocarina"}]},80:{name:"Synth Lead",programs:[{pc:80,name:"Lead 1 (square)"},{pc:81,name:"Lead 2 (sawtooth)"},{pc:82,name:"Lead 3 (calliope)"},{pc:83,name:"Lead 4 (chiff)"},{pc:84,name:"Lead 5 (charang)"},{pc:85,name:"Lead 6 (voice)"},{pc:86,name:"Lead 7 (fifths)"},{pc:87,name:"Lead 8 (bass + lead)"}]},88:{name:"Synth Pad",programs:[{pc:88,name:"Pad 1 (new age)"},{pc:89,name:"Pad 2 (warm)"},{pc:90,name:"Pad 3 (polysynth)"},{pc:91,name:"Pad 4 (choir)"},{pc:92,name:"Pad 5 (bowed)"},{pc:93,name:"Pad 6 (metallic)"},{pc:94,name:"Pad 7 (halo)"},{pc:95,name:"Pad 8 (sweep)"}]},96:{name:"Synth Effects",programs:[{pc:96,name:"FX 1 (rain)"},{pc:97,name:"FX 2 (soundtrack)"},{pc:98,name:"FX 3 (crystal)"},{pc:99,name:"FX 4 (atmosphere)"},{pc:100,name:"FX 5 (brightness)"},{pc:101,name:"FX 6 (goblins)"},{pc:102,name:"FX 7 (echoes)"},{pc:103,name:"FX 8 (sci-fi)"}]},104:{name:"Ethnic",programs:[{pc:104,name:"Sitar"},{pc:105,name:"Banjo"},{pc:106,name:"Shamisen"},{pc:107,name:"Koto"},{pc:108,name:"Kalimba"},{pc:109,name:"Bag pipe"},{pc:110,name:"Fiddle"},{pc:111,name:"Shanai"}]},112:{name:"Percussive",programs:[{pc:112,name:"Tinkle Bell"},{pc:113,name:"Agogo"},{pc:114,name:"Steel Drums"},{pc:115,name:"Woodblock"},{pc:116,name:"Taiko Drum"},{pc:117,name:"Melodic Tom"},{pc:118,name:"Synth Drum"},{pc:119,name:"Reverse Cymbal"}]},120:{name:"Sound Effects",programs:[{pc:120,name:"Guitar Fret Noise"},{pc:121,name:"Breath Noise"},{pc:122,name:"Seashore"},{pc:123,name:"Bird Tweet"},{pc:124,name:"Telephone Ring"},{pc:125,name:"Helicopter"},{pc:126,name:"Applause"},{pc:127,name:"Gunshot"}]}},Fo={0:{name:"Standard Kits",programs:[{pc:0,name:"Standard Kit"},{pc:8,name:"Room Kit"},{pc:16,name:"Power Kit"},{pc:24,name:"Electronic Kit"},{pc:25,name:"TR-808 Kit"},{pc:32,name:"Jazz Kit"},{pc:40,name:"Brush Kit"},{pc:48,name:"Orchestra Kit"},{pc:56,name:"SFX Kit"}]}},Vv=e=>e===10?Object.entries(Fo).map(([t,n])=>({lsb:parseInt(t),name:n.name||`Drum Bank ${t}`})):Object.entries(Lo).map(([t,n])=>({lsb:parseInt(t),name:n.name||`Bank ${t}`})),Pc=(e,t)=>{var n,r;return e===10?((n=Fo[t])==null?void 0:n.programs)||[]:((r=Lo[t])==null?void 0:r.programs)||[]};function Uv(e){const{selectedOutputId:t,sendMessage:n,log:r}=e,[i,l]=x.useState(1),[o,s]=x.useState([]),[a,u]=x.useState(0),[d,p]=x.useState([]),[m,v]=x.useState(0);x.useEffect(()=>{const c=Vv(i);if(s(c),c.length>0){u(c[0].lsb);const h=Pc(i,c[0].lsb);p(h),h.length>0?v(h[0].pc):v(0)}else u(0),p([]),v(0)},[i]),x.useEffect(()=>{const c=Pc(i,a);p(c),c.length>0?v(c[0].pc):v(0)},[a,i]);const y=x.useCallback(()=>{const c=i===10,h=c?Fo:Lo;let S=null;const E=h[a];if(E&&E.programs&&(S=E.programs.find(O=>O.pc===m)),!S){typeof r=="function"?r(`Could not find sound details for Channel: ${i}, Bank LSB: ${a}, Program PC: ${m}. Cannot send.`,"WARN"):console.warn("[Gm2SoundSelector] Log function not available when checking sound details.");return}const T=S.msb??0,_=a,P=m,D=i-1,I=176,K=192,W=0,j=32;if(isNaN(T)||isNaN(_)||isNaN(P)||isNaN(D)||D<0||D>15){typeof r=="function"?r(`Invalid sound selection parameters: MSB=${T}, LSB=${_}, PC=${P}, Channel=${i}`,"ERROR"):console.error("[Gm2SoundSelector] Log function not available for invalid parameters error.");return}typeof r=="function"&&r(`Sending Bank Select MSB: Status=0x${(I+D).toString(16)}, Data=[${W}, ${T}]`,"DEBUG"),n(I+D,[W,T]),typeof r=="function"&&r(`Sending Bank Select LSB: Status=0x${(I+D).toString(16)}, Data=[${j}, ${_}]`,"DEBUG"),n(I+D,[j,_]),typeof r=="function"&&r(`Sending Program Change: Status=0x${(K+D).toString(16)}, Data=[${P}]`,"DEBUG"),n(K+D,[P]),typeof r=="function"&&r(`GM2 sound selected: Bank MSB=${T}, LSB=${_}, PC=${P} on channel ${i}`)},[i,a,m,t,r,n,Fo,Lo]),N=c=>{u(parseInt(c.target.value,10))},F=c=>{v(parseInt(c.target.value,10))},f=c=>{l(parseInt(c.target.value,10))};return g.jsxs("div",{style:{border:"1px dashed green",padding:"10px",marginTop:"10px"},children:[g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"gm2-channel",style:{marginRight:"5px"},children:"MIDI Channel:"}),g.jsx("select",{id:"gm2-channel",value:i,onChange:f,children:[...Array(16).keys()].map(c=>g.jsxs("option",{value:c+1,children:[c+1,c+1===10?" (Drums)":""]},c+1))})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"gm2-bank",style:{marginRight:"5px"},children:i===10?"Drum Bank:":"Sound Bank:"}),g.jsx("select",{id:"gm2-bank",value:a,onChange:N,disabled:o.length===0,children:o.map(c=>g.jsxs("option",{value:c.lsb,children:[c.name," (LSB: ",c.lsb,")"]},c.lsb))})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"gm2-program",style:{marginRight:"5px"},children:i===10?"Drum Kit:":"Sound:"}),g.jsx("select",{id:"gm2-program",value:m,onChange:F,disabled:d.length===0,children:d.map(c=>g.jsxs("option",{value:c.pc,children:[c.name," (PC: ",c.pc+1,") "]},c.pc))})]}),g.jsxs("button",{onClick:y,disabled:!t,children:["Set Sound on Channel ",i]}),!t&&g.jsx("p",{style:{fontSize:"0.8em",marginTop:"5px",color:"grey"},children:"(Select MIDI Output in Setup tab to enable)"})]})}const Nc=[{id:"setup",label:"Setup"},{id:"metronome",label:"Metronome"},{id:"backingTrack",label:"Backing Track"},{id:"gm2Sounds",label:"GM2 Sounds"}];function Gv({modes:e,currentMode:t,onModeChange:n,rootNotes:r,octaves:i,scaleTypes:l,chordTypes:o,selectedRootNote:s,selectedOctave:a,selectedScaleType:u,selectedChordType:d,onRootChange:p,onOctaveChange:m,onScaleChange:v,onChordChange:y,diatonicTriads:N=[],diatonicSevenths:F=[],selectedDiatonicDegree:f,showSevenths:c,splitHandVoicing:h,rhInversion:S,inversions:E,onDiatonicDegreeChange:T,onShowSeventhsChange:_,onSplitHandVoicingChange:P,onRhInversionChange:D,splitHandInterval:I,onSplitHandIntervalChange:K,midiInputs:W=[],midiOutputs:j=[],selectedInputId:O,selectedOutputId:ee,onSelectInput:z,onSelectOutput:J,isMidiInitialized:M,isMetronomePlaying:R,metronomeBpm:L,metronomeSoundNote:$,metronomeSounds:b,metronomeTimeSignature:H,onToggleMetronome:se,onChangeMetronomeTempo:Q,onChangeMetronomeSound:te,onChangeMetronomeTimeSignature:oe,playbackState:re,loadedMidiFileName:Se,availableMidiFiles:$e=[],onLoadMidiFile:tt,onPlayMidiFile:bn,onPauseMidiFile:Nr,onStopMidiFile:Er,midiGenres:On=[],selectedMidiGenre:ut,onMidiGenreChange:_i,style:Pe,availableProgressions:kr=[],selectedProgressionId:ct,onProgressionChange:dt,voicingSplitHand:wt,voicingLhOctaveOffset:jt,voicingRhRootless:Mi,onVoicingSplitHandChange:sl,onVoicingLhOffsetChange:Pi,onVoicingRhRootlessChange:Ni,voicingUseShell:Ei,voicingAddOctaveRoot:ki,onVoicingUseShellChange:xi,onVoicingAddOctaveRootChange:wi,log:al,sendMessage:ul}){var Ci;const[Ct,cl]=x.useState(Nc[0].id);x.useEffect(()=>{},[re,Se]);const dl=x.useMemo(()=>ut?$e.filter(k=>k.genre===ut):$e,[$e,ut]),fl=k=>{z(k.target.value||null)},ml=k=>{J(k.target.value||null)},pl=k=>["I","II","III","IV","V","VI","VII"][k]||"?";return g.jsxs("div",{style:{border:"1px solid blue",padding:"10px",marginBottom:"10px"},children:[g.jsx("h2",{children:"Controls"}),g.jsx("div",{style:{display:"flex",borderBottom:"1px solid #ccc",marginBottom:"15px"},children:Nc.map(k=>g.jsx("button",{onClick:()=>cl(k.id),style:{padding:"8px 12px",border:"none",borderBottom:Ct===k.id?"3px solid blue":"3px solid transparent",background:"none",cursor:"pointer",fontWeight:Ct===k.id?"bold":"normal"},children:k.label},k.id))}),g.jsxs("div",{children:[Ct==="setup"&&g.jsxs("div",{children:[g.jsxs("div",{style:{marginBottom:"15px"},children:[g.jsx("label",{htmlFor:"mode-select",children:"Mode: "}),g.jsx("select",{id:"mode-select",value:t,onChange:k=>n(k.target.value),children:e&&e.map(k=>g.jsx("option",{value:k.value,children:k.label},k.value))})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{children:"Root: "}),g.jsx("select",{value:s,onChange:k=>p(k.target.value),children:Array.isArray(r)&&r.map(k=>g.jsx("option",{value:k,children:k},k))}),g.jsx("label",{style:{marginLeft:"10px"},children:"Octave: "}),g.jsx("select",{value:a,onChange:k=>m(k.target.value),children:Array.isArray(i)&&i.map(k=>g.jsx("option",{value:k,children:k},k))})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{children:"Scale: "}),g.jsx("select",{value:u,onChange:k=>v(k.target.value),children:Array.isArray(l)&&l.map(k=>g.jsx("option",{value:k,children:k},k))})]}),t==="chord_search"&&g.jsxs("div",{style:{marginBottom:"15px",borderLeft:"3px solid lightgrey",paddingLeft:"10px"},children:[g.jsx("label",{children:"Chord Type: "}),g.jsx("select",{value:d,onChange:k=>y(k.target.value),children:Array.isArray(o)&&o.map(k=>g.jsx("option",{value:k,children:k},k))})]}),t==="chord_progression"&&g.jsxs("div",{style:{marginBottom:"15px",borderLeft:"3px solid lightcoral",paddingLeft:"10px"},children:[g.jsx("label",{htmlFor:"progression-select",children:"Progression: "}),g.jsx("select",{id:"progression-select",value:ct||"",onChange:k=>dt(k.target.value),children:kr.map(k=>g.jsx("option",{value:k.id,children:k.name},k.id))})]}),t==="chord_progression"&&g.jsxs("div",{style:{marginTop:"15px",borderLeft:"3px solid lightseagreen",paddingLeft:"10px"},children:[g.jsx("h4",{children:"Progression Voicing Options"}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"prog-show-sevenths",children:[g.jsx("input",{type:"checkbox",id:"prog-show-sevenths",checked:c,onChange:_}),"Show 7ths"]})}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"prog-rh-inversion",style:{marginRight:"5px"},children:"RH Inversion:"}),g.jsx("select",{id:"prog-rh-inversion",value:S,onChange:k=>D(k.target.value),children:E&&E.map(k=>g.jsx("option",{value:k.value,disabled:k.value===3&&!c,children:k.label},k.value))})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("input",{type:"checkbox",id:"prog-split-hand",checked:wt,onChange:sl}),g.jsx("label",{htmlFor:"prog-split-hand",children:" Split Hand (LH Root / RH Chord)"})]}),wt&&g.jsxs("div",{style:{marginLeft:"20px",marginBottom:"10px"},children:[g.jsx("label",{style:{marginRight:"10px"},children:"LH Octave:"}),g.jsxs("label",{style:{marginRight:"15px"},children:[g.jsx("input",{type:"radio",name:"prog-lhOffset",value:-12,checked:jt===-12,onChange:k=>Pi(k.target.value)})," -1 Oct"]}),g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:"prog-lhOffset",value:-24,checked:jt===-24,onChange:k=>Pi(k.target.value)})," -2 Oct"]})]}),wt&&g.jsx("div",{style:{marginLeft:"20px",marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"prog-rh-rootless",children:[g.jsx("input",{type:"checkbox",id:"prog-rh-rootless",checked:Mi,onChange:Ni,disabled:!wt}),"Rootless RH Chord"]})}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"prog-shell-voicing",children:[g.jsx("input",{type:"checkbox",id:"prog-shell-voicing",checked:Ei,onChange:xi}),"Shell Voicing (R, 3, 7)"]})}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"prog-add-octave-root",children:[g.jsx("input",{type:"checkbox",id:"prog-add-octave-root",checked:ki,onChange:wi}),"Add Upper Octave Root"]})})]}),t==="diatonic_chords"&&g.jsxs("div",{style:{marginTop:"10px",borderTop:"1px solid #eee",paddingTop:"10px"},children:[g.jsx("h4",{children:"Diatonic Chords"}),g.jsx("div",{style:{marginBottom:"10px",display:"flex",gap:"5px",flexWrap:"wrap"},children:(c?F:N).map((k,He)=>{if(!k)return null;const zn=Ue.get(k).quality,Ii=pl(He);let xr={};zn==="Minor"&&(xr.fontWeight="normal"),zn==="Diminished"&&(xr.opacity=.7);const hl=`${zn==="Minor"?Ii.toLowerCase():Ii}${zn==="Diminished"?"":""}`,gl=He===f;return g.jsxs("button",{onClick:()=>T(He),style:{...xr,border:gl?"2px solid blue":"1px solid grey",padding:"5px 8px"},title:k,children:[hl," (",k,")"]},He)})}),g.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center",flexWrap:"wrap"},children:[g.jsxs("div",{children:[g.jsx("input",{type:"checkbox",id:"show-sevenths",checked:c,onChange:_}),g.jsx("label",{htmlFor:"show-sevenths",children:" Show 7ths"})]}),g.jsxs("div",{children:[g.jsx("input",{type:"checkbox",id:"split-hand",checked:h,onChange:P}),g.jsx("label",{htmlFor:"split-hand",children:" Split Hand Voicing"})]}),h&&g.jsxs("div",{style:{marginLeft:"10px"},children:[g.jsx("label",{style:{marginRight:"5px"},children:"Interval:"}),g.jsxs("label",{style:{marginRight:"10px"},children:[g.jsx("input",{type:"radio",name:"splitInterval",value:"12",checked:I===12,onChange:K})," 1 Octave"]}),g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:"splitInterval",value:"24",checked:I===24,onChange:K})," 2 Octaves"]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"rh-inversion",style:{marginRight:"5px"},children:"RH Inversion:"}),g.jsx("select",{id:"rh-inversion",value:S,onChange:k=>D(k.target.value),children:E&&E.map(k=>g.jsx("option",{value:k.value,disabled:k.value===3&&!c,children:k.label},k.value))})]})]}),h&&g.jsx("div",{style:{marginTop:"10px",marginLeft:"15px"},children:g.jsxs("label",{htmlFor:"diatonic-rh-rootless",children:[g.jsx("input",{type:"checkbox",id:"diatonic-rh-rootless",checked:Mi,onChange:Ni,disabled:!h}),"Rootless RH Chord"]})}),g.jsx("div",{style:{marginTop:"10px",marginLeft:"15px"},children:g.jsxs("label",{htmlFor:"diatonic-shell-voicing",children:[g.jsx("input",{type:"checkbox",id:"diatonic-shell-voicing",checked:Ei,onChange:xi}),"Shell Voicing (R, 3, 7)"]})}),g.jsx("div",{style:{marginTop:"10px",marginLeft:"15px"},children:g.jsxs("label",{htmlFor:"diatonic-add-octave-root",children:[g.jsx("input",{type:"checkbox",id:"diatonic-add-octave-root",checked:ki,onChange:wi}),"Add Upper Octave Root"]})})]}),g.jsxs("div",{style:{borderTop:"1px solid #eee",paddingTop:"10px",marginTop:"15px"},children:[g.jsx("h4",{children:"MIDI Devices"}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"midi-input",children:"MIDI Input: "}),g.jsxs("select",{id:"midi-input",value:O||"",onChange:fl,disabled:!M||W.length===0,children:[g.jsx("option",{value:"",children:"-- Select Input --"}),W.map(k=>g.jsx("option",{value:k.id,children:k.name},k.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-output",children:"MIDI Output: "}),g.jsxs("select",{id:"midi-output",value:ee||"",onChange:ml,disabled:!M||j.length===0,children:[g.jsx("option",{value:"",children:"-- Select Output --"}),j.map(k=>g.jsx("option",{value:k.id,children:k.name},k.id))]})]}),!M&&g.jsx("p",{children:g.jsx("small",{children:"Initializing MIDI..."})}),M&&W.length===0&&j.length===0&&g.jsx("p",{children:g.jsx("small",{children:"MIDI Initialized, but no devices found."})})]})]}),Ct==="metronome"&&g.jsxs("div",{style:{border:"none",padding:"0"},children:[" ",g.jsx("h4",{children:"Metronome"}),g.jsxs("div",{children:[g.jsx("button",{onClick:se,disabled:!ee,children:R?"Stop":"Start"}),g.jsx("label",{htmlFor:"metronome-bpm",style:{marginLeft:"10px"},children:" BPM: "}),g.jsx("input",{type:"number",id:"metronome-bpm",value:L,onChange:k=>Q(k.target.value),min:"30",max:"300",step:"1",style:{width:"60px"},disabled:!ee}),g.jsx("label",{htmlFor:"metronome-sound",style:{marginLeft:"10px"},children:" Sound: "}),g.jsx("select",{id:"metronome-sound",value:$,onChange:k=>te(k.target.value),disabled:!ee,children:Object.entries(b).map(([k,He])=>g.jsxs("option",{value:He,children:[k," (",He,")"]},He))}),g.jsx("label",{htmlFor:"metronome-timesig",style:{marginLeft:"10px"},children:" Time Sig: "}),g.jsxs("select",{id:"metronome-timesig",value:H,onChange:k=>oe(k.target.value),disabled:!ee,children:[g.jsx("option",{value:"none",children:"None"}),g.jsx("option",{value:"3/4",children:"3/4"}),g.jsx("option",{value:"4/4",children:"4/4"})]})]}),!ee&&M&&g.jsx("p",{children:g.jsx("small",{children:"Select a MIDI Output device (in Setup tab) to enable Metronome."})})]}),Ct==="backingTrack"&&g.jsxs("div",{style:{border:"none",padding:"0"},children:[" ",g.jsx("h4",{children:"MIDI Backing Track"}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap",marginBottom:"10px"},children:[" ",g.jsx("label",{htmlFor:"midi-genre-select",children:"Select Genre:"}),g.jsx("select",{id:"midi-genre-select",value:ut||"",onChange:k=>_i(k.target.value),children:On.map(k=>g.jsx("option",{value:k,children:k},k))}),g.jsx("label",{htmlFor:"midi-file-select",style:{marginLeft:"15px"},children:"Select Track:"})," ",g.jsxs("select",{id:"midi-file-select",onChange:k=>{const He=k.target.value;He&&tt(He)},value:((Ci=$e.find(k=>k.name===Se))==null?void 0:Ci.url)||"",disabled:re==="playing"||re==="paused"||!ut,children:[g.jsx("option",{value:"",children:"-- Choose a MIDI file --"}),dl.map(k=>g.jsx("option",{value:k.url,children:k.name},k.url))]})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap"},children:[g.jsx("button",{onClick:bn,disabled:!Se||re==="playing",children:"Play"}),g.jsx("button",{onClick:Nr,disabled:re!=="playing",children:"Pause"}),g.jsx("button",{onClick:Er,disabled:re==="stopped",children:"Stop"}),Se&&g.jsxs("span",{style:{marginLeft:"15px",fontStyle:"italic"},children:["Loaded: ",Se]}),re!=="stopped"&&g.jsxs("span",{style:{marginLeft:"15px",fontWeight:"bold"},children:["(",re,")"]})]}),!ee&&M&&g.jsx("p",{style:{marginTop:"5px"},children:g.jsx("small",{children:"Select a MIDI Output device (in Setup tab) to enable playback."})})]}),Ct==="gm2Sounds"&&g.jsx(Uv,{selectedOutputId:ee,sendMessage:ul,log:al})]})]})}class Em{constructor(){this.NOTE_NAMES=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this.SCALE_INTERVALS={major:[0,2,4,5,7,9,11]},this.CHORD_INTERVALS={maj:[0,4,7],min:[0,3,7]},console.log("MusicLogic module initialized")}noteNameToMidi(t){const n=t.toUpperCase().match(/^([A-G])(#?)(\d?)$/);if(!n)return null;let r=n[1],i=n[2]==="#",l=n[3],o=l?parseInt(l,10):4,s=this.NOTE_NAMES.findIndex(d=>d.startsWith(r));if(s===-1)return null;let a=(o+1)*12+s,u=this.NOTE_NAMES.indexOf(r+(i?"#":""));if(u===-1){if((r==="E"||r==="B")&&i)return null;u=s;const d=this.NOTE_NAMES.indexOf(r+"#");if(d!==-1&&i)u=d;else if(d===-1&&i)return null}return a=(o+1)*12+u,a}midiToNoteName(t){if(t<0||t>127)return"Invalid MIDI value";const n=Math.floor(t/12)-1,r=t%12;return this.NOTE_NAMES[r]+n}getScale(t,n){const r=typeof t=="string"?this.noteNameToMidi(t):t;if(r===null||!this.SCALE_INTERVALS[n])return console.error(`Invalid root (${t}) or scale type (${n})`),null;const i=this.SCALE_INTERVALS[n],l=i.map(a=>r+a),o=this.midiToNoteName(r).replace(/\d+$/,""),s=i.map((a,u)=>u+1).join(" ");return{name:`${o} ${n}`,type:n,rootMidi:r,notes:l,formula:s}}getChord(t,n){const r=typeof t=="string"?this.noteNameToMidi(t):t;if(r===null||!this.CHORD_INTERVALS[n])return console.error(`Invalid root (${t}) or chord type (${n})`),null;const l=this.CHORD_INTERVALS[n].map(a=>r+a);return{name:`${this.midiToNoteName(r).replace(/\d+$/,"")}${n}`,type:n,rootMidi:r,notes:l,formula:"TBD"}}getScaleFormula(t){return this.SCALE_INTERVALS[t]?this.SCALE_INTERVALS[t].map((n,r)=>r+1).join(" "):"Unknown Scale Type"}getChordFormula(t){return this.CHORD_INTERVALS[t]?t==="maj"?"1 3 5":t==="min"?"1 b3 5":"TBD":"Unknown Chord Type"}}new Em;function Wv({selectedRoot:e,selectedScaleType:t,selectedChordType:n,currentMode:r,diatonicTriads:i=[],diatonicSevenths:l=[],selectedDiatonicDegree:o,showSevenths:s,selectedProgression:a=null,transposedProgressionChords:u=[]}){var F,f;let d="-",p=[],m="-",v="-",y=[];try{if(r==="scale_display"&&e&&t){const c=`${V.pitchClass(e)} ${t}`,h=bt.get(c);if(h&&Array.isArray(h.notes)){d=h.name||c,p=h.notes,m=p.join(", "),v=h.intervals.join(" ");const S=V.octave(e)||4;y=p.map(E=>V.midi(`${E}${S}`)).filter(Boolean)}else d=`${c} (Invalid)`}else if(r==="chord_search"&&e&&n){const c=`${V.pitchClass(e)}${n}`,h=Ue.get(c);if(h&&Array.isArray(h.notes)){d=c,p=h.notes,m=p.join(", "),v=h.intervals.join(" ");const S=V.octave(e)||4;y=Ue.getChord(n,`${V.pitchClass(e)}${S}`).notes.map(V.midi).filter(Boolean)}}else if(r==="diatonic_chords"&&e&&t){console.log("InfoDisplay.jsx - Diatonic mode, received degree:",o);const c=`${V.pitchClass(e)} ${t}`,h=s?l:i;if(!Array.isArray(h)||h.length<7||o<0||o>=h.length||!h[o])console.warn(`InfoDisplay.jsx - Invalid/incomplete chord list (${Array.isArray(h)?h.length:"N/A"} items) or degree index (${o}) for ${c}`),d=`Loading chords for ${c}...`,p=[],v="-",y=[],m="-";else{const S=h[o];console.log("InfoDisplay - targetChordName before Chord.get:",S);const E=Ue.get(S);if(E&&Array.isArray(E.notes)&&E.notes.length>0){let _=["I","ii","iii","IV","V","vi","vii"][o]||"?";E.quality==="Minor"&&(_=_.toLowerCase()),E.quality==="Diminished"&&(_+=""),s&&E.type!=="dominant seventh"&&E.type!=="major seventh"&&E.type!=="minor seventh"&&E.type,d=`${_}: ${S} (in ${c})`,p=E.notes,v=E.intervals.join(" "),m=p.join(", ");const P=E.tonic,D=V.octave(e)||4;if(P){const I=(F=E.aliases)==null?void 0:F[0];if(!I)console.warn(`InfoDisplay.jsx - Could not determine chord type alias for ${S}`),y=[];else{const K=Ue.getChord(I,`${P}${D}`);K&&Array.isArray(K.notes)?y=K.notes.map(V.midi).filter(Boolean):(console.warn(`InfoDisplay.jsx - Chord.getChord failed for type ${I} and root ${P}${D}`),y=[])}}else console.warn(`Could not get tonic for ${S} to calculate MIDI notes.`),y=[]}else console.warn(`Could not get data for chord ${S}`),d=`Error: Could not get data for ${S}`,p=[],v="-",y=[],m="-"}}else if(r==="chord_progression")if(a&&u.length>0){d=`Progression: ${a.name||"Selected Progression"}`;const c=u.map(E=>E.roman||"?").join(" - ");m=`Chords: ${u.map(E=>E.name||"?").join(" - ")}`,v=`Roman: ${c}`;const S=((f=u[0])==null?void 0:f.midiNotes)||[];y=S,p=S}else d="Loading Progression...",m="-",v="-",p="-",y=[]}catch(c){console.error("Error in InfoDisplay:",c),d=c.message||"Error processing selection",p=[],y=[],v="-",m="-"}const N={title:d,formula:`Formula: ${v||"N/A"}`,noteNames:`Notes: ${m}`,midiNotesDisplay:`MIDI: ${Array.isArray(y)?y.join(", "):"N/A"}`};return g.jsxs("div",{style:{border:"1px solid orange",padding:"10px",margin:"10px 0"},children:[g.jsx("h2",{children:"Info Display"}),g.jsx("h3",{children:N.title}),g.jsx("p",{children:N.noteNames}),g.jsx("p",{children:N.formula}),g.jsx("p",{children:g.jsx("small",{children:N.midiNotesDisplay})})]})}function Jv({logMessages:e=[]}){return g.jsxs("div",{style:{border:"1px solid red",padding:"10px",margin:"10px 0",height:"150px",overflowY:"scroll",fontFamily:"monospace",fontSize:"12px",backgroundColor:"#f0f0f0"},children:[g.jsx("h2",{children:"MIDI Monitor"}),e.length>0?e.map((t,n)=>g.jsx("div",{children:t},n)):g.jsx("p",{children:"Waiting for MIDI logs..."})]})}function Qv({rootNote:e,notesToHighlight:t=[],playedNotes:n=[],expectedNotes:r=[]}){const i=x.useRef(null),l=36,o=5,s=7*o+1,a=12*o+1;return x.useEffect(()=>{var K;const u=i.current,d=u.getContext("2d"),p=u.width,m=u.height,v=p/s,y=m,N=v*.6,F=y*.6,f="#ffffff",c="#000000",h="#cccccc",S="#a0d2ff",E="#4a90e2",T="#90ee90",_="#ffa500";d.fillStyle=f,d.fillRect(0,0,p,m);let P=0;const D=[];for(let W=0;W<a;W++){const j=l+W,O=j%12;if(![1,3,6,8,10].includes(O)){const z=P,J=v,M=y,R=j===e,L=t.includes(j),$=n.includes(j),b=r.includes(j);let H=f;L&&(H=S),R&&L&&(H=E),b&&(H=_),$&&(H=T),d.fillStyle=H,d.fillRect(z,0,J,M),d.strokeStyle=h,d.strokeRect(z,0,J,M),D.push({midiNote:j,isBlackKey:!1,x:z,width:J,height:M}),P+=v}}let I=0;for(let W=0;W<a;W++){const j=l+W,O=j%12;if(![1,3,6,8,10].includes(O)){const z=((K=D.find(M=>!M.isBlackKey&&M.midiNote===j))==null?void 0:K.x)??I*v;if([1,3,6,8,10].includes((O+1)%12)&&O!==4&&O!==11){const M=z+v-N/2,R=j+1,L=R===e,$=t.includes(R),b=n.includes(R),H=r.includes(R);let se=c;$&&(se=S),L&&$&&(se=E),H&&(se=_),b&&(se=T),d.fillStyle=se,d.fillRect(M,0,N,F),d.strokeStyle=h,d.strokeRect(M,0,N,F),D.push({midiNote:R,isBlackKey:!0,x:M,width:N,height:F})}I++}}},[e,t,l,o,n,r]),g.jsxs("div",{style:{border:"1px solid green",padding:"10px",margin:"10px 0"},children:[g.jsx("h2",{children:"Piano Keyboard"}),g.jsx("canvas",{ref:i,width:720,height:220,style:{border:"1px solid #ccc"}})]})}var km={exports:{}};(function(e){(function(t){function n(){if(n.prototype._singleton)throw new Error("WebMidi is a singleton, it cannot be instantiated directly.");(n.prototype._singleton=this)._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=["connected","disconnected"],this._nrpnBuffer=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this._nrpnEventsEnabled=!0,this._nrpnTypes=["entry","increment","decrement"],this._notes=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,nrpn:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_NRPN_MESSAGES:{value:{entrymsb:6,entrylsb:38,increment:96,decrement:97,paramlsb:98,parammsb:99,nullactiveparameter:127},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1},octaveOffset:{value:0,writable:!0,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return"requestMIDIAccess"in navigator}},enabled:{enumerable:!0,get:(function(){return this.interface!==void 0}).bind(this)},inputs:{enumerable:!0,get:(function(){return this._inputs}).bind(this)},outputs:{enumerable:!0,get:(function(){return this._outputs}).bind(this)},sysexEnabled:{enumerable:!0,get:(function(){return!(!this.interface||!this.interface.sysexEnabled)}).bind(this)},nrpnEventsEnabled:{enumerable:!0,get:(function(){return!!this._nrpnEventsEnabled}).bind(this),set:function(o){return this._nrpnEventsEnabled=o,this._nrpnEventsEnabled}},nrpnTypes:{enumerable:!0,get:(function(){return this._nrpnTypes}).bind(this)},time:{enumerable:!0,get:function(){return performance.now()}}})}var r=new n;function i(o){var s=this;this._userHandlers={channel:{},system:{}},this._midiInput=o,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return s._midiInput.connection}},id:{enumerable:!0,get:function(){return s._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return s._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return s._midiInput.name}},state:{enumerable:!0,get:function(){return s._midiInput.state}},type:{enumerable:!0,get:function(){return s._midiInput.type}}}),this._initializeUserHandlers(),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}function l(o){var s=this;this._midiOutput=o,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return s._midiOutput.connection}},id:{enumerable:!0,get:function(){return s._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return s._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return s._midiOutput.name}},state:{enumerable:!0,get:function(){return s._midiOutput.state}},type:{enumerable:!0,get:function(){return s._midiOutput.type}}})}n.prototype.enable=function(o,s){this.enabled||(this.supported?navigator.requestMIDIAccess({sysex:s}).then((function(a){var u,d=[],p=[];this.interface=a,this._resetInterfaceUserHandlers(),this.interface.onstatechange=function(f){d.push(f)};for(var m=a.inputs.values(),v=m.next();v&&!v.done;v=m.next())p.push(v.value.open());for(var y=a.outputs.values(),N=y.next();N&&!N.done;N=y.next())p.push(N.value.open());function F(){clearTimeout(u),this._updateInputsAndOutputs(),this.interface.onstatechange=this._onInterfaceStateChange.bind(this),typeof o=="function"&&o.call(this),d.forEach((function(f){this._onInterfaceStateChange(f)}).bind(this))}u=setTimeout(F.bind(this),200),Promise&&Promise.all(p).catch(function(f){}).then(F.bind(this))}).bind(this),(function(a){typeof o=="function"&&o.call(this,a)}).bind(this)):typeof o=="function"&&o(new Error("The Web MIDI API is not supported by your browser.")))},n.prototype.disable=function(){if(!this.supported)throw new Error("The Web MIDI API is not supported by your browser.");this.enabled&&(this.removeListener(),this.inputs.forEach(function(o){o.removeListener()})),this.interface&&(this.interface.onstatechange=void 0),this.interface=void 0,this._inputs=[],this._outputs=[],this._nrpnEventsEnabled=!0,this._resetInterfaceUserHandlers()},n.prototype.addListener=function(o,s){if(!this.enabled)throw new Error("WebMidi must be enabled before adding event listeners.");if(typeof s!="function")throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(o)))throw new TypeError("The specified event type is not supported.");return this._userHandlers[o].push(s),this},n.prototype.hasListener=function(o,s){if(!this.enabled)throw new Error("WebMidi must be enabled before checking event listeners.");if(typeof s!="function")throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(o)))throw new TypeError("The specified event type is not supported.");for(var a=0;a<this._userHandlers[o].length;a++)if(this._userHandlers[o][a]===s)return!0;return!1},n.prototype.removeListener=function(o,s){if(!this.enabled)throw new Error("WebMidi must be enabled before removing event listeners.");if(s!==void 0&&typeof s!="function")throw new TypeError("The 'listener' parameter must be a function.");if(0<=this._midiInterfaceEvents.indexOf(o))if(s)for(var a=0;a<this._userHandlers[o].length;a++)this._userHandlers[o][a]===s&&this._userHandlers[o].splice(a,1);else this._userHandlers[o]=[];else{if(o!==void 0)throw new TypeError("The specified event type is not supported.");this._resetInterfaceUserHandlers()}return this},n.prototype.toMIDIChannels=function(o){var s;if(o==="all"||o===void 0)s=["all"];else{if(o==="none")return s=[];s=Array.isArray(o)?o:[o]}return-1<s.indexOf("all")&&(s=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),s.map(function(a){return parseInt(a)}).filter(function(a){return 1<=a&&a<=16})},n.prototype.getInputById=function(o){if(!this.enabled)throw new Error("WebMidi is not enabled.");o=String(o);for(var s=0;s<this.inputs.length;s++)if(this.inputs[s].id===o)return this.inputs[s];return!1},n.prototype.getOutputById=function(o){if(!this.enabled)throw new Error("WebMidi is not enabled.");o=String(o);for(var s=0;s<this.outputs.length;s++)if(this.outputs[s].id===o)return this.outputs[s];return!1},n.prototype.getInputByName=function(o){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var s=0;s<this.inputs.length;s++)if(~this.inputs[s].name.indexOf(o))return this.inputs[s];return!1},n.prototype.getOctave=function(o){if(o!=null&&0<=o&&o<=127)return Math.floor(Math.floor(o)/12-1)+Math.floor(r.octaveOffset)},n.prototype.getOutputByName=function(o){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var s=0;s<this.outputs.length;s++)if(~this.outputs[s].name.indexOf(o))return this.outputs[s];return!1},n.prototype.guessNoteNumber=function(o){var s=!1;if(o&&o.toFixed&&0<=o&&o<=127?s=Math.round(o):0<=parseInt(o)&&parseInt(o)<=127?s=parseInt(o):(typeof o=="string"||o instanceof String)&&(s=this.noteNameToNumber(o)),s===!1)throw new Error("Invalid input value ("+o+").");return s},n.prototype.noteNameToNumber=function(o){typeof o!="string"&&(o="");var s=o.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)/i);if(!s)throw new RangeError("Invalid note name.");var a=r._semitones[s[1].toUpperCase()],u=12*(parseInt(s[3])+1-Math.floor(r.octaveOffset))+a;if(-1<s[2].toLowerCase().indexOf("b")?u-=s[2].length:-1<s[2].toLowerCase().indexOf("#")&&(u+=s[2].length),u<0||127<u)throw new RangeError("Invalid note name or note outside valid range.");return u},n.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},n.prototype._updateInputs=function(){for(var o=0;o<this._inputs.length;o++){for(var s=!0,a=this.interface.inputs.values(),u=a.next();u&&!u.done;u=a.next())if(this._inputs[o]._midiInput===u.value){s=!1;break}s&&this._inputs.splice(o,1)}this.interface&&this.interface.inputs.forEach((function(d){for(var p=!0,m=0;m<this._inputs.length;m++)this._inputs[m]._midiInput===d&&(p=!1);p&&this._inputs.push(new i(d))}).bind(this))},n.prototype._updateOutputs=function(){for(var o=0;o<this._outputs.length;o++){for(var s=!0,a=this.interface.outputs.values(),u=a.next();u&&!u.done;u=a.next())if(this._outputs[o]._midiOutput===u.value){s=!1;break}s&&this._outputs.splice(o,1)}this.interface&&this.interface.outputs.forEach((function(d){for(var p=!0,m=0;m<this._outputs.length;m++)this._outputs[m]._midiOutput===d&&(p=!1);p&&this._outputs.push(new l(d))}).bind(this))},n.prototype._onInterfaceStateChange=function(o){this._updateInputsAndOutputs();var s={timestamp:o.timeStamp,type:o.port.state};this.interface&&o.port.state==="connected"?o.port.type==="output"?s.port=this.getOutputById(o.port.id):o.port.type==="input"&&(s.port=this.getInputById(o.port.id)):s.port={connection:"closed",id:o.port.id,manufacturer:o.port.manufacturer,name:o.port.name,state:o.port.state,type:o.port.type},this._userHandlers[o.port.state].forEach(function(a){a(s)})},n.prototype._resetInterfaceUserHandlers=function(){for(var o=0;o<this._midiInterfaceEvents.length;o++)this._userHandlers[this._midiInterfaceEvents[o]]=[]},i.prototype.on=i.prototype.addListener=function(o,s,a){var u=this;if(s===void 0&&(s="all"),Array.isArray(s)||(s=[s]),s.forEach(function(p){if(p!=="all"&&!(1<=p&&p<=16))throw new RangeError("The 'channel' parameter is invalid.")}),typeof a!="function")throw new TypeError("The 'listener' parameter must be a function.");if(r.MIDI_SYSTEM_MESSAGES[o]!==void 0)this._userHandlers.system[o]||(this._userHandlers.system[o]=[]),this._userHandlers.system[o].push(a);else{if(r.MIDI_CHANNEL_MESSAGES[o]===void 0)throw new TypeError("The specified event type is not supported.");if(-1<s.indexOf("all")){s=[];for(var d=1;d<=16;d++)s.push(d)}this._userHandlers.channel[o]||(this._userHandlers.channel[o]=[]),s.forEach(function(p){u._userHandlers.channel[o][p]||(u._userHandlers.channel[o][p]=[]),u._userHandlers.channel[o][p].push(a)})}return this},i.prototype.hasListener=function(o,s,a){var u=this;if(typeof a!="function")throw new TypeError("The 'listener' parameter must be a function.");if(s===void 0&&(s="all"),s.constructor!==Array&&(s=[s]),r.MIDI_SYSTEM_MESSAGES[o]!==void 0){for(var d=0;d<this._userHandlers.system[o].length;d++)if(this._userHandlers.system[o][d]===a)return!0}else if(r.MIDI_CHANNEL_MESSAGES[o]!==void 0){if(-1<s.indexOf("all")){s=[];for(var p=1;p<=16;p++)s.push(p)}return!!this._userHandlers.channel[o]&&s.every(function(m){var v=u._userHandlers.channel[o][m];return v&&-1<v.indexOf(a)})}return!1},i.prototype.removeListener=function(o,s,a){var u=this;if(a!==void 0&&typeof a!="function")throw new TypeError("The 'listener' parameter must be a function.");if(s===void 0&&(s="all"),s.constructor!==Array&&(s=[s]),r.MIDI_SYSTEM_MESSAGES[o]!==void 0)if(a===void 0)this._userHandlers.system[o]=[];else for(var d=0;d<this._userHandlers.system[o].length;d++)this._userHandlers.system[o][d]===a&&this._userHandlers.system[o].splice(d,1);else if(r.MIDI_CHANNEL_MESSAGES[o]!==void 0){if(-1<s.indexOf("all")){s=[];for(var p=1;p<=16;p++)s.push(p)}if(!this._userHandlers.channel[o])return this;s.forEach(function(m){var v=u._userHandlers.channel[o][m];if(v)if(a===void 0)u._userHandlers.channel[o][m]=[];else for(var y=0;y<v.length;y++)v[y]===a&&v.splice(y,1)})}else{if(o!==void 0)throw new TypeError("The specified event type is not supported.");this._initializeUserHandlers()}return this},i.prototype._initializeUserHandlers=function(){for(var o in r.MIDI_CHANNEL_MESSAGES)Object.prototype.hasOwnProperty.call(r.MIDI_CHANNEL_MESSAGES,o)&&(this._userHandlers.channel[o]={});for(var s in r.MIDI_SYSTEM_MESSAGES)Object.prototype.hasOwnProperty.call(r.MIDI_SYSTEM_MESSAGES,s)&&(this._userHandlers.system[s]=[])},i.prototype._onMidiMessage=function(o){if(0<this._userHandlers.system.midimessage.length){var s={target:this,data:o.data,timestamp:o.timeStamp,type:"midimessage"};this._userHandlers.system.midimessage.forEach(function(a){a(s)})}o.data[0]<240?(this._parseChannelEvent(o),this._parseNrpnEvent(o)):o.data[0]<=255&&this._parseSystemEvent(o)},i.prototype._parseNrpnEvent=function(o){var s,a,u=o.data[0]>>4,d=15&o.data[0],p=1+d;if(1<o.data.length&&(s=o.data[1],a=2<o.data.length?o.data[2]:void 0),r.nrpnEventsEnabled&&u===r.MIDI_CHANNEL_MESSAGES.controlchange&&(s>=r.MIDI_NRPN_MESSAGES.increment&&s<=r.MIDI_NRPN_MESSAGES.parammsb||s===r.MIDI_NRPN_MESSAGES.entrymsb||s===r.MIDI_NRPN_MESSAGES.entrylsb)){var m={target:this,type:"controlchange",data:o.data,timestamp:o.timeStamp,channel:p,controller:{number:s,name:this.getCcNameByNumber(s)},value:a};if(m.controller.number===r.MIDI_NRPN_MESSAGES.parammsb&&m.value!=r.MIDI_NRPN_MESSAGES.nullactiveparameter)r._nrpnBuffer[d]=[],r._nrpnBuffer[d][0]=m;else if(r._nrpnBuffer[d].length===1&&m.controller.number===r.MIDI_NRPN_MESSAGES.paramlsb)r._nrpnBuffer[d].push(m);else if(r._nrpnBuffer[d].length!==2||m.controller.number!==r.MIDI_NRPN_MESSAGES.increment&&m.controller.number!==r.MIDI_NRPN_MESSAGES.decrement&&m.controller.number!==r.MIDI_NRPN_MESSAGES.entrymsb)if(r._nrpnBuffer[d].length===3&&r._nrpnBuffer[d][2].number===r.MIDI_NRPN_MESSAGES.entrymsb&&m.controller.number===r.MIDI_NRPN_MESSAGES.entrylsb)r._nrpnBuffer[d].push(m);else if(3<=r._nrpnBuffer[d].length&&r._nrpnBuffer[d].length<=4&&m.controller.number===r.MIDI_NRPN_MESSAGES.parammsb&&m.value===r.MIDI_NRPN_MESSAGES.nullactiveparameter)r._nrpnBuffer[d].push(m);else if(4<=r._nrpnBuffer[d].length&&r._nrpnBuffer[d].length<=5&&m.controller.number===r.MIDI_NRPN_MESSAGES.paramlsb&&m.value===r.MIDI_NRPN_MESSAGES.nullactiveparameter){r._nrpnBuffer[d].push(m);var v=[];r._nrpnBuffer[d].forEach(function(c){v.push(c.data)});var y=r._nrpnBuffer[d][0].value<<7|r._nrpnBuffer[d][1].value,N=r._nrpnBuffer[d][2].value;r._nrpnBuffer[d].length===6&&(N=r._nrpnBuffer[d][2].value<<7|r._nrpnBuffer[d][3].value);var F="";switch(r._nrpnBuffer[d][2].controller.number){case r.MIDI_NRPN_MESSAGES.entrymsb:F=r._nrpnTypes[0];break;case r.MIDI_NRPN_MESSAGES.increment:F=r._nrpnTypes[1];break;case r.MIDI_NRPN_MESSAGES.decrement:F=r._nrpnTypes[2];break;default:throw new Error("The NPRN type was unidentifiable.")}var f={timestamp:m.timestamp,channel:m.channel,type:"nrpn",data:v,controller:{number:y,type:F,name:"Non-Registered Parameter "+y},value:N};r._nrpnBuffer[d]=[],this._userHandlers.channel[f.type]&&this._userHandlers.channel[f.type][f.channel]&&this._userHandlers.channel[f.type][f.channel].forEach(function(c){c(f)})}else r._nrpnBuffer[d]=[];else r._nrpnBuffer[d].push(m)}},i.prototype._parseChannelEvent=function(o){var s,a,u=o.data[0]>>4,d=1+(15&o.data[0]);1<o.data.length&&(s=o.data[1],a=2<o.data.length?o.data[2]:void 0);var p={target:this,data:o.data,timestamp:o.timeStamp,channel:d};u===r.MIDI_CHANNEL_MESSAGES.noteoff||u===r.MIDI_CHANNEL_MESSAGES.noteon&&a===0?(p.type="noteoff",p.note={number:s,name:r._notes[s%12],octave:r.getOctave(s)},p.velocity=a/127,p.rawVelocity=a):u===r.MIDI_CHANNEL_MESSAGES.noteon?(p.type="noteon",p.note={number:s,name:r._notes[s%12],octave:r.getOctave(s)},p.velocity=a/127,p.rawVelocity=a):u===r.MIDI_CHANNEL_MESSAGES.keyaftertouch?(p.type="keyaftertouch",p.note={number:s,name:r._notes[s%12],octave:r.getOctave(s)},p.value=a/127):u===r.MIDI_CHANNEL_MESSAGES.controlchange&&0<=s&&s<=119?(p.type="controlchange",p.controller={number:s,name:this.getCcNameByNumber(s)},p.value=a):u===r.MIDI_CHANNEL_MESSAGES.channelmode&&120<=s&&s<=127?(p.type="channelmode",p.controller={number:s,name:this.getChannelModeByNumber(s)},p.value=a):u===r.MIDI_CHANNEL_MESSAGES.programchange?(p.type="programchange",p.value=s):u===r.MIDI_CHANNEL_MESSAGES.channelaftertouch?(p.type="channelaftertouch",p.value=s/127):u===r.MIDI_CHANNEL_MESSAGES.pitchbend?(p.type="pitchbend",p.value=((a<<7)+s-8192)/8192):p.type="unknownchannelmessage",this._userHandlers.channel[p.type]&&this._userHandlers.channel[p.type][d]&&this._userHandlers.channel[p.type][d].forEach(function(m){m(p)})},i.prototype.getCcNameByNumber=function(o){if(!(0<=(o=Math.floor(o))&&o<=119))throw new RangeError("The control change number must be between 0 and 119.");for(var s in r.MIDI_CONTROL_CHANGE_MESSAGES)if(Object.prototype.hasOwnProperty.call(r.MIDI_CONTROL_CHANGE_MESSAGES,s)&&o===r.MIDI_CONTROL_CHANGE_MESSAGES[s])return s},i.prototype.getChannelModeByNumber=function(o){if(!(120<=(o=Math.floor(o))&&status<=127))throw new RangeError("The control change number must be between 120 and 127.");for(var s in r.MIDI_CHANNEL_MODE_MESSAGES)if(Object.prototype.hasOwnProperty.call(r.MIDI_CHANNEL_MODE_MESSAGES,s)&&o===r.MIDI_CHANNEL_MODE_MESSAGES[s])return s},i.prototype._parseSystemEvent=function(o){var s=o.data[0],a={target:this,data:o.data,timestamp:o.timeStamp};s===r.MIDI_SYSTEM_MESSAGES.sysex?a.type="sysex":s===r.MIDI_SYSTEM_MESSAGES.timecode?a.type="timecode":s===r.MIDI_SYSTEM_MESSAGES.songposition?a.type="songposition":s===r.MIDI_SYSTEM_MESSAGES.songselect?(a.type="songselect",a.song=o.data[1]):s===r.MIDI_SYSTEM_MESSAGES.tuningrequest?a.type="tuningrequest":s===r.MIDI_SYSTEM_MESSAGES.clock?a.type="clock":s===r.MIDI_SYSTEM_MESSAGES.start?a.type="start":s===r.MIDI_SYSTEM_MESSAGES.continue?a.type="continue":s===r.MIDI_SYSTEM_MESSAGES.stop?a.type="stop":s===r.MIDI_SYSTEM_MESSAGES.activesensing?a.type="activesensing":s===r.MIDI_SYSTEM_MESSAGES.reset?a.type="reset":a.type="unknownsystemmessage",this._userHandlers.system[a.type]&&this._userHandlers.system[a.type].forEach(function(u){u(a)})},l.prototype.send=function(o,s,a){if(!(128<=o&&o<=255))throw new RangeError("The status byte must be an integer between 128 (0x80) and 255 (0xFF).");s===void 0&&(s=[]),Array.isArray(s)||(s=[s]);var u=[];return s.forEach(function(d){var p=Math.floor(d);if(!(0<=p&&p<=255))throw new RangeError("Data bytes must be integers between 0 (0x00) and 255 (0xFF).");u.push(p)}),this._midiOutput.send([o].concat(u),parseFloat(a)||0),this},l.prototype.sendSysex=function(o,s,a){if(!r.sysexEnabled)throw new Error("Sysex message support must first be activated.");return a=a||{},o=[].concat(o),s.forEach(function(u){if(u<0||127<u)throw new RangeError("The data bytes of a sysex message must be integers between 0 (0x00) and 127 (0x7F).")}),s=o.concat(s,r.MIDI_SYSTEM_MESSAGES.sysexend),this.send(r.MIDI_SYSTEM_MESSAGES.sysex,s,this._parseTimeParameter(a.time)),this},l.prototype.sendTimecodeQuarterFrame=function(o,s){return s=s||{},this.send(r.MIDI_SYSTEM_MESSAGES.timecode,o,this._parseTimeParameter(s.time)),this},l.prototype.sendSongPosition=function(o,s){s=s||{};var a=(o=Math.floor(o)||0)>>7&127,u=127&o;return this.send(r.MIDI_SYSTEM_MESSAGES.songposition,[a,u],this._parseTimeParameter(s.time)),this},l.prototype.sendSongSelect=function(o,s){if(s=s||{},!(0<=(o=Math.floor(o))&&o<=127))throw new RangeError("The song number must be between 0 and 127.");return this.send(r.MIDI_SYSTEM_MESSAGES.songselect,[o],this._parseTimeParameter(s.time)),this},l.prototype.sendTuningRequest=function(o){return o=o||{},this.send(r.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,this._parseTimeParameter(o.time)),this},l.prototype.sendClock=function(o){return o=o||{},this.send(r.MIDI_SYSTEM_MESSAGES.clock,void 0,this._parseTimeParameter(o.time)),this},l.prototype.sendStart=function(o){return o=o||{},this.send(r.MIDI_SYSTEM_MESSAGES.start,void 0,this._parseTimeParameter(o.time)),this},l.prototype.sendContinue=function(o){return o=o||{},this.send(r.MIDI_SYSTEM_MESSAGES.continue,void 0,this._parseTimeParameter(o.time)),this},l.prototype.sendStop=function(o){return o=o||{},this.send(r.MIDI_SYSTEM_MESSAGES.stop,void 0,this._parseTimeParameter(o.time)),this},l.prototype.sendActiveSensing=function(o){return o=o||{},this.send(r.MIDI_SYSTEM_MESSAGES.activesensing,[],this._parseTimeParameter(o.time)),this},l.prototype.sendReset=function(o){return o=o||{},this.send(r.MIDI_SYSTEM_MESSAGES.reset,void 0,this._parseTimeParameter(o.time)),this},l.prototype.stopNote=function(o,s,a){if(o==="all")return this.sendChannelMode("allnotesoff",0,s,a);var u=64;return(a=a||{}).rawVelocity?!isNaN(a.velocity)&&0<=a.velocity&&a.velocity<=127&&(u=a.velocity):!isNaN(a.velocity)&&0<=a.velocity&&a.velocity<=1&&(u=127*a.velocity),this._convertNoteToArray(o).forEach((function(d){r.toMIDIChannels(s).forEach((function(p){this.send((r.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(p-1),[d,Math.round(u)],this._parseTimeParameter(a.time))}).bind(this))}).bind(this)),this},l.prototype.playNote=function(o,s,a){var u,d=64;if((a=a||{}).rawVelocity?!isNaN(a.velocity)&&0<=a.velocity&&a.velocity<=127&&(d=a.velocity):!isNaN(a.velocity)&&0<=a.velocity&&a.velocity<=1&&(d=127*a.velocity),u=this._parseTimeParameter(a.time),this._convertNoteToArray(o).forEach((function(m){r.toMIDIChannels(s).forEach((function(v){this.send((r.MIDI_CHANNEL_MESSAGES.noteon<<4)+(v-1),[m,Math.round(d)],u)}).bind(this))}).bind(this)),!isNaN(a.duration)){a.duration<=0&&(a.duration=0);var p=64;a.rawVelocity?!isNaN(a.release)&&0<=a.release&&a.release<=127&&(p=a.release):!isNaN(a.release)&&0<=a.release&&a.release<=1&&(p=127*a.release),this._convertNoteToArray(o).forEach((function(m){r.toMIDIChannels(s).forEach((function(v){this.send((r.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(v-1),[m,Math.round(p)],(u||r.time)+a.duration)}).bind(this))}).bind(this))}return this},l.prototype.sendKeyAftertouch=function(o,s,a,u){var d=this;if(u=u||{},s<1||16<s)throw new RangeError("The channel must be between 1 and 16.");(isNaN(a)||a<0||1<a)&&(a=.5);var p=Math.round(127*a);return this._convertNoteToArray(o).forEach(function(m){r.toMIDIChannels(s).forEach(function(v){d.send((r.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(v-1),[m,p],d._parseTimeParameter(u.time))})}),this},l.prototype.sendControlChange=function(o,s,a,u){if(u=u||{},typeof o=="string"){if((o=r.MIDI_CONTROL_CHANGE_MESSAGES[o])===void 0)throw new TypeError("Invalid controller name.")}else if(!(0<=(o=Math.floor(o))&&o<=119))throw new RangeError("Controller numbers must be between 0 and 119.");if(!(0<=(s=Math.floor(s)||0)&&s<=127))throw new RangeError("Controller value must be between 0 and 127.");return r.toMIDIChannels(a).forEach((function(d){this.send((r.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(d-1),[o,s],this._parseTimeParameter(u.time))}).bind(this)),this},l.prototype._selectRegisteredParameter=function(o,s,a){var u=this;if(o[0]=Math.floor(o[0]),!(0<=o[0]&&o[0]<=127))throw new RangeError("The control65 value must be between 0 and 127");if(o[1]=Math.floor(o[1]),!(0<=o[1]&&o[1]<=127))throw new RangeError("The control64 value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.sendControlChange(101,o[0],s,{time:a}),u.sendControlChange(100,o[1],s,{time:a})}),this},l.prototype._selectNonRegisteredParameter=function(o,s,a){var u=this;if(o[0]=Math.floor(o[0]),!(0<=o[0]&&o[0]<=127))throw new RangeError("The control63 value must be between 0 and 127");if(o[1]=Math.floor(o[1]),!(0<=o[1]&&o[1]<=127))throw new RangeError("The control62 value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.sendControlChange(99,o[0],s,{time:a}),u.sendControlChange(98,o[1],s,{time:a})}),this},l.prototype._setCurrentRegisteredParameter=function(o,s,a){var u=this;if((o=[].concat(o))[0]=Math.floor(o[0]),!(0<=o[0]&&o[0]<=127))throw new RangeError("The msb value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.sendControlChange(6,o[0],s,{time:a})}),o[1]=Math.floor(o[1]),0<=o[1]&&o[1]<=127&&r.toMIDIChannels(s).forEach(function(){u.sendControlChange(38,o[1],s,{time:a})}),this},l.prototype._deselectRegisteredParameter=function(o,s){var a=this;return r.toMIDIChannels(o).forEach(function(){a.sendControlChange(101,127,o,{time:s}),a.sendControlChange(100,127,o,{time:s})}),this},l.prototype.setRegisteredParameter=function(o,s,a,u){var d=this;if(u=u||{},!Array.isArray(o)){if(!r.MIDI_REGISTERED_PARAMETER[o])throw new Error("The specified parameter is not available.");o=r.MIDI_REGISTERED_PARAMETER[o]}return r.toMIDIChannels(a).forEach(function(){d._selectRegisteredParameter(o,a,u.time),d._setCurrentRegisteredParameter(s,a,u.time),d._deselectRegisteredParameter(a,u.time)}),this},l.prototype.setNonRegisteredParameter=function(o,s,a,u){var d=this;if(u=u||{},!(0<=o[0]&&o[0]<=127&&0<=o[1]&&o[1]<=127))throw new Error("Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.");return s=[].concat(s),r.toMIDIChannels(a).forEach(function(){d._selectNonRegisteredParameter(o,a,u.time),d._setCurrentRegisteredParameter(s,a,u.time),d._deselectRegisteredParameter(a,u.time)}),this},l.prototype.incrementRegisteredParameter=function(o,s,a){var u=this;if(a=a||{},!Array.isArray(o)){if(!r.MIDI_REGISTERED_PARAMETER[o])throw new Error("The specified parameter is not available.");o=r.MIDI_REGISTERED_PARAMETER[o]}return r.toMIDIChannels(s).forEach(function(){u._selectRegisteredParameter(o,s,a.time),u.sendControlChange(96,0,s,{time:a.time}),u._deselectRegisteredParameter(s,a.time)}),this},l.prototype.decrementRegisteredParameter=function(o,s,a){if(a=a||{},!Array.isArray(o)){if(!r.MIDI_REGISTERED_PARAMETER[o])throw new TypeError("The specified parameter is not available.");o=r.MIDI_REGISTERED_PARAMETER[o]}return r.toMIDIChannels(s).forEach((function(){this._selectRegisteredParameter(o,s,a.time),this.sendControlChange(97,0,s,{time:a.time}),this._deselectRegisteredParameter(s,a.time)}).bind(this)),this},l.prototype.setPitchBendRange=function(o,s,a,u){var d=this;if(u=u||{},!(0<=(o=Math.floor(o)||0)&&o<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(s=Math.floor(s)||0)&&s<=127))throw new RangeError("The cents value must be between 0 and 127");return r.toMIDIChannels(a).forEach(function(){d.setRegisteredParameter("pitchbendrange",[o,s],a,{time:u.time})}),this},l.prototype.setModulationRange=function(o,s,a,u){var d=this;if(u=u||{},!(0<=(o=Math.floor(o)||0)&&o<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(s=Math.floor(s)||0)&&s<=127))throw new RangeError("The cents value must be between 0 and 127");return r.toMIDIChannels(a).forEach(function(){d.setRegisteredParameter("modulationrange",[o,s],a,{time:u.time})}),this},l.prototype.setMasterTuning=function(o,s,a){var u=this;if(a=a||{},(o=parseFloat(o)||0)<=-65||64<=o)throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");var d=Math.floor(o)+64,p=o-Math.floor(o),m=(p=Math.round((p+1)/2*16383))>>7&127,v=127&p;return r.toMIDIChannels(s).forEach(function(){u.setRegisteredParameter("channelcoarsetuning",d,s,{time:a.time}),u.setRegisteredParameter("channelfinetuning",[m,v],s,{time:a.time})}),this},l.prototype.setTuningProgram=function(o,s,a){var u=this;if(a=a||{},!(0<=(o=Math.floor(o))&&o<=127))throw new RangeError("The program value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.setRegisteredParameter("tuningprogram",o,s,{time:a.time})}),this},l.prototype.setTuningBank=function(o,s,a){var u=this;if(a=a||{},!(0<=(o=Math.floor(o)||0)&&o<=127))throw new RangeError("The bank value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.setRegisteredParameter("tuningbank",o,s,{time:a.time})}),this},l.prototype.sendChannelMode=function(o,s,a,u){if(u=u||{},typeof o=="string"){if(!(o=r.MIDI_CHANNEL_MODE_MESSAGES[o]))throw new TypeError("Invalid channel mode message name.")}else if(!(120<=(o=Math.floor(o))&&o<=127))throw new RangeError("Channel mode numerical identifiers must be between 120 and 127.");if((s=Math.floor(s)||0)<0||127<s)throw new RangeError("Value must be an integer between 0 and 127.");return r.toMIDIChannels(a).forEach((function(d){this.send((r.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(d-1),[o,s],this._parseTimeParameter(u.time))}).bind(this)),this},l.prototype.sendProgramChange=function(o,s,a){var u=this;if(a=a||{},o=Math.floor(o),isNaN(o)||o<0||127<o)throw new RangeError("Program numbers must be between 0 and 127.");return r.toMIDIChannels(s).forEach(function(d){u.send((r.MIDI_CHANNEL_MESSAGES.programchange<<4)+(d-1),[o],u._parseTimeParameter(a.time))}),this},l.prototype.sendChannelAftertouch=function(o,s,a){var u=this;a=a||{},o=parseFloat(o),(isNaN(o)||o<0||1<o)&&(o=.5);var d=Math.round(127*o);return r.toMIDIChannels(s).forEach(function(p){u.send((r.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(p-1),[d],u._parseTimeParameter(a.time))}),this},l.prototype.sendPitchBend=function(o,s,a){var u=this;if(a=a||{},isNaN(o)||o<-1||1<o)throw new RangeError("Pitch bend value must be between -1 and 1.");var d=Math.round((o+1)/2*16383),p=d>>7&127,m=127&d;return r.toMIDIChannels(s).forEach(function(v){u.send((r.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(v-1),[m,p],u._parseTimeParameter(a.time))}),this},l.prototype._parseTimeParameter=function(o){var s,a=parseFloat(o);return typeof o=="string"&&o.substring(0,1)==="+"?a&&0<a&&(s=r.time+a):a>r.time&&(s=a),s},l.prototype._convertNoteToArray=function(o){var s=[];return Array.isArray(o)||(o=[o]),o.forEach(function(a){s.push(r.guessNoteNumber(a))}),s},e.exports?e.exports=r:t.WebMidi||(t.WebMidi=r)})(Ym)})(km);var Yv=km.exports;const Ne=Ac(Yv),Gl=new Em;function Xv({onNoteOn:e,onNoteOff:t}){const[n,r]=x.useState(!1),[i,l]=x.useState([]),[o,s]=x.useState([]),[a,u]=x.useState(null),[d,p]=x.useState(null),[m,v]=x.useState(["MIDI Hook Initialized..."]),[y,N]=x.useState(null),F=x.useRef(null),f=x.useCallback((_,P="INFO")=>{const D=new Date().toLocaleTimeString("en-US",{hour12:!1});let I="";P==="WARN"?I="[WARN] ":P==="ERROR"&&(I="[ERR] "),console.log(`${P}: ${_}`),v(K=>[...K.slice(-29),`${D}: ${I}${_}`])},[]),c=x.useCallback(()=>{if(f("Updating device lists..."),!Ne.enabled){f("WebMidi not enabled, cannot update lists.","WARN"),l([]),s([]);return}const _=Ne.inputs.map(D=>({id:D.id,name:D.name})),P=Ne.outputs.map(D=>({id:D.id,name:D.name}));l(_),s(P),f(`Found ${_.length} inputs, ${P.length} outputs.`),a&&!_.find(D=>D.id===a)&&(f(`Selected input ${a} disconnected. Deselecting.`,"WARN"),S(null)),d&&!P.find(D=>D.id===d)&&(f(`Selected output ${d} disconnected. Deselecting.`,"WARN"),E(null))},[f]);x.useEffect(()=>{if(f(`Checking WebMidi.supported: ${Ne.supported}`),!Ne.supported){f("Web MIDI API is not supported in this browser.","ERROR"),alert("Web MIDI API is not supported in this browser environment."),r(!1);return}n||(f("Attempting to enable WebMidi (sysex: true)..."),Ne.enable(_=>{_?(f(`WebMidi.enable() failed: ${_.message}`,"ERROR"),alert(`Failed to initialize MIDI: ${_.message}. Please ensure permissions are granted.`),r(!1)):(f("WebMidi enabled successfully."),r(!0),c())},{sysex:!0}))},[n,f,c]),x.useEffect(()=>()=>{Ne.enabled&&(f("Disabling WebMidi on component unmount..."),Ne.disable())},[]),x.useEffect(()=>{if(n&&Ne.enabled){const _=P=>{var I,K;if(typeof P.port=="object"&&P.port!==null&&P.port.id!==void 0){try{f(`Device ${P.type}: Port Object: ${JSON.stringify(P.port)}`)}catch{f(`Device ${P.type}: Port Object could not be stringified.`,"WARN")}f(`Device ${P.type}: ${((I=P.port)==null?void 0:I.name)||"undefined"} (${((K=P.port)==null?void 0:K.type)||"undefined"})`)}else f(`Device ${P.type}: Received invalid Port data in event: ${JSON.stringify(P.port)}`,"WARN");P.type==="disconnected"?(f("Updating lists immediately for disconnect."),c()):P.type==="connected"?(f("Delaying list update slightly for connect (50ms)..."),setTimeout(c,50)):(f(`Updating lists for unknown event type: ${P.type}`),c())};return f("Adding WebMidi connected/disconnected listeners..."),Ne.addListener("connected",_),Ne.addListener("disconnected",_),()=>{f("Removing WebMidi connected/disconnected listeners..."),Ne.enabled&&(Ne.removeListener("connected",_),Ne.removeListener("disconnected",_))}}else n&&!Ne.enabled&&f("Skipping adding listeners because WebMidi is not enabled (isInitialized is true).","WARN")},[n,f,c]);const h=x.useCallback(_=>{const P=_.data;if(!P||P.length===0)return;const D=Array.from(P).map(z=>z.toString(16).padStart(2,"0").toUpperCase()).join(" "),I=P[0],K=I>>4,W=I&15,j=P.length>1?P[1]:null,O=P.length>2?P[2]:0;let ee="";try{if(K===9&&O>0){const z=Gl.midiToNoteName(j);ee=`Note On  (Ch ${W}): ${z} Vel: ${O}`,typeof e=="function"&&e({note:j,velocity:O,type:"noteon",timestamp:Date.now()})}else if(K===8||K===9&&O===0){const z=Gl.midiToNoteName(j);ee=`Note Off (Ch ${W}): ${z} Vel: ${O}`,typeof t=="function"&&t({note:j,velocity:O,type:"noteoff",timestamp:Date.now()})}else if(K===11)ee=`CC       (Ch ${W}): Ctrl ${j} Val: ${O}`;else if(K===14){const z=O<<7|j;ee=`Pitch Bend (Ch ${W}): Val ${z}`}else if(K===10){const z=Gl.midiToNoteName(j);ee=`Poly AT  (Ch ${W}): ${z} Pressure: ${O}`}else K===13?ee=`Channel AT (Ch ${W}): Pressure: ${j}`:I===248?ee="Timing Clock (0xF8)":I===250?ee="Start (0xFA)":I===252?ee="Stop (0xFC)":I===254?ee="Active Sensing (0xFE)":ee=`[RAW] ${D}`}catch(z){f(`Error parsing MIDI: ${z.message}`,"ERROR"),ee=`[PARSE ERROR] ${D}`}f(`MIDI In: ${ee}`),N(_)},[f,e,t]),S=x.useCallback(_=>{if(_!==a)if(F.current&&(f(`Removing listener from previous input: ${F.current.name}`),F.current.removeListener("midimessage","all",h),F.current=null),u(_),_){const P=Ne.inputs?Ne.inputs.map(I=>I.id):[];f(`Trying to find input ID: ${_}. Available input IDs: [${P.join(", ")}]`);let D=null;if(Ne.inputs&&Ne.inputs.length>0){f("Attempting to find input via WebMidi.inputs.find() comparing as strings...");const I=String(_);D=Ne.inputs.find(K=>String(K.id)===I)}D?(f(`Found device immediately via .find(): ${D.name} (ID: ${D.id})`),f(`Adding listener to new input: ${D.name}`),D.addListener("midimessage","all",h),F.current=D):f(`Could not find input device with ID: ${_} using .find().`,"ERROR")}else f("Input deselected.")},[f,a]),E=x.useCallback(_=>{const P=_!==null?Number(_):null;P!==d&&(f(`Selecting output: ${P!==null?P:"None"}`),p(P))},[f,d]),T=x.useCallback((_,P=[])=>{if(d===null){f("Cannot send MIDI message: No output selected.","WARN");return}const D=Ne.outputs.find(I=>Number(I.id)===Number(d));if(D)try{const I=Array.from(P).map(W=>W.toString(16).padStart(2,"0").toUpperCase()).join(" "),K=_.toString(16).toUpperCase();f(`MIDI Out: Status=0x${K}, Data=[${I}] to ${D.name}`),D.send(_,P)}catch(I){f(`Error sending MIDI message: ${I.message}`,"ERROR")}else f(`Cannot send MIDI message: Output device with ID ${d} not found.`,"WARN")},[f,d]);return{isInitialized:n,inputs:i,outputs:o,selectedInputId:a,selectedOutputId:d,logMessages:m,selectInput:S,selectOutput:E,sendMessage:T,lastMidiMessage:y,log:f}}const Vs={SideStick:37,HighWoodBlock:76,LowWoodBlock:77,HighAgogo:67,Cowbell:56,Claves:75,HighTimbale:65,LowTimbale:66,Maracas:70,LowAgogo:68,MuteTriangle:80,OpenTriangle:81},qv=120,Zv=Vs.HighWoodBlock,e0="4/4",xm=9,t0=144|xm,Ec=128|xm,n0=100,r0=127,i0=50;function o0(e){const[t,n]=x.useState(!1),[r,i]=x.useState(qv),[l,o]=x.useState(Zv),[s,a]=x.useState(e0),[u,d]=x.useState(0),p=x.useRef(null),m=x.useRef(null),v=x.useCallback(()=>{if(p.current&&(clearInterval(p.current),p.current=null),m.current&&(clearTimeout(m.current),m.current=null),n(!1),d(0),e&&l)try{e([Ec,l,0])}catch(h){console.error("Error sending final Note Off:",h)}console.log("Metronome stopped")},[e,l]),y=x.useCallback(()=>{if(t||typeof e!="function"){console.warn("Metronome cannot start: isPlaying or sendMessage invalid");return}console.log(`Starting metronome: BPM=${r}, Sound=${l}, TimeSig=${s}`),n(!0),d(0),v();const h=60/r*1e3;let S=1/0;s==="3/4"?S=3:s==="4/4"&&(S=4),p.current=setInterval(()=>{const E=u%S+1;d(E);let T=n0;E===1&&(s==="3/4"||s==="4/4")&&(T=r0);try{console.log(`Beat: ${E}/${S}, Vel: ${T}`),e(t0,[l,T]),m.current=setTimeout(()=>{console.log(`Sending Note Off: ${l} via raw`),e(Ec,[l,0]),m.current=null},i0)}catch(_){console.error("Error sending metronome MIDI message:",_),v()}},h)},[t,r,l,e,v,s,u]);x.useEffect(()=>()=>{v()},[v]);const N=x.useCallback(()=>{t?v():y()},[t,y,v]),F=x.useCallback(h=>{const S=parseInt(h,10);!isNaN(S)&&S>0&&(console.log(`Setting BPM to ${S}`),i(S),t&&y())},[t,y]),f=x.useCallback(h=>{const S=parseInt(h,10);!isNaN(S)&&Object.values(Vs).includes(S)?(console.log(`Setting Sound Note to ${S}`),o(S)):console.warn(`Invalid sound note selected: ${h}`)},[]),c=x.useCallback(h=>{["none","3/4","4/4"].includes(h)?(console.log(`Setting Time Signature to ${h}`),a(h),d(0),t&&y()):console.warn(`Invalid time signature selected: ${h}`)},[t,y]);return{isPlaying:t,bpm:r,selectedSoundNote:l,timeSignature:s,availableSounds:Vs,togglePlay:N,changeTempo:F,changeSound:f,changeTimeSignature:c}}function Wi(e){let t=e.length,n;for(;t!==0;)n=Math.floor(Math.random()*t),t--,[e[t],e[n]]=[e[n],e[t]];return e}function l0({isDrillActive:e,currentMode:t,drillOptions:n,scaleName:r,selectedChordType:i,diatonicTriads:l,diatonicSevenths:o,selectedOctave:s,showSevenths:a,splitHandVoicing:u,splitHandInterval:d,rhInversion:p,playedNoteEvent:m,calculatedDiatonicChordNotes:v,selectedRootNote:y,ROOT_NOTES:N,transposedProgressionChords:F}){const[f,c]=x.useState([]),[h,S]=x.useState(0),[E,T]=x.useState({correct:[],incorrect:[]}),[_,P]=x.useState(new Set),[D,I]=x.useState({correctNotes:0,incorrectNotes:0}),K=x.useRef(null),W=x.useCallback(()=>{console.log("useDrill: Generating sequence for mode:",t,"with options:",n);let z=!1;if(t==="scale_display"){const M=bt.get(r);z=!M.empty&&M.notes}else t==="chord_search"?z=N&&N.length>0&&i:t==="diatonic_chords"?z=v&&v.length===7&&v.some(M=>Array.isArray(M)&&M.length>0):t==="chord_progression"&&(z=Array.isArray(F)&&F.length>0&&F.every(M=>M&&Array.isArray(M.midiNotes)&&M.midiNotes.length>0));if(!z){console.log("generateDrillSequence: Dependencies not valid, setting empty sequence."),c([]),S(0);return}let J=[];try{if(t==="scale_display"){const{octaves:M=1,repetitions:R=1,style:L="ascending"}=n,$=bt.get(r);if($.empty||!$.notes){console.warn(`useDrill: Could not get scale data for ${r}`),c([]);return}let b=[];for(let Q=0;Q<M;Q++){const te=s+Q,oe=$.notes.map(re=>V.midi(`${re}${te}`)).filter(re=>re!==null);b.push(...oe)}let H=[...b];if(L==="ascending")H.sort((Q,te)=>Q-te);else if(L==="descending")H.sort((Q,te)=>te-Q);else if(L==="random")H=Wi(H);else if(L==="thirds"){const Q=$.notes,te=Q.length,oe=[];if(te>0)for(let re=0;re<M;re++){const Se=s+re;for(let $e=0;$e<te;$e++){const tt=Q[$e],bn=($e+2)%te,Nr=Q[bn],Er=bn<$e?Se+1:Se,On=V.midi(`${tt}${Se}`),ut=V.midi(`${Nr}${Er}`);On!==null&&oe.push(On),ut!==null&&oe.push(ut)}}H=oe}let se=[];for(let Q=0;Q<R;Q++)se.push(...H);J=se.map(Q=>({expectedMidiNotes:[Q],type:"note"}))}else if(t==="chord_search"){console.log("useDrill: Generating sequence for Chord Search mode (all roots)...");const{octaves:M=1,repetitions:R=1}=n,L=[];if(!N||N.length===0){console.error("useDrill: ROOT_NOTES array is missing or empty."),c([]);return}if(!i){console.error("useDrill: selectedChordType is missing."),c([]);return}for(const H of N){const se=`${H}${s}`;let Q=[];try{const te=Ue.getChord(i,se);if(te.empty||!Array.isArray(te.notes)||te.notes.length===0){console.warn(`useDrill: Could not get valid notes for chord ${i} at ${se}`);continue}let oe=te.notes;if(p>0&&p<oe.length){const re=oe.slice(0,p),Se=oe.slice(p),$e=re.map(tt=>V.transpose(tt,"8P"));oe=[...Se,...$e]}if(Q=oe.map(V.midi).filter(Boolean).sort((re,Se)=>re-Se),Q.length===0){console.warn(`useDrill: No valid MIDI notes after inversion/conversion for ${i} at ${se}`);continue}for(let re=0;re<M;re++){const Se=12*re,$e=Q.map(tt=>tt+Se);L.push({expectedMidiNotes:$e,type:"chord_search_target",rootNote:H,octaveIndex:re})}}catch(te){console.error(`useDrill: Error getting chord notes for ${i} at ${se}:`,te);continue}}let $=[...L];const{style:b}=n;b==="descending"?$.reverse():b==="random"&&($=Wi($)),J=[];for(let H=0;H<R;H++)J.push(...$)}else if(t==="diatonic_chords"){const{octaves:M=1,repetitions:R=1,style:L="ascending"}=n,$=[];console.log("useDrill: Entered diatonic_chords generation block. About to loop. Notes used:",JSON.stringify(v));for(let H=0;H<M;H++){const se=12*H;v.forEach((Q,te)=>{if(!Q||Q.length===0){console.warn(`useDrill: Skipping degree ${te+1} in octave ${H+1} due to missing/empty base notes.`);return}const oe=Q.map(re=>re+se);$.push({expectedMidiNotes:oe,type:"diatonic_chord",degreeIndex:te,octaveIndex:H})})}let b=[...$];L==="descending"?b.reverse():L==="random"&&(b=Wi(b)),J=[];for(let H=0;H<R;H++)J.push(...b)}else if(t==="chord_progression"){const{repetitions:M=1,style:R="ascending"}=n,L=[];console.log(`useDrill: Generating progression drill sequence... Using ${M} repetitions.`),F.forEach((b,H)=>{b&&b.midiNotes&&b.midiNotes.length>0?L.push({expectedMidiNotes:b.midiNotes,type:"progression_chord",roman:b.roman,name:b.name,progressionIndex:H}):console.warn(`useDrill: Skipping invalid chord data at index ${H} in progression.`)});let $=[...L];R==="descending"?$.reverse():R==="random"&&($=Wi($)),J=[];for(let b=0;b<M;b++)J.push(...$);console.log(`useDrill: Progression sequence generated. Total steps including repetitions: ${J.length}`)}else console.warn(`useDrill: Unknown drill mode: ${t}`),J=[]}catch(M){console.error("useDrill: Error generating drill sequence:",M),J=[]}console.log(`useDrill: Generated ${J.length} steps.`),c(J),S(0),T({correct:[],incorrect:[]}),P(new Set),I({correctNotes:0,incorrectNotes:0})},[t,n,r,s,i,l,o,a,u,d,p,v,y,N,F]);x.useEffect(()=>{if(!e||!m||h>=f.length||m.timestamp===K.current||m.type!=="noteon")return;console.log("useDrill: Processing noteon event:",m);const z=m.note;console.log(`useDrill useEffect[playedNoteEvent]: Processing note ON ${z}`);const J=f[h];if(!J||!J.expectedMidiNotes||J.expectedMidiNotes.length===0){console.warn("useDrill: Invalid current step data.");return}const M=J.expectedMidiNotes,R=J.type;if(console.log(`useDrill: Checking step type: ${R}`),R==="note"){const L=M[0];if(z===L){console.log(`useDrill: Correct note played! Expected: ${L}, Got: ${z}`),I(b=>({...b,correctNotes:b.correctNotes+1}));const $=h+1;$<f.length?(S($),console.log(`useDrill: Advancing to step ${$}`)):(console.log("useDrill: Drill sequence completed!"),S($))}else console.log(`useDrill: Incorrect note played. Expected: ${L}, Got: ${z}`),I($=>({...$,incorrectNotes:$.incorrectNotes+1}))}else if(R==="diatonic_chord"||R==="chord_search_target"||R==="progression_chord"){const L=new Set(M);if(console.log(`useDrill ChordLogic START: Event Note=${z}, Timestamp=${m.timestamp}`),console.log(`useDrill ChordLogic: Current Step Index=${h}`),console.log(`useDrill ChordLogic: Expected MIDI Notes=[${M.join(", ")}] (Count: ${M.length})`),console.log("useDrill ChordLogic: Notes Played Set BEFORE processing:",_),L.has(z))if(_.has(z))console.log(`useDrill ChordLogic: Note ${z} was ALREADY played in this step. Ignoring.`);else{console.log(`useDrill ChordLogic: Correct note ${z} found in expected set.`);const $=new Set(_).add(z);if(P($),console.log(`useDrill ChordLogic: Notes Played Set AFTER adding ${z}:`,$),console.log(`useDrill ChordLogic: Checking completion: Need ${M.length}, Have ${$.size}`),$.size===M.length){console.log(`useDrill ChordLogic: Chord COMPLETE! Expected: [${M.join(", ")}]`),console.log("useDrill ChordLogic: Incrementing CORRECT score."),I(H=>({...H,correctNotes:H.correctNotes+1}));const b=h+1;console.log(`useDrill ChordLogic: Advancing. Next index will be ${b}. Total steps: ${f.length}`),b<f.length?(S(b),P(new Set),console.log(`useDrill ChordLogic: Advanced to chord step ${b}. Reset played notes set.`)):(console.log("useDrill ChordLogic: Drill sequence finished!"),S(b))}else console.log("useDrill ChordLogic: Chord NOT YET complete. Waiting for more notes.")}else console.log(`useDrill ChordLogic: Incorrect note ${z} played. Expected one of: [${M.join(", ")}].`),console.log("useDrill ChordLogic: Incrementing INCORRECT score."),I($=>({...$,incorrectNotes:$.incorrectNotes+1}))}K.current=m.timestamp},[m,e,f,h,_]),x.useEffect(()=>{e?(console.log("useDrill Effect: Drill active, calling generateDrillSequence."),W()):f.length>0&&(console.log("useDrill Effect: Drill stopped or inactive, clearing sequence."),c([]),S(0),T({correct:[],incorrect:[]}),P(new Set),I({correctNotes:0,incorrectNotes:0}))},[e,W]);const j=f[h]||{expectedMidiNotes:[],type:null,stepIndex:0,totalSteps:0};let O="";if(j&&j.type){const z=j.type,J=j.octaveIndex||0,M=s+J;if(z==="note")O=V.fromMidi(j.expectedMidiNotes[0]);else if(z==="chord_search_target")O=`${j.rootNote}${i||""} (Octave ${M})`;else if(z==="diatonic_chord"){const R=a?o:l,L=j.degreeIndex;O=`${R&&R[L]?R[L]:"Unknown Chord"} (Octave ${M})`}else z==="progression_chord"&&(O=j.name||"Prog Chord?")}return{currentDrillStep:{...j,stepLabel:O,totalSteps:f.length},drillScore:D,notesPlayedThisStep:E}}function ao(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ao=function(t){return typeof t}:ao=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function Ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qa(e,t,n){return t&&kc(e.prototype,t),n&&kc(e,n),e}var Mt={NOTES:[],HEADER_CHUNK_LENGTH:14,CIRCLE_OF_FOURTHS:["C","F","Bb","Eb","Ab","Db","Gb","Cb","Fb","Bbb","Ebb","Abb"],CIRCLE_OF_FIFTHS:["C","G","D","A","E","B","F#","C#","G#","D#","A#","E#"]},s0=[["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]],xc=0,a0=function(t){s0.forEach(function(n){n.forEach(function(r){return Mt.NOTES[xc]=r+t}),xc++})};for(var Wl=-1;Wl<=9;Wl++)a0(Wl);var xe=function(){function e(){Ja(this,e)}return Qa(e,null,[{key:"byteToHex",value:function(n){return("0"+n.toString(16)).slice(-2)}},{key:"bytesToHex",value:function(n){var r=[];return n.forEach(function(i){return r.push(e.byteToHex(i))}),r.join("")}},{key:"hexToNumber",value:function(n){return parseInt(n,16)}},{key:"bytesToNumber",value:function(n){return e.hexToNumber(e.bytesToHex(n))}},{key:"bytesToLetters",value:function(n){var r=[];return n.forEach(function(i){return r.push(String.fromCharCode(i))}),r.join("")}},{key:"decToBinary",value:function(n){return(n>>>0).toString(2)}},{key:"getVarIntLength",value:function(n){for(var r=n[0],i=1;r>=128;)r=n[i],i++;return i}},{key:"readVarInt",value:function(n){var r=0;return n.forEach(function(i){var l=i;l&128?(r+=l&127,r<<=7):r+=l}),r}},{key:"atob",value:function(t){function n(r){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}(function(t){return typeof atob=="function"?atob(t):Buffer.from(t,"base64").toString("binary")})}]),e}(),u0=function(){function e(t,n){Ja(this,e),this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.index=t,this.data=n,this.delta=0,this.runningDelta=0,this.events=[];var r=this.data.subarray(this.data.length-3,this.data.length);if(!(r[0]===255&&r[1]===47&&r[2]===0))throw"Invalid MIDI file; Last three bytes of track "+this.index+"must be FF 2F 00 to mark end of track"}return Qa(e,[{key:"reset",value:function(){return this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.delta=0,this.runningDelta=0,this}},{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"setEventIndexByTick",value:function(n){n=n||0;for(var r in this.events)if(this.events[r].tick>=n)return this.eventIndex=r,this}},{key:"getCurrentByte",value:function(){return this.data[this.pointer]}},{key:"getDeltaByteCount",value:function(){return xe.getVarIntLength(this.data.subarray(this.pointer))}},{key:"getDelta",value:function(){return xe.readVarInt(this.data.subarray(this.pointer,this.pointer+this.getDeltaByteCount()))}},{key:"handleEvent",value:function(n,r){if(r=r||!1,r){var i=n-this.lastTick,l=this.getDelta(),o=i>=l;if(this.pointer<this.data.length&&(r||o)){var s=this.parseEvent();if(this.enabled)return s}}else if(this.events[this.eventIndex]&&this.events[this.eventIndex].tick<=n&&(this.eventIndex++,this.enabled))return this.events[this.eventIndex-1];return null}},{key:"getStringData",value:function(n){var r=xe.getVarIntLength(this.data.subarray(n+2)),i=xe.readVarInt(this.data.subarray(n+2,n+2+r)),l=xe.bytesToLetters(this.data.subarray(n+2+r,n+2+r+i));return l}},{key:"parseEvent",value:function(){var n=this.pointer+this.getDeltaByteCount(),r={},i=this.getDeltaByteCount();if(r.track=this.index+1,r.delta=this.getDelta(),this.lastTick=this.lastTick+r.delta,this.runningDelta+=r.delta,r.tick=this.runningDelta,r.byteIndex=this.pointer,this.data[n]==255){switch(this.data[n+1]){case 0:r.name="Sequence Number";break;case 1:r.name="Text Event",r.string=this.getStringData(n);break;case 2:r.name="Copyright Notice";break;case 3:r.name="Sequence/Track Name",r.string=this.getStringData(n);break;case 4:r.name="Instrument Name",r.string=this.getStringData(n);break;case 5:r.name="Lyric",r.string=this.getStringData(n);break;case 6:r.name="Marker";break;case 7:r.name="Cue Point",r.string=this.getStringData(n);break;case 9:r.name="Device Name",r.string=this.getStringData(n);break;case 32:r.name="MIDI Channel Prefix";break;case 33:r.name="MIDI Port",r.data=xe.bytesToNumber([this.data[n+3]]);break;case 47:r.name="End of Track";break;case 81:r.name="Set Tempo",r.data=Math.round(6e7/xe.bytesToNumber(this.data.subarray(n+3,n+6))),this.tempo=r.data;break;case 84:r.name="SMTPE Offset";break;case 88:r.name="Time Signature",r.data=this.data.subarray(n+3,n+7),r.timeSignature=""+r.data[0]+"/"+Math.pow(2,r.data[1]);break;case 89:r.name="Key Signature",r.data=this.data.subarray(n+3,n+5),r.data[0]>=0?r.keySignature=Mt.CIRCLE_OF_FIFTHS[r.data[0]]:r.data[0]<0&&(r.keySignature=Mt.CIRCLE_OF_FOURTHS[Math.abs(r.data[0])]),r.data[1]==0?r.keySignature+=" Major":r.data[1]==1&&(r.keySignature+=" Minor");break;case 127:r.name="Sequencer-Specific Meta-event";break;default:r.name="Unknown: "+this.data[n+1].toString(16);break}var l=xe.getVarIntLength(this.data.subarray(n+2)),o=xe.readVarInt(this.data.subarray(n+2,n+2+l));this.pointer+=i+3+o}else if(this.data[n]===240){r.name="Sysex";var s=xe.getVarIntLength(this.data.subarray(n+1)),a=xe.readVarInt(this.data.subarray(n+1,n+1+s));r.data=this.data.subarray(n+1+s,n+1+s+a),this.pointer+=i+1+s+a}else if(this.data[n]===247){r.name="Sysex (escape)";var u=xe.getVarIntLength(this.data.subarray(n+1)),d=xe.readVarInt(this.data.subarray(n+1,n+1+u));r.data=this.data.subarray(n+1+u,n+1+u+d),this.pointer+=i+1+u+d}else if(this.data[n]<128)if(r.running=!0,r.noteNumber=this.data[n],r.noteName=Mt.NOTES[this.data[n]],r.velocity=this.data[n+1],this.lastStatus<=143)r.name="Note off",r.channel=this.lastStatus-128+1,this.pointer+=i+2;else if(this.lastStatus<=159)r.name="Note on",r.channel=this.lastStatus-144+1,this.pointer+=i+2;else if(this.lastStatus<=175)r.name="Polyphonic Key Pressure",r.channel=this.lastStatus-160+1,r.note=Mt.NOTES[this.data[n+1]],r.pressure=event[1],this.pointer+=i+2;else if(this.lastStatus<=191)r.name="Controller Change",r.channel=this.lastStatus-176+1,r.number=this.data[n+1],r.value=this.data[n+2],this.pointer+=i+2;else if(this.lastStatus<=207)r.name="Program Change",r.channel=this.lastStatus-192+1,r.value=this.data[n+1],this.pointer+=i+1;else if(this.lastStatus<=223)r.name="Channel Key Pressure",r.channel=this.lastStatus-208+1,this.pointer+=i+1;else if(this.lastStatus<=239)r.name="Pitch Bend",r.channel=this.lastStatus-224+1,r.value=this.data[n+2],this.pointer+=i+2;else throw"Unknown event (running): ".concat(this.lastStatus);else if(this.lastStatus=this.data[n],this.data[n]<=143)r.name="Note off",r.channel=this.lastStatus-128+1,r.noteNumber=this.data[n+1],r.noteName=Mt.NOTES[this.data[n+1]],r.velocity=Math.round(this.data[n+2]/127*100),this.pointer+=i+3;else if(this.data[n]<=159)r.name="Note on",r.channel=this.lastStatus-144+1,r.noteNumber=this.data[n+1],r.noteName=Mt.NOTES[this.data[n+1]],r.velocity=Math.round(this.data[n+2]/127*100),this.pointer+=i+3;else if(this.data[n]<=175)r.name="Polyphonic Key Pressure",r.channel=this.lastStatus-160+1,r.note=Mt.NOTES[this.data[n+1]],r.pressure=event[2],this.pointer+=i+3;else if(this.data[n]<=191)r.name="Controller Change",r.channel=this.lastStatus-176+1,r.number=this.data[n+1],r.value=this.data[n+2],this.pointer+=i+3;else if(this.data[n]<=207)r.name="Program Change",r.channel=this.lastStatus-192+1,r.value=this.data[n+1],this.pointer+=i+2;else if(this.data[n]<=223)r.name="Channel Key Pressure",r.channel=this.lastStatus-208+1,this.pointer+=i+2;else if(this.data[n]<=239)r.name="Pitch Bend",r.channel=this.lastStatus-224+1,this.pointer+=i+3;else throw"Unknown event: ".concat(this.data[n]);return this.delta+=r.delta,this.events.push(r),r}},{key:"endOfTrack",value:function(){return this.data[this.pointer+1]==255&&this.data[this.pointer+2]==47&&this.data[this.pointer+3]==0}}]),e}();Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach});var c0=function(){function e(t,n){Ja(this,e),this.sampleRate=5,this.startTime=0,this.buffer=n||null,this.midiChunksByteLength=null,this.division,this.format,this.setIntervalId=!1,this.tracks=[],this.instruments=[],this.defaultTempo=120,this.tempo=null,this.startTick=0,this.tick=0,this.lastTick=null,this.inLoop=!1,this.totalTicks=0,this.events=[],this.totalEvents=0,this.eventListeners={},typeof t=="function"&&this.on("midiEvent",t)}return Qa(e,[{key:"loadFile",value:function(n){throw"loadFile is only supported on Node.js"}},{key:"loadArrayBuffer",value:function(n){return this.buffer=new Uint8Array(n),this.fileLoaded()}},{key:"loadDataUri",value:function(n){for(var r=xe.atob(n.split(",")[1]),i=new Uint8Array(r.length),l=0;l<r.length;l++)i[l]=r.charCodeAt(l);return this.buffer=i,this.fileLoaded()}},{key:"getFilesize",value:function(){return this.buffer?this.buffer.length:0}},{key:"fileLoaded",value:function(){if(!this.validate())throw"Invalid MIDI file; should start with MThd";return this.setTempo(this.defaultTempo).getDivision().getFormat().getTracks().dryRun()}},{key:"validate",value:function(){return xe.bytesToLetters(this.buffer.subarray(0,4))==="MThd"}},{key:"getFormat",value:function(){return this.format=xe.bytesToNumber(this.buffer.subarray(8,10)),this}},{key:"getTracks",value:function(){this.tracks=[];for(var n=0;n<this.buffer.length;){if(xe.bytesToLetters(this.buffer.subarray(n,n+4))=="MTrk"){var r=xe.bytesToNumber(this.buffer.subarray(n+4,n+8));this.tracks.push(new u0(this.tracks.length,this.buffer.subarray(n+8,n+8+r)))}n+=xe.bytesToNumber(this.buffer.subarray(n+4,n+8))+8}var i=0;return this.tracks.forEach(function(l){i+=8+l.data.length}),this.midiChunksByteLength=Mt.HEADER_CHUNK_LENGTH+i,this}},{key:"enableTrack",value:function(n){return this.tracks[n-1].enable(),this}},{key:"disableTrack",value:function(n){return this.tracks[n-1].disable(),this}},{key:"getDivision",value:function(){return this.division=xe.bytesToNumber(this.buffer.subarray(12,Mt.HEADER_CHUNK_LENGTH)),this}},{key:"playLoop",value:function(n){this.inLoop||(this.inLoop=!0,this.tick=this.getCurrentTick(),this.tracks.forEach(function(r,i){if(!n&&this.endOfFile())this.triggerPlayerEvent("endOfFile"),this.stop();else{var l=r.handleEvent(this.tick,n);n&&l?(l.hasOwnProperty("name")&&l.name==="Set Tempo"&&(this.defaultTempo=l.data,this.setTempo(l.data)),l.hasOwnProperty("name")&&l.name==="Program Change"&&(this.instruments.includes(l.value)||this.instruments.push(l.value))):l&&(l.hasOwnProperty("name")&&l.name==="Set Tempo"&&(this.setTempo(l.data),this.isPlaying()&&this.pause().play()),this.emitEvent(l))}},this),n||this.triggerPlayerEvent("playing",{tick:this.tick}),this.inLoop=!1)}},{key:"setTempo",value:function(n){return this.tempo=n,this}},{key:"setStartTime",value:function(n){return this.startTime=n,this}},{key:"play",value:function(){if(this.isPlaying())throw"Already playing...";return this.startTime||(this.startTime=new Date().getTime()),this.setIntervalId=setInterval(this.playLoop.bind(this),this.sampleRate),this}},{key:"loop",value:function(){setTimeout((function(){this.playLoop(),this.loop()}).bind(this),this.sampleRate)}},{key:"pause",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=this.tick,this.startTime=0,this}},{key:"stop",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=0,this.startTime=0,this.resetTracks(),this}},{key:"skipToTick",value:function(n){return this.stop(),this.startTick=n,this.tracks.forEach(function(r){r.setEventIndexByTick(n)}),this}},{key:"skipToPercent",value:function(n){if(n<0||n>100)throw"Percent must be number between 1 and 100.";return this.skipToTick(Math.round(n/100*this.totalTicks)),this}},{key:"skipToSeconds",value:function(n){var r=this.getSongTime();if(n<0||n>r)throw n+" seconds not within song time of "+r;return this.skipToPercent(n/r*100),this}},{key:"isPlaying",value:function(){return this.setIntervalId>0||ao(this.setIntervalId)==="object"}},{key:"dryRun",value:function(){for(this.resetTracks();!this.endOfFile();)this.playLoop(!0);return this.events=this.getEvents(),this.totalEvents=this.getTotalEvents(),this.totalTicks=this.getTotalTicks(),this.startTick=0,this.startTime=0,this.resetTracks(),this.triggerPlayerEvent("fileLoaded",this),this}},{key:"resetTracks",value:function(){return this.tracks.forEach(function(n){return n.reset()}),this}},{key:"getEvents",value:function(){return this.tracks.map(function(n){return n.events})}},{key:"getTotalTicks",value:function(){return Math.max.apply(null,this.tracks.map(function(n){return n.delta}))}},{key:"getTotalEvents",value:function(){return this.tracks.reduce(function(n,r){return{events:{length:n.events.length+r.events.length}}},{events:{length:0}}).events.length}},{key:"getSongTime",value:function(){return this.totalTicks/this.division/this.tempo*60}},{key:"getSongTimeRemaining",value:function(){return Math.round((this.totalTicks-this.getCurrentTick())/this.division/this.tempo*60)}},{key:"getSongPercentRemaining",value:function(){return Math.round(this.getSongTimeRemaining()/this.getSongTime()*100)}},{key:"bytesProcessed",value:function(){return Mt.HEADER_CHUNK_LENGTH+this.tracks.length*8+this.tracks.reduce(function(n,r){return{pointer:n.pointer+r.pointer}},{pointer:0}).pointer}},{key:"eventsPlayed",value:function(){return this.tracks.reduce(function(n,r){return{eventIndex:n.eventIndex+r.eventIndex}},{eventIndex:0}).eventIndex}},{key:"endOfFile",value:function(){return this.isPlaying()?this.totalTicks-this.tick<=0:this.bytesProcessed()>=this.midiChunksByteLength}},{key:"getCurrentTick",value:function(){return this.startTime?Math.round((new Date().getTime()-this.startTime)/1e3*(this.division*(this.tempo/60)))+this.startTick:this.startTick}},{key:"emitEvent",value:function(n){return this.triggerPlayerEvent("midiEvent",n),this}},{key:"on",value:function(n,r){return this.eventListeners.hasOwnProperty(n)||(this.eventListeners[n]=[]),this.eventListeners[n].push(r),this}},{key:"triggerPlayerEvent",value:function(n,r){return this.eventListeners.hasOwnProperty(n)&&this.eventListeners[n].forEach(function(i){return i(r||{})}),this}}]),e}(),d0={Player:c0};function f0(e){const[t,n]=x.useState(null),[r,i]=x.useState("stopped"),[l,o]=x.useState(null),s=x.useRef(e);x.useEffect(()=>{s.current=e},[e]),x.useEffect(()=>{const m=y=>{const N=s.current;if(!N)return;let F,f=[];const c=y.channel?y.channel-1:0;switch(y.name){case"Note on":F=144|c,f=[y.noteNumber,y.velocity],y.velocity===0&&(F=128|c,f=[y.noteNumber,0]);break;case"Note off":F=128|c,f=[y.noteNumber,y.velocity!==void 0?y.velocity:0];break;case"Controller Change":case"Control Change":F=176|c,f=[y.number,y.value];break;case"Program Change":F=192|c,f=[y.value];break;case"Pitch Bend":case"Pitch Wheel":F=224|c;const h=y.value&127,S=y.value>>7&127;f=[h,S];break;case"Set Tempo":return;default:return}F!==void 0&&N(F,f)},v=new d0.Player(m);return v.on("fileLoaded",()=>{console.log("MIDI Player: File loaded.")}),v.on("playing",y=>{}),v.on("paused",()=>{}),v.on("stopped",()=>{}),v.on("endOfFile",()=>{console.log(`[useMidiPlayer] 'endOfFile' event fired. Current state: ${r}`),console.log("MIDI Player: End of file reached, looping...");try{v&&typeof v.skipToTick=="function"&&typeof v.play=="function"?(console.log("[useMidiPlayer] Scheduling loop restart..."),setTimeout(()=>{try{if(v.isPlaying()){console.warn("[useMidiPlayer] Inside setTimeout: Player already playing? Aborting loop start.");return}console.log("[useMidiPlayer] Inside setTimeout: Calling skipToTick(0) and play()..."),v.skipToTick(0),v.play(),console.log(`[useMidiPlayer] Inside setTimeout: After play() call, player.isPlaying(): ${v.isPlaying()}`),console.log("[useMidiPlayer] Inside setTimeout: Explicitly setting state back to playing for loop."),i("playing")}catch(y){console.error("[useMidiPlayer] Error inside loop setTimeout:",y),i("stopped")}},10)):(console.error("MIDI Player: Cannot loop, player instance or methods invalid."),console.log("[useMidiPlayer] Setting playbackState -> 'stopped' (loop error)"),i("stopped"))}catch(y){console.error("MIDI Player: Error during top-level loop attempt:",y),console.log("[useMidiPlayer] Setting playbackState -> 'stopped' (loop exception)"),i("stopped")}}),n(v),()=>{v&&v.stop()}},[]);const a=x.useCallback(async m=>{if(t){console.log(`Attempting to load MIDI file from URL: ${m}`);try{const v=await fetch(m);if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const y=await v.arrayBuffer();t.loadArrayBuffer(y);const N=m.substring(m.lastIndexOf("/")+1);o(N),i("stopped"),console.log(`Successfully loaded ${N} into player.`)}catch(v){console.error("Error loading MIDI file:",v),o(null),i("stopped")}}},[t]),u=x.useCallback(()=>{if(!t||!l){console.warn("Cannot play: No player or file loaded.");return}if(t.isPlaying()){console.warn("Player already playing.");return}console.log("Calling player.play()..."),t.play(),console.log("[useMidiPlayer] Setting playbackState -> 'playing' (after play call)"),i("playing")},[t,l]),d=x.useCallback(()=>{t&&t.isPlaying()&&(console.log("Calling player.pause()..."),t.pause(),console.log("[useMidiPlayer] Setting playbackState -> 'paused' (after pause call)"),i("paused"))},[t]),p=x.useCallback(()=>{t&&(console.log("Calling player.stop()..."),t.stop(),console.log("[useMidiPlayer] Setting playbackState -> 'stopped' (after stop call)"),i("stopped"))},[t]);return{playbackState:r,loadedFileName:l,loadMidiFile:a,play:u,pause:d,stop:p}}const m0=[{value:"ascending",label:"Ascending"},{value:"descending",label:"Descending"},{value:"random",label:"Random"},{value:"thirds",label:"Thirds (Scales Only)"}];function p0({currentMode:e,isDrillActive:t,setIsDrillActive:n,drillNumOctaves:r,drillRepetitions:i,drillStyle:l,onDrillOctavesChange:o,onDrillRepetitionsChange:s,onDrillStyleChange:a,currentDrillStep:u,drillScore:d,style:p}){return g.jsxs("div",{style:{border:"1px solid purple",padding:"10px",...p},children:[" ",g.jsx("h4",{children:"Drill Controls"}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"drill-octaves",style:{marginRight:"10px"},children:"Octaves (Range):"}),g.jsx("input",{type:"number",id:"drill-octaves",value:r,onChange:o,min:"1",max:"4",disabled:t,style:{width:"50px",marginRight:"20px"}}),g.jsx("label",{htmlFor:"drill-style",style:{marginRight:"10px"},children:"Style:"}),g.jsx("select",{id:"drill-style",value:l,onChange:a,disabled:t,style:{marginRight:"20px"},children:m0.map(m=>g.jsx("option",{value:m.value,disabled:m.value==="thirds"&&e!=="scale_display",children:m.label},m.value))}),g.jsx("label",{htmlFor:"drill-repetitions",style:{marginRight:"10px"},children:"Repetitions:"}),g.jsx("input",{type:"number",id:"drill-repetitions",value:i,onChange:s,min:"1",max:"10",disabled:t,style:{width:"50px",marginRight:"20px"}}),g.jsx("button",{onClick:n,style:{marginLeft:"20px"},children:t?"Stop Drill":"Start Drill"})]}),t&&g.jsxs("div",{style:{marginTop:"10px"},children:[g.jsxs("span",{children:["Step: ",(u==null?void 0:u.stepIndex)!==void 0?u.stepIndex+1:"-"," / ",(u==null?void 0:u.totalSteps)||"-"," | "]}),g.jsxs("span",{children:["Score: Correct: ",(d==null?void 0:d.correctNotes)||0,", Incorrect: ",(d==null?void 0:d.incorrectNotes)||0]}),g.jsxs("p",{style:{fontWeight:"bold",marginTop:"5px"},children:["Current: ",(u==null?void 0:u.stepLabel)||"Loading..."]})]})]})}const wc=[{id:"popular",name:"The Most Popular (I-V-vi-IV)",progression:["I","V","vi","IV"]},{id:"pachelbel",name:"Pachelbel's Canon (I-V-vi-iii-IV-I-IV-V)",progression:["I","V","vi","iii","IV","I","IV","V"]},{id:"effective",name:"Effective (vi-IV-I-V)",progression:["vi","IV","I","V"]},{id:"magic",name:"Magic Changes (I-vi-IV-V)",progression:["I","vi","IV","V"]},{id:"gaining",name:"Gaining Popularity (IV-I-V-vi)",progression:["IV","I","V","vi"]},{id:"mixolydian",name:"Mixolydian Cadence (I-bVII-IV-I)",progression:["I","bVII","IV","I"]},{id:"flatVI",name:"VI setup (I-VI-V-I)",progression:["I","bVI","V","I"]},{id:"flatVII",name:"VII Cadence (e.g., I-VII-I)",progression:["I","bVII","I"]},{id:"ii-V-I",name:"Jazz Cadence (ii-V-I)",progression:["ii","V","I"]},{id:"iv-V-I",name:"Plagal Cadence style (I-IV-V-I)",progression:["I","IV","V","I"]}],Cc=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Ic=[2,3,4,5],h0=V1.names(),g0=F1.names(),Tc=[{value:"scale_display",label:"Scale Display"},{value:"chord_search",label:"Chord Search"},{value:"diatonic_chords",label:"Diatonic Chords"},{value:"chord_progression",label:"Chord Progression"}],v0=[{value:0,label:"Root Pos"},{value:1,label:"1st Inv"},{value:2,label:"2nd Inv"},{value:3,label:"3rd Inv"}],Rc=["Jazz","Latin","Funk","BluesRock","Reggae"],y0=[{genre:"Jazz",name:"JBB 9-8 NmlStr Tambourine 141",url:"/midi-files/Jazz/JBB_9-8_NmlStr_Tambourine_141.mid"},{genre:"Jazz",name:"JBB 4-4 NmlStr Triangles 130",url:"/midi-files/Jazz/JBB_4-4_NmlStr_Triangles_130.mid"},{genre:"Jazz",name:"JBB 4-4 NmlStr Toms 129",url:"/midi-files/Jazz/JBB_4-4_NmlStr_Toms_129.mid"},{genre:"Jazz",name:"JBB 3-4 NmlStr Shaker 128",url:"/midi-files/Jazz/JBB_3-4_NmlStr_Shaker_128.mid"},{genre:"Jazz",name:"JBB 3-4 NmlStr Kicks 127",url:"/midi-files/Jazz/JBB_3-4_NmlStr_Kicks_127.mid"},{genre:"Jazz",name:"JBB 3-4 NmlStr HiHats 126",url:"/midi-files/Jazz/JBB_3-4_NmlStr_HiHats_126.mid"},{genre:"Jazz",name:"JBB 3-4 NmlStr Cowbell 125",url:"/midi-files/Jazz/JBB_3-4_NmlStr_Cowbell_125.mid"},{genre:"Jazz",name:"JBB 3-4 NmlMedSwg Snares 124",url:"/midi-files/Jazz/JBB_3-4_NmlMedSwg_Snares_124.mid"},{genre:"Jazz",name:"JBB 3-4 NmlMedSwg Rides 123",url:"/midi-files/Jazz/JBB_3-4_NmlMedSwg_Rides_123.mid"},{genre:"Jazz",name:"JBB 2-4 NmlStr Cabasa 122",url:"/midi-files/Jazz/JBB_2-4_NmlStr_Cabasa_122.mid"},{genre:"Jazz",name:"JBB 12-8 NmlStr Congas 145",url:"/midi-files/Jazz/JBB_12-8_NmlStr_Congas_145.mid"},{genre:"Jazz",name:"JBB 12-8 NmlStr Bongos 144",url:"/midi-files/Jazz/JBB_12-8_NmlStr_Bongos_144.mid"},{genre:"Jazz",name:"JBB 9-8 NmlStr T024 FullKit 117",url:"/midi-files/Jazz/JBB_9-8_NmlStr_T024_FullKit_117.mid"},{genre:"Jazz",name:"JBB 12-8 NmlStr T096 FullKit 120",url:"/midi-files/Jazz/JBB_12-8_NmlStr_T096_FullKit_120.mid"},{genre:"Jazz",name:"JBB 6-8 NmlStr T057 FullKit 115",url:"/midi-files/Jazz/JBB_6-8_NmlStr_T057_FullKit_115.mid"},{genre:"Jazz",name:"JBB 4-4 NmlStr T088 FullKit 109",url:"/midi-files/Jazz/JBB_4-4_NmlStr_T088_FullKit_109.mid"},{genre:"Jazz",name:"JBB 4-4 NmlStr T009 FullKit 110",url:"/midi-files/Jazz/JBB_4-4_NmlStr_T009_FullKit_110.mid"},{genre:"Jazz",name:"JBB 4-4 NmlMedSwg T076 FullKit 108",url:"/midi-files/Jazz/JBB_4-4_NmlMedSwg_T076_FullKit_108.mid"},{genre:"Jazz",name:"JBB 4-4 NmlMedSwg T069 FullKit 106",url:"/midi-files/Jazz/JBB_4-4_NmlMedSwg_T069_FullKit_106.mid"},{genre:"Jazz",name:"JBB 4-4 NmlMedSwg T008 FullKit 107",url:"/midi-files/Jazz/JBB_4-4_NmlMedSwg_T008_FullKit_107.mid"},{genre:"Jazz",name:"JBB 4-4 DblTmMedSwg T017 FullKit 103",url:"/midi-files/Jazz/JBB_4-4_DblTmMedSwg_T017_FullKit_103.mid"},{genre:"Jazz",name:"JBB 4-4 DblTmMedSwg T014 FullKit 104",url:"/midi-files/Jazz/JBB_4-4_DblTmMedSwg_T014_FullKit_104.mid"},{genre:"Jazz",name:"JBB 4-4 DblTmMedSwg T007 FullKit 102",url:"/midi-files/Jazz/JBB_4-4_DblTmMedSwg_T007_FullKit_102.mid"},{genre:"Latin",name:"LS 9-8 NmlStr Triangles 169",url:"/midi-files/Latin/LS_9-8_NmlStr_Triangles_169.mid"},{genre:"Latin",name:"LS 9-8 NmlStr Maracas 168",url:"/midi-files/Latin/LS_9-8_NmlStr_Maracas_168.mid"},{genre:"Latin",name:"LS 9-8 NmlStr Cowbell 167",url:"/midi-files/Latin/LS_9-8_NmlStr_Cowbell_167.mid"},{genre:"Latin",name:"LS 9-8 NmlStr Cabasa 166",url:"/midi-files/Latin/LS_9-8_NmlStr_Cabasa_166.mid"},{genre:"Latin",name:"LS 6-8 NmlStr WoodBlocks 160",url:"/midi-files/Latin/LS_6-8_NmlStr_WoodBlocks_160.mid"},{genre:"Latin",name:"LS 6-8 NmlStr Toms 159",url:"/midi-files/Latin/LS_6-8_NmlStr_Toms_159.mid"},{genre:"Latin",name:"LS 6-8 NmlStr Rides 158",url:"/midi-files/Latin/LS_6-8_NmlStr_Rides_158.mid"},{genre:"Latin",name:"LS 6-8 NmlStr Congas 157",url:"/midi-files/Latin/LS_6-8_NmlStr_Congas_157.mid"},{genre:"Latin",name:"LS 4-4 NmlStr Tambourine 152",url:"/midi-files/Latin/LS_4-4_NmlStr_Tambourine_152.mid"},{genre:"Latin",name:"LS 4-4 NmlStr Claves 151",url:"/midi-files/Latin/LS_4-4_NmlStr_Claves_151.mid"},{genre:"Latin",name:"LS 4-4 NmlStr Bongos 150",url:"/midi-files/Latin/LS_4-4_NmlStr_Bongos_150.mid"},{genre:"Latin",name:"LS 4-4 NmlStr Agogo 149",url:"/midi-files/Latin/LS_4-4_NmlStr_Agogo_149.mid"},{genre:"Latin",name:"LS 4-4 NmlMedSwg Snares 148",url:"/midi-files/Latin/LS_4-4_NmlMedSwg_Snares_148.mid"},{genre:"Latin",name:"LS 3-4 NmlStr Guiro 147",url:"/midi-files/Latin/LS_3-4_NmlStr_Guiro_147.mid"},{genre:"Latin",name:"LS 2-4 NmlStr Kicks 146",url:"/midi-files/Latin/LS_2-4_NmlStr_Kicks_146.mid"},{genre:"Latin",name:"LS 12-8 NmlStr Timbale 181",url:"/midi-files/Latin/LS_12-8_NmlStr_Timbale_181.mid"},{genre:"Latin",name:"LS 12-8 NmlStr Shaker 180",url:"/midi-files/Latin/LS_12-8_NmlStr_Shaker_180.mid"},{genre:"Latin",name:"LS 12-8 NmlStr HiHats 179",url:"/midi-files/Latin/LS_12-8_NmlStr_HiHats_179.mid"},{genre:"Latin",name:"LS 9-8 NmlStr T061 FullKit 138",url:"/midi-files/Latin/LS_9-8_NmlStr_T061_FullKit_138.mid"},{genre:"Latin",name:"LS 12-8 NmlStr T127 FullKit 141",url:"/midi-files/Latin/LS_12-8_NmlStr_T127_FullKit_141.mid"},{genre:"Latin",name:"LS 12-8 NmlStr T085 FullKit 142",url:"/midi-files/Latin/LS_12-8_NmlStr_T085_FullKit_142.mid"},{genre:"Latin",name:"LS 6-8 NmlStr T101 FullKit 135",url:"/midi-files/Latin/LS_6-8_NmlStr_T101_FullKit_135.mid"},{genre:"Latin",name:"LS 6-8 NmlStr T057 FullKit 134",url:"/midi-files/Latin/LS_6-8_NmlStr_T057_FullKit_134.mid"},{genre:"Latin",name:"LS 4-4 NmlStr T169 FullKit 129",url:"/midi-files/Latin/LS_4-4_NmlStr_T169_FullKit_129.mid"},{genre:"Latin",name:"LS 4-4 NmlStr T151 FullKit 126",url:"/midi-files/Latin/LS_4-4_NmlStr_T151_FullKit_126.mid"},{genre:"Latin",name:"LS 4-4 NmlStr T102 FullKit 127",url:"/midi-files/Latin/LS_4-4_NmlStr_T102_FullKit_127.mid"},{genre:"Latin",name:"LS 4-4 NmlStr T073 FullKit 128",url:"/midi-files/Latin/LS_4-4_NmlStr_T073_FullKit_128.mid"},{genre:"Latin",name:"LS 4-4 NmlStr T019 FullKit 130",url:"/midi-files/Latin/LS_4-4_NmlStr_T019_FullKit_130.mid"},{genre:"Latin",name:"LS 4-4 NmlMedSwg T001 FullKit 125",url:"/midi-files/Latin/LS_4-4_NmlMedSwg_T001_FullKit_125.mid"},{genre:"Latin",name:"LS 4-4 NmlHrdSwg T004 FullKit 124",url:"/midi-files/Latin/LS_4-4_NmlHrdSwg_T004_FullKit_124.mid"},{genre:"Latin",name:"LS 3-4 NmlStr T066 FullKit 122",url:"/midi-files/Latin/LS_3-4_NmlStr_T066_FullKit_122.mid"},{genre:"Latin",name:"LS 3-4 NmlStr T000 FullKit 123",url:"/midi-files/Latin/LS_3-4_NmlStr_T000_FullKit_123.mid"},{genre:"Latin",name:"LS 2-4 NmlStr T128 FullKit 121",url:"/midi-files/Latin/LS_2-4_NmlStr_T128_FullKit_121.mid"},{genre:"Funk",name:"FNK 9-8 NmlStr WoodBlocks 072",url:"/midi-files/Funk/FNK_9-8_NmlStr_WoodBlocks_072.mid"},{genre:"Funk",name:"FNK 9-8 NmlStr Shaker 071",url:"/midi-files/Funk/FNK_9-8_NmlStr_Shaker_071.mid"},{genre:"Funk",name:"FNK 6-8 NmlStr Triangles 066",url:"/midi-files/Funk/FNK_6-8_NmlStr_Triangles_066.mid"},{genre:"Funk",name:"FNK 6-8 NmlStr Snares 065",url:"/midi-files/Funk/FNK_6-8_NmlStr_Snares_065.mid"},{genre:"Funk",name:"FNK 6-8 NmlStr Kicks 064",url:"/midi-files/Funk/FNK_6-8_NmlStr_Kicks_064.mid"},{genre:"Funk",name:"FNK 6-8 NmlStr HiHats 063",url:"/midi-files/Funk/FNK_6-8_NmlStr_HiHats_063.mid"},{genre:"Funk",name:"FNK 4-4 NmlStr Tambourine 055",url:"/midi-files/Funk/FNK_4-4_NmlStr_Tambourine_055.mid"},{genre:"Funk",name:"FNK 4-4 NmlStr Rides 054",url:"/midi-files/Funk/FNK_4-4_NmlStr_Rides_054.mid"},{genre:"Funk",name:"FNK 4-4 NmlStr Congas 053",url:"/midi-files/Funk/FNK_4-4_NmlStr_Congas_053.mid"},{genre:"Funk",name:"FNK 4-4 NmlStr Bongos 052",url:"/midi-files/Funk/FNK_4-4_NmlStr_Bongos_052.mid"},{genre:"Funk",name:"FNK 3-4 DblTmMedSwg Cabasa 051",url:"/midi-files/Funk/FNK_3-4_DblTmMedSwg_Cabasa_051.mid"},{genre:"Funk",name:"FNK 2-4 NmlStr Cowbell 050",url:"/midi-files/Funk/FNK_2-4_NmlStr_Cowbell_050.mid"},{genre:"Funk",name:"FNK 12-8 NmlStr Toms 075",url:"/midi-files/Funk/FNK_12-8_NmlStr_Toms_075.mid"},{genre:"Funk",name:"FNK 9-8 NmlStr T028 FullKit 056",url:"/midi-files/Funk/FNK_9-8_NmlStr_T028_FullKit_056.mid"},{genre:"Funk",name:"FNK 12-8 NmlStr T029 FullKit 059",url:"/midi-files/Funk/FNK_12-8_NmlStr_T029_FullKit_059.mid"},{genre:"Funk",name:"FNK 6-8 NmlStr T073 FullKit 053",url:"/midi-files/Funk/FNK_6-8_NmlStr_T073_FullKit_053.mid"},{genre:"Funk",name:"FNK 6-8 NmlStr T032 FullKit 052",url:"/midi-files/Funk/FNK_6-8_NmlStr_T032_FullKit_052.mid"},{genre:"Funk",name:"FNK 4-4 NmlStr T083 Synco FullKit 048",url:"/midi-files/Funk/FNK_4-4_NmlStr_T083_Synco_FullKit_048.mid"},{genre:"Funk",name:"FNK 4-4 NmlStr T083 Synco FullKit 046",url:"/midi-files/Funk/FNK_4-4_NmlStr_T083_Synco_FullKit_046.mid"},{genre:"Funk",name:"FNK 4-4 NmlStr T059 FullKit 045",url:"/midi-files/Funk/FNK_4-4_NmlStr_T059_FullKit_045.mid"},{genre:"Funk",name:"FNK 4-4 NmlStr T052 FullKit 047",url:"/midi-files/Funk/FNK_4-4_NmlStr_T052_FullKit_047.mid"},{genre:"Funk",name:"FNK 4-4 NmlStr T047 FullKit 044",url:"/midi-files/Funk/FNK_4-4_NmlStr_T047_FullKit_044.mid"},{genre:"Funk",name:"FNK 4-4 NmlMedSwg T005 FullKit 043",url:"/midi-files/Funk/FNK_4-4_NmlMedSwg_T005_FullKit_043.mid"},{genre:"Funk",name:"FNK 4-4 NmlHrdSwg T005 FullKit 042",url:"/midi-files/Funk/FNK_4-4_NmlHrdSwg_T005_FullKit_042.mid"},{genre:"Funk",name:"FNK 3-4 NmlStr T030 FullKit 041",url:"/midi-files/Funk/FNK_3-4_NmlStr_T030_FullKit_041.mid"},{genre:"Funk",name:"FNK 2-4 NmlStr T000 FullKit 040",url:"/midi-files/Funk/FNK_2-4_NmlStr_T000_FullKit_040.mid"},{genre:"BluesRock",name:"BRnR 9-8 NmlStr Bongos 018",url:"/midi-files/BluesRock/BRnR_9-8_NmlStr_Bongos_018.mid"},{genre:"BluesRock",name:"BRnR 6-8 NmlStr Cabasa 014",url:"/midi-files/BluesRock/BRnR_6-8_NmlStr_Cabasa_014.mid"},{genre:"BluesRock",name:"BRnR 4-4 NmlStr Toms 007",url:"/midi-files/BluesRock/BRnR_4-4_NmlStr_Toms_007.mid"},{genre:"BluesRock",name:"BRnR 4-4 NmlStr HiHats 006",url:"/midi-files/BluesRock/BRnR_4-4_NmlStr_HiHats_006.mid"},{genre:"BluesRock",name:"BRnR 4-4 NmlStr Cowbell 005",url:"/midi-files/BluesRock/BRnR_4-4_NmlStr_Cowbell_005.mid"},{genre:"BluesRock",name:"BRnR 4-4 NmlStr Congas 004",url:"/midi-files/BluesRock/BRnR_4-4_NmlStr_Congas_004.mid"},{genre:"BluesRock",name:"BRnR 4-4 NmlMedSwg Snares 003",url:"/midi-files/BluesRock/BRnR_4-4_NmlMedSwg_Snares_003.mid"},{genre:"BluesRock",name:"BRnR 4-4 NmlMedSwg Rides 002",url:"/midi-files/BluesRock/BRnR_4-4_NmlMedSwg_Rides_002.mid"},{genre:"BluesRock",name:"BRnR 4-4 NmlMedSwg Kicks 001",url:"/midi-files/BluesRock/BRnR_4-4_NmlMedSwg_Kicks_001.mid"},{genre:"BluesRock",name:"BRnR 2-4 NmlStr Tambourine 000",url:"/midi-files/BluesRock/BRnR_2-4_NmlStr_Tambourine_000.mid"},{genre:"BluesRock",name:"BRnR 12-8 NmlStr Shaker 021",url:"/midi-files/BluesRock/BRnR_12-8_NmlStr_Shaker_021.mid"},{genre:"BluesRock",name:"BRnR 9-8 NmlStr T036 FullKit 016",url:"/midi-files/BluesRock/BRnR_9-8_NmlStr_T036_FullKit_016.mid"},{genre:"BluesRock",name:"BRnR 12-8 NmlStr T008 FullKit 019",url:"/midi-files/BluesRock/BRnR_12-8_NmlStr_T008_FullKit_019.mid"},{genre:"BluesRock",name:"BRnR 6-8 NmlStr T127 FullKit 011",url:"/midi-files/BluesRock/BRnR_6-8_NmlStr_T127_FullKit_011.mid"},{genre:"BluesRock",name:"BRnR 6-8 NmlStr T046 FullKit 013",url:"/midi-files/BluesRock/BRnR_6-8_NmlStr_T046_FullKit_013.mid"},{genre:"BluesRock",name:"BRnR 6-8 NmlStr T038 FullKit 012",url:"/midi-files/BluesRock/BRnR_6-8_NmlStr_T038_FullKit_012.mid"},{genre:"BluesRock",name:"BRnR 6-8 NmlStr T012 FullKit 010",url:"/midi-files/BluesRock/BRnR_6-8_NmlStr_T012_FullKit_010.mid"},{genre:"BluesRock",name:"BRnR 4-4 NmlStr T160 FullKit 006",url:"/midi-files/BluesRock/BRnR_4-4_NmlStr_T160_FullKit_006.mid"},{genre:"BluesRock",name:"BRnR 4-4 NmlStr T091 FullKit 005",url:"/midi-files/BluesRock/BRnR_4-4_NmlStr_T091_FullKit_005.mid"},{genre:"BluesRock",name:"BRnR 4-4 NmlStr T023 FullKit 004",url:"/midi-files/BluesRock/BRnR_4-4_NmlStr_T023_FullKit_004.mid"},{genre:"BluesRock",name:"BRnR 4-4 NmlHrdSwg T003 FullKit 002",url:"/midi-files/BluesRock/BRnR_4-4_NmlHrdSwg_T003_FullKit_002.mid"},{genre:"BluesRock",name:"BRnR 3-4 NmlStr T011 FullKit 001",url:"/midi-files/BluesRock/BRnR_3-4_NmlStr_T011_FullKit_001.mid"},{genre:"BluesRock",name:"BRnR 2-4 NmlStr T076 FullKit 000",url:"/midi-files/BluesRock/BRnR_2-4_NmlStr_T076_FullKit_000.mid"},{genre:"BluesRock",name:"BRnR 4-4 NmlMedSwg T013 FullKit 003",url:"/midi-files/BluesRock/BRnR_4-4_NmlMedSwg_T013_FullKit_003.mid"},{genre:"Reggae",name:"RS 12-8 NmlStr Tambourine 313",url:"/midi-files/Reggae/RS_12-8_NmlStr_Tambourine_313.mid"},{genre:"Reggae",name:"RS 12-8 NmlStr Kicks 312",url:"/midi-files/Reggae/RS_12-8_NmlStr_Kicks_312.mid"},{genre:"Reggae",name:"RS 9-8 NmlStr T000 FullKit 239",url:"/midi-files/Reggae/RS_9-8_NmlStr_T000_FullKit_239.mid"},{genre:"Reggae",name:"RS 12-8 NmlStr T021 FullKit 243",url:"/midi-files/Reggae/RS_12-8_NmlStr_T021_FullKit_243.mid"},{genre:"Reggae",name:"RS 12-8 NmlStr T020 FullKit 242",url:"/midi-files/Reggae/RS_12-8_NmlStr_T020_FullKit_242.mid"},{genre:"Reggae",name:"RS 12-8 NmlStr T010 FullKit 244",url:"/midi-files/Reggae/RS_12-8_NmlStr_T010_FullKit_244.mid"},{genre:"Reggae",name:"RS 6-8 NmlStr T002 FullKit 236",url:"/midi-files/Reggae/RS_6-8_NmlStr_T002_FullKit_236.mid"},{genre:"Reggae",name:"RS 4-4 NmlStr T020 FullKit 232",url:"/midi-files/Reggae/RS_4-4_NmlStr_T020_FullKit_232.mid"},{genre:"Reggae",name:"RS 4-4 NmlStr T017 FullKit 228",url:"/midi-files/Reggae/RS_4-4_NmlStr_T017_FullKit_228.mid"},{genre:"Reggae",name:"RS 4-4 NmlStr T003 FullKit 230",url:"/midi-files/Reggae/RS_4-4_NmlStr_T003_FullKit_230.mid"},{genre:"Reggae",name:"RS 4-4 NmlMedSwg T000 FullKit 227",url:"/midi-files/Reggae/RS_4-4_NmlMedSwg_T000_FullKit_227.mid"},{genre:"Reggae",name:"RS 4-4 NmlStr T001 FullKit 229",url:"/midi-files/Reggae/RS_4-4_NmlStr_T001_FullKit_229.mid"}];function S0(){var tu;const e=x.useRef(0),[t,n]=x.useState(Tc[0].value),[r,i]=x.useState("C"),[l,o]=x.useState(4),[s,a]=x.useState("major"),[u,d]=x.useState("maj7"),[p,m]=x.useState(0),[v,y]=x.useState(!1),[N,F]=x.useState(!1),[f,c]=x.useState(0),[h,S]=x.useState(24),[E,T]=x.useState(wc),[_,P]=x.useState(((tu=wc[0])==null?void 0:tu.id)||null),[D,I]=x.useState(null),[K,W]=x.useState(new Set),[j,O]=x.useState(!1),[ee,z]=x.useState(1),[J,M]=x.useState(1),[R,L]=x.useState("ascending"),[$,b]=x.useState({}),[H,se]=x.useState(!1),[Q,te]=x.useState(-12),[oe,re]=x.useState(!1),[Se,$e]=x.useState(!1),[tt,bn]=x.useState(!1),[Nr,Er]=x.useState(Rc[0]),On=x.useMemo(()=>Array.from(K),[K]);x.useEffect(()=>{e.current++,console.log(`App.jsx Render Count: ${e.current}`)});const ut=x.useMemo(()=>`${r}${l}`,[r,l]),_i=x.useMemo(()=>V.midi(ut),[ut]),Pe=x.useMemo(()=>`${r} ${s}`,[r,s]),kr=x.useMemo(()=>bt.get(Pe),[Pe]),ct=x.useMemo(()=>{try{const C=bt.degrees(Pe);if(typeof C!="function")return[];const A=[];for(let ue=1;ue<=7;ue++){const ne=C(ue),U=C(ue+2),ae=C(ue+4);if(!ne||!U||!ae)continue;const he=Ue.detect([ne,U,ae]),ke=he.length>0?he[0]:`${ne}?`;A.push(ke)}return A.length===7?A:[]}catch(C){return console.error(`Error building triads for ${Pe}:`,C),[]}},[Pe]),dt=x.useMemo(()=>{try{const C=bt.degrees(Pe);if(typeof C!="function")return[];const A=[];for(let ue=1;ue<=7;ue++){const ne=C(ue),U=C(ue+2),ae=C(ue+4),he=C(ue+6);if(!ne||!U||!ae||!he)continue;const ke=Ue.detect([ne,U,ae,he]),Ke=ke.length>0?ke[0]:`${ne}?7`;A.push(Ke)}return A.length===7?A:[]}catch(C){return console.error(`Error building 7th chords for ${Pe}:`,C),[]}},[Pe]),wt=x.useMemo(()=>{var ae;console.log("App.jsx: Recalculating calculatedDiatonicChordNotes...");const C=`${r}${l}`,A=bt.get(Pe),ue=v?dt:ct,ne=[];if(A.empty||!Array.isArray(A.intervals)||A.intervals.length<7)return console.warn("App.jsx - Diatonic Drill Calc - Returning [] due to invalid scale intervals.",{scaleName:Pe,scaleInfoEmpty:A.empty,scaleIntervals:A.intervals}),[];if(!Array.isArray(ue)||ue.length<7)return console.warn("App.jsx - Diatonic Drill Calc - Returning [] due to invalid base chord names.",{showSevenths:v,diatonicTriadsLength:ct==null?void 0:ct.length,diatonicSeventhsLength:dt==null?void 0:dt.length,targetChordsLength:ue==null?void 0:ue.length}),[];const U=A.intervals;for(let he=0;he<7;he++){let ke=[];const Ke=ue[he],nt=U[he];if(!(!Ke||!nt)){try{const X=V.transpose(C,nt);if(!X||V.midi(X)===null){console.warn(`App.jsx - Diatonic Drill Calc - Invalid root ${X} for degree ${he+1}`);continue}const It=V.midi(X),Qt=Ue.get(Ke);if(Qt.empty){console.warn(`App.jsx - Diatonic Drill Calc - Could not parse chord ${Ke} to get type.`);continue}const Qe=(ae=Qt.aliases)==null?void 0:ae[0];if(!Qe){console.warn(`App.jsx - Diatonic Drill Calc - Could not get type alias for ${Ke}.`);continue}const Te=Ue.getChord(Qe,X);if(Te.empty||!Array.isArray(Te.notes)||Te.notes.length===0){console.warn(`App.jsx - Diatonic Drill Calc - Failed to get notes for ${Qe} at ${X}.`);continue}let Yt=Te.notes;if(f>0&&f<Yt.length){const Y=Yt.slice(0,f),q=Yt.slice(f),De=Y.map(Hn=>V.transpose(Hn,"8P"));Yt=[...q,...De]}let le=Yt;if(Se){const Y=Ue.get(Ke);if(!Y.empty&&Y.intervals){const q=new Set(["1P"]),De=Y.intervals.find(wr=>wr.startsWith("3"));De&&q.add(De);const Hn=Y.intervals.find(wr=>wr.startsWith("7"));Hn&&q.add(Hn);const Xt=[],vl=V.get(X);for(const wr of q){const Qm=V.transpose(vl,wr);Xt.push(Qm)}le=Xt,console.log(`App.jsx (Diatonic/Shell): Applied shell voicing to ${Ke}. Notes:`,le)}else console.warn(`App.jsx (Diatonic/Shell): Could not get chord info for ${Ke} to apply shell voicing. Skipping.`)}let me=le.map(V.midi).filter(Boolean);if(me.length===0)continue;if(N){let Y=me;if(oe){const q=V.midi(X);q!==null?(Y=me.filter(De=>De!==q),console.log(`App.jsx (Diatonic/Split/Rootless): RH notes for ${Ke} after root ${q} removal:`,Y)):console.warn(`App.jsx (Diatonic/Split/Rootless): Could not get MIDI for root ${X} to apply rootless voicing.`)}if(It!==null&&It>=h){const q=It-h;q>=0&&q<=127?ke=[q,...Y]:(console.warn(`App.jsx (Diatonic/Split): Calculated LH note ${q} is out of MIDI range. Using RH notes only.`),ke=Y)}else ke=Y}else ke=me;ke=ke.filter(Y=>Y!==null&&Y>=0&&Y<=127).sort((Y,q)=>Y-q)}catch(X){console.error(`Error calculating notes for degree ${he} (${Ke}):`,X),ke=[]}ne.push(ke)}}return console.log("App.jsx: Finished calculating MIDI notes for diatonic chords. Returning valid array."),ne},[Pe,l,r,v,ct,dt,f,N,h,oe,Se,tt]),jt=x.useMemo(()=>{var ne;if(console.log("App.jsx: Recalculating calculatedProgressionChords START",{voicingSplitHand:H,voicingLhOctaveOffset:Q,voicingRhRootless:oe,voicingUseShell:Se,voicingAddOctaveRoot:tt}),console.log(`App.jsx: Recalculating progression chords for ID: ${_} in key: ${Pe} octave: ${l}`),!_||!E.find(U=>U.id===_)||!Pe||kr.empty)return console.log("App.jsx: Progression calc returning early: Invalid ID, scale name, scale info, or progression object not found."),[];const C=E.find(U=>U.id===_);if(!C.progression||C.progression.length===0)return console.log(`App.jsx: Progression calc returning early: Progression array for ID ${_} is missing or empty.`),[];const A=[];kr.notes;const ue=bt.degrees(Pe);console.log(`App.jsx: Processing progression: [${C.progression.join(", ")}] in key ${Pe}`);for(const U of C.progression)try{const ae=Tv.get(U);if(console.log(`App.jsx: RomanNumeral analysis for "${U}":`,ae),ae.empty){console.warn(`App.jsx: Could not analyze Roman numeral: ${U}`),A.push({roman:U,name:`? (${U})`,notes:[],midiNotes:[],error:"Analysis failed"});continue}if(typeof ae.step!="number"||ae.step<0||ae.step>6){console.warn(`App.jsx: Roman numeral analysis for "${U}" returned an invalid step: ${ae.step}. Skipping chord generation for this step.`),A.push({roman:U,name:`? (${U})`,notes:[],midiNotes:[],error:"Invalid step from analysis"});continue}const he=ue(ae.step+1);if(!he){console.warn(`App.jsx: Could not find scale degree ${ae.step+1} for ${Pe}`),A.push({roman:U,name:`?${ae.chordType||""}`,notes:[],midiNotes:[],error:"Degree note not found"});continue}const ke=ae.step,Ke=v?dt:ct;let nt="",X=`? (${U})`;if(ke>=0&&ke<Ke.length&&Ke[ke]){const le=Ke[ke];if(le.startsWith(he)){X=le;const me=Ue.get(X);!me.empty&&((ne=me.aliases)!=null&&ne[0])?(nt=me.aliases[0],console.log(`App.jsx: Using diatonic chord ${X} for ${U}. Alias: ${nt}`)):console.warn(`App.jsx: Could not get valid alias from diatonic chord name: ${X}`)}else console.warn(`App.jsx: Mismatch between expected root ${he} (from step ${ae.step+1}) and diatonic chord root ${le} at index ${ke}. This might happen with altered chords (bVII etc) or errors.`),nt=ae.chordType||(v?"7":"M"),X=`${he}${nt}`,console.log(`App.jsx: Using fallback alias ${nt} for ${U}. Built name: ${X}`)}else console.warn(`App.jsx: Could not find valid diatonic chord for degree index ${ke} (from Roman ${U}).`),nt=ae.chordType||(v?"7":"M"),X=`${he}${nt}`;if(!nt){console.warn(`App.jsx: Still couldn't determine valid chord type alias for ${U} -> ${X}`),A.push({roman:U,name:X,notes:[],midiNotes:[],error:"Failed to determine chord type"});continue}const It=`${he}${l}`,Qt=Ue.getChord(nt,It);if(Qt.empty||!Qt.notes||Qt.notes.length===0){console.warn(`App.jsx: Failed to get notes for type "${nt}" at root "${It}" (derived from ${U})`),A.push({roman:U,name:X,notes:[],midiNotes:[],error:"Note generation failed"});continue}let Qe=Qt.notes;if(f>0&&f<Qe.length){const le=Qe.slice(0,f),me=Qe.slice(f),Y=le.map(q=>V.transpose(q,"8P"));Qe=[...me,...Y],console.log(`App.jsx (Inversion): Applied RH inversion ${f} to ${X}. Notes:`,Qe)}if(Se){const le=Ue.get(X);if(!le.empty&&le.intervals){const me=new Set(["1P"]),Y=le.intervals.find(Xt=>Xt.startsWith("3"));Y&&me.add(Y);const q=le.intervals.find(Xt=>Xt.startsWith("7"));q&&me.add(q);const De=[],Hn=V.get(It);for(const Xt of me){const vl=V.transpose(Hn,Xt);De.push(vl)}Qe=De,console.log(`App.jsx (Shell): Applied shell voicing to ${X}. Kept intervals: [${Array.from(me).join(", ")}]. Notes:`,Qe)}else console.warn(`App.jsx (Shell): Could not get chord info for ${X} to apply shell voicing. Skipping.`)}let Te=[];const Yt=V.midi(It);if(H&&Yt!==null){const le=Yt+Q;let me=Qe;if(oe){const q=V.pitchClass(It);me=Qe.filter(De=>V.pitchClass(De)!==q),console.log(`App.jsx (Split/Rootless): RH notes for ${X} after root removal:`,me)}const Y=me.map(V.midi).filter(q=>q!==null&&q>=0&&q<=127);le>=0&&le<=127?Te=[le,...Y].sort((q,De)=>q-De):(console.warn(`App.jsx (Split Hand): Calculated LH note ${le} is out of MIDI range. Using RH notes only.`),Te=Y.sort((q,De)=>q-De)),console.log(`App.jsx (Split Hand): Final MIDI for ${X}: LH ${le}, RH [${Y.join(", ")}] -> [${Te.join(", ")}]`)}else Te=Qe.map(V.midi).filter(le=>le!==null&&le>=0&&le<=127).sort((le,me)=>le-me),console.log(`App.jsx (Standard): Final MIDI for ${X}: [${Te.join(", ")}]`);if(tt&&Te.length>0){const le=V.pitchClass(It),me=Te.find(Y=>V.pitchClass(V.fromMidi(Y))===le);if(me!==void 0){const Y=me+12;Y<=127&&!Te.includes(Y)&&(Te.push(Y),Te.sort((q,De)=>q-De),console.log(`App.jsx (Diatonic/Add Oct Root): Added upper octave root (${Y}) to ${X}. Notes before sort: [${Te.join(", ")}]`))}else console.warn(`App.jsx (Diatonic/Add Oct Root): Could not find root note MIDI value in final notes for ${X} to add octave.`)}console.log(`App.jsx: Successfully processed ${U} -> ${X}. FINAL MIDI: [${Te.join(", ")}]`),A.push({roman:U,name:X,notes:Qt.notes,midiNotes:Te})}catch(ae){console.error(`App.jsx: Error processing Roman numeral "${U}" in progression "${C.name}":`,ae),A.push({roman:U,name:`? (${U})`,notes:[],midiNotes:[],error:ae.message})}return console.log("App.jsx: Finished calculating progression chords:",A),A},[_,E,Pe,kr,l,v,ct,dt,H,Q,oe,Se,tt]),Mi=x.useCallback(C=>{I(C),W(A=>new Set(A).add(C.note))},[]),sl=x.useCallback(C=>{I(C),W(A=>{const ue=new Set(A);return ue.delete(C.note),ue})},[]),{isInitialized:Pi,inputs:Ni,outputs:Ei,selectedInputId:ki,selectedOutputId:xi,logMessages:wi,selectInput:al,selectOutput:ul,sendMessage:Ct}=Xv({onNoteOn:Mi,onNoteOff:sl}),{playbackState:cl,loadedFileName:dl,loadMidiFile:fl,play:ml,pause:pl,stop:Ci}=f0(Ct),{currentDrillStep:k,drillScore:He}=l0({isDrillActive:j,currentMode:t,drillOptions:$,scaleName:Pe,selectedChordType:u,diatonicTriads:ct,diatonicSevenths:dt,selectedOctave:l,showSevenths:v,splitHandVoicing:N,splitHandInterval:h,rhInversion:f,playedNoteEvent:D,calculatedDiatonicChordNotes:wt,selectedRootNote:r,ROOT_NOTES:Cc,transposedProgressionChords:jt}),{isPlaying:Ya,bpm:zn,selectedSoundNote:Ii,availableSounds:xr,timeSignature:hl,togglePlay:gl,changeTempo:wm,changeSound:Cm,changeTimeSignature:Im}=o0(Ct),Tm=x.useMemo(()=>{console.log("App.jsx: Recalculating notesToHighlight START"),console.log("App.jsx: Recalculating notesToHighlight...");let C=[];const A=l,ue=r;try{if(t==="scale_display"&&s){const ne=bt.get(Pe);if(ne&&Array.isArray(ne.notes)){const U=ne.notes.map(he=>V.midi(`${he}${A}`)).filter(Boolean),ae=ne.notes.map(he=>V.midi(`${he}${A+1}`)).filter(Boolean);C=[...U,...ae]}}else if(t==="chord_search"&&u){if(!_i)return[];const ne=Ue.getChord(u,`${ue}${A}`);ne&&Array.isArray(ne.notes)&&(C=ne.notes.map(V.midi).filter(Boolean))}else if(t==="diatonic_chords")Array.isArray(wt)&&p>=0&&p<wt.length?C=wt[p]||[]:(console.warn("App.jsx - Diatonic Highlight - Pre-calculated notes not available or degree invalid."),C=[]);else if(t==="chord_progression")if(jt&&jt.length>0){const ne=jt.flatMap(U=>U.midiNotes||[]);C=[...new Set(ne)],console.log("App.jsx - Progression Highlight - Highlighting notes:",C)}else console.log("App.jsx - Progression Highlight - No transposed chords available."),C=[]}catch(ne){console.error("Error calculating notes:",ne),C=[]}return C.filter(ne=>ne!==null&&ne>=0&&ne<=127)},[t,Pe,l,u,r,p,wt,jt,H,Q,oe,Se,tt]),Rm=x.useMemo(()=>E.find(C=>C.id===_),[_,E]),Am=C=>{j&&(O(!1),console.log("Drill stopped due to Mode change.")),console.log(`App.jsx: handleModeChange - New Mode: ${C}`),n(C)},Dm=C=>{j&&(O(!1),console.log("Drill stopped due to Root Note change.")),console.log(`App.jsx: handleRootChange - New Root: ${C}`),i(C)},Lm=C=>{j&&(O(!1),console.log("Drill stopped due to Octave change."));const A=parseInt(C,10);console.log(`App.jsx: handleOctaveChange - New Octave: ${A}`),o(A)},Fm=C=>{j&&(O(!1),console.log("Drill stopped due to Scale change.")),console.log(`App.jsx: handleScaleChange - New Scale: ${C}. Resetting diatonic degree.`),a(C),m(0)},jm=C=>{j&&(O(!1),console.log("Drill stopped due to Chord Type change.")),console.log(`App.jsx: handleChordChange - New Chord: ${C}`),d(C)},$m=C=>{const A=parseInt(C,10);console.log(`App.jsx: handleDiatonicDegreeChange - New Degree Index: ${A}`),m(A)},Bm=C=>{j&&(O(!1),console.log("Drill stopped due to Show Sevenths change."));const A=C.target.checked;console.log(`App.jsx: handleShowSeventhsChange - Checked: ${A}`),y(A),!A&&f===3&&(console.log("App.jsx: Resetting RH inversion from 3rd (7ths only)."),c(0))},bm=C=>{j&&(O(!1),console.log("Drill stopped due to Split Hand Voicing (Diatonic) change."));const A=C.target.checked;console.log(`App.jsx: handleSplitHandVoicingChange - Checked: ${A}`),F(A)},Om=C=>{j&&(O(!1),console.log("Drill stopped due to RH Inversion change."));const A=parseInt(C,10);console.log(`App.jsx: handleRhInversionChange - New Inversion: ${A}`),!v&&A===3?(console.warn("App.jsx: Cannot select 3rd inversion for triads. Setting to Root Pos."),c(0)):c(A)},zm=C=>{j&&(O(!1),console.log("Drill stopped due to Split Hand Interval change."));const A=parseInt(C.target.value,10);console.log(`App.jsx: handleSplitHandIntervalChange - New Interval: ${A}`),S(A)},Xa=C=>{j&&(O(!1),console.log("Drill stopped due to Drill Octaves change."));const A=parseInt(C.target.value,10);console.log(`App.jsx: handleDrillOctavesChange - Num Octaves: ${A}`),z(A)},qa=C=>{j&&(O(!1),console.log("Drill stopped due to Drill Repetitions change."));const A=parseInt(C.target.value,10);console.log(`App.jsx: handleDrillRepetitionsChange - Repetitions: ${A}`),M(A)},Za=C=>{j&&(O(!1),console.log("Drill stopped due to Drill Style change."));const A=C.target.value;console.log(`App.jsx: handleDrillStyleChange - Style: ${A}`),L(A)},eu=()=>{const C=!j;console.log(`App.jsx: handleDrillToggle - Setting drill active: ${C}`),C&&(b({octaves:ee,repetitions:J,style:R}),console.log("App.jsx: handleDrillToggle - Set drillOptions to:",{octaves:ee,repetitions:J,style:R})),O(C)},Hm=C=>{j&&(O(!1),console.log("Drill stopped due to Progression change.")),console.log(`App.jsx: handleProgressionChange - Selected Progression ID: ${C}`),P(C)},Km=C=>{j&&(O(!1),console.log("Drill stopped due to Voicing Split Hand change."));const A=C.target.checked;console.log(`App.jsx: handleVoicingSplitHandChange - Checked: ${A}`),se(A)},Vm=C=>{j&&(O(!1),console.log("Drill stopped due to Voicing LH Offset change."));const A=parseInt(C,10);console.log(`App.jsx: handleVoicingLhOffsetChange - Offset: ${A}`),te(A)},Um=C=>{j&&(O(!1),console.log("Drill stopped due to Voicing RH Rootless change."));const A=C.target.checked;console.log(`App.jsx: handleVoicingRhRootlessChange - Checked: ${A}`),re(A)},Gm=C=>{j&&(O(!1),console.log("Drill stopped due to Voicing Use Shell change."));const A=C.target.checked;console.log(`App.jsx: handleVoicingUseShellChange - Checked: ${A}`),$e(A)},Wm=C=>{j&&(O(!1),console.log("Drill stopped due to Voicing Add Octave Root change."));const A=C.target.checked;console.log(`App.jsx: handleVoicingAddOctaveRootChange - Checked: ${A}`),bn(A)},Jm=C=>{console.log(`App.jsx: handleMidiGenreChange - New Genre: ${C}`),Er(C)};return g.jsxs("div",{className:"App",children:[g.jsx("h1",{children:"Piano Helper (React Version)"}),g.jsx(Qv,{rootNote:_i,notesToHighlight:Tm,octaveRange:Ic,playedNotes:On,expectedNotes:j?k.expectedMidiNotes:[],lowestNote:48}),g.jsxs("div",{style:{display:"flex",gap:"20px",marginTop:"10px",alignItems:"flex-start"},children:[g.jsx(Wv,{style:{flex:1},selectedRoot:ut,selectedScaleType:s,selectedChordType:u,currentMode:t,diatonicTriads:ct,diatonicSevenths:dt,selectedDiatonicDegree:p,showSevenths:v,selectedProgression:Rm,transposedProgressionChords:jt}),g.jsx(Gv,{style:{flex:2},modes:Tc,currentMode:t,onModeChange:Am,rootNotes:Cc,octaves:Ic,scaleTypes:h0,chordTypes:g0,selectedRootNote:r,selectedOctave:l,selectedScaleType:s,selectedChordType:u,onRootChange:Dm,onOctaveChange:Lm,onScaleChange:Fm,onChordChange:jm,diatonicTriads:ct,diatonicSevenths:dt,selectedDiatonicDegree:p,showSevenths:v,splitHandVoicing:N,rhInversion:f,inversions:v0,onDiatonicDegreeChange:$m,onShowSeventhsChange:Bm,onSplitHandVoicingChange:bm,onRhInversionChange:Om,splitHandInterval:h,onSplitHandIntervalChange:zm,midiInputs:Ni,midiOutputs:Ei,selectedInputId:ki,selectedOutputId:xi,onSelectInput:al,onSelectOutput:ul,isMidiInitialized:Pi,sendMessage:Ct,availableProgressions:E,selectedProgressionId:_,onProgressionChange:Hm,voicingSplitHand:H,voicingLhOctaveOffset:Q,voicingRhRootless:oe,onVoicingSplitHandChange:Km,onVoicingLhOffsetChange:Vm,onVoicingRhRootlessChange:Um,onVoicingUseShellChange:Gm,onVoicingAddOctaveRootChange:Wm,isMetronomePlaying:Ya,metronomeBpm:zn,metronomeSoundNote:Ii,metronomeSounds:xr,metronomeTimeSignature:hl,onToggleMetronome:gl,onChangeMetronomeTempo:wm,onChangeMetronomeSound:Cm,onChangeMetronomeTimeSignature:Im,isDrillActive:j,setIsDrillActive:eu,drillOptions:$,setDrillOptions:b,currentDrillStep:k,drillScore:He,drillNumOctaves:ee,drillRepetitions:J,onDrillOctavesChange:Xa,onDrillRepetitionsChange:qa,drillStyle:R,onDrillStyleChange:Za,playbackState:cl,loadedMidiFileName:dl,availableMidiFiles:y0,onLoadMidiFile:fl,onPlayMidiFile:ml,onPauseMidiFile:pl,onStopMidiFile:Ci,midiGenres:Rc,selectedMidiGenre:Nr,onMidiGenreChange:Jm}),g.jsx(p0,{style:{flex:1},currentMode:t,isDrillActive:j,setIsDrillActive:eu,drillNumOctaves:ee,drillRepetitions:J,drillStyle:R,onDrillOctavesChange:Xa,onDrillRepetitionsChange:qa,onDrillStyleChange:Za,currentDrillStep:k,drillScore:He})]}),g.jsx(Jv,{logMessages:wi})]})}Jl.createRoot(document.getElementById("root")).render(g.jsx(fp.StrictMode,{children:g.jsx(S0,{})}));
