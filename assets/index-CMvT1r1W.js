(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ac={exports:{}},$i={},Dc={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=Symbol.for("react.element"),Xm=Symbol.for("react.portal"),Jm=Symbol.for("react.fragment"),qm=Symbol.for("react.strict_mode"),Zm=Symbol.for("react.profiler"),ep=Symbol.for("react.provider"),tp=Symbol.for("react.context"),np=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),op=Symbol.for("react.memo"),ip=Symbol.for("react.lazy"),tu=Symbol.iterator;function lp(e){return e===null||typeof e!="object"?null:(e=tu&&e[tu]||e["@@iterator"],typeof e=="function"?e:null)}var jc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rc=Object.assign,$c={};function vr(e,t,n){this.props=e,this.context=t,this.refs=$c,this.updater=n||jc}vr.prototype.isReactComponent={};vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lc(){}Lc.prototype=vr.prototype;function Gs(e,t,n){this.props=e,this.context=t,this.refs=$c,this.updater=n||jc}var Ws=Gs.prototype=new Lc;Ws.constructor=Gs;Rc(Ws,vr.prototype);Ws.isPureReactComponent=!0;var nu=Array.isArray,bc=Object.prototype.hasOwnProperty,Ks={current:null},Oc={key:!0,ref:!0,__self:!0,__source:!0};function Fc(e,t,n){var r,o={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)bc.call(t,r)&&!Oc.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:po,type:e,key:l,ref:i,props:o,_owner:Ks.current}}function sp(e,t){return{$$typeof:po,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qs(e){return typeof e=="object"&&e!==null&&e.$$typeof===po}function ap(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ru=/\/+/g;function hl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ap(""+e.key):t.toString(36)}function Qo(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case po:case Xm:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+hl(i,0):r,nu(o)?(n="",e!=null&&(n=e.replace(ru,"$&/")+"/"),Qo(o,t,n,"",function(u){return u})):o!=null&&(Qs(o)&&(o=sp(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(ru,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",nu(e))for(var s=0;s<e.length;s++){l=e[s];var a=r+hl(l,s);i+=Qo(l,t,n,a,o)}else if(a=lp(e),typeof a=="function")for(e=a.call(e),s=0;!(l=e.next()).done;)l=l.value,a=r+hl(l,s++),i+=Qo(l,t,n,a,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function To(e,t,n){if(e==null)return e;var r=[],o=0;return Qo(e,r,"","",function(l){return t.call(n,l,o++)}),r}function up(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},Yo={transition:null},cp={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:Yo,ReactCurrentOwner:Ks};function Bc(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:To,forEach:function(e,t,n){To(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return To(e,function(){t++}),t},toArray:function(e){return To(e,function(t){return t})||[]},only:function(e){if(!Qs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=vr;G.Fragment=Jm;G.Profiler=Zm;G.PureComponent=Gs;G.StrictMode=qm;G.Suspense=rp;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cp;G.act=Bc;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rc({},e.props),o=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=Ks.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)bc.call(t,a)&&!Oc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:po,type:e.type,key:o,ref:l,props:r,_owner:i}};G.createContext=function(e){return e={$$typeof:tp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ep,_context:e},e.Consumer=e};G.createElement=Fc;G.createFactory=function(e){var t=Fc.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:np,render:e}};G.isValidElement=Qs;G.lazy=function(e){return{$$typeof:ip,_payload:{_status:-1,_result:e},_init:up}};G.memo=function(e,t){return{$$typeof:op,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Yo.transition;Yo.transition={};try{e()}finally{Yo.transition=t}};G.unstable_act=Bc;G.useCallback=function(e,t){return We.current.useCallback(e,t)};G.useContext=function(e){return We.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return We.current.useDeferredValue(e)};G.useEffect=function(e,t){return We.current.useEffect(e,t)};G.useId=function(){return We.current.useId()};G.useImperativeHandle=function(e,t,n){return We.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return We.current.useMemo(e,t)};G.useReducer=function(e,t,n){return We.current.useReducer(e,t,n)};G.useRef=function(e){return We.current.useRef(e)};G.useState=function(e){return We.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return We.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return We.current.useTransition()};G.version="18.3.1";Dc.exports=G;var w=Dc.exports;const dp=Tc(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp=w,mp=Symbol.for("react.element"),pp=Symbol.for("react.fragment"),hp=Object.prototype.hasOwnProperty,gp=fp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vp={key:!0,ref:!0,__self:!0,__source:!0};function Hc(e,t,n){var r,o={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)hp.call(t,r)&&!vp.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:mp,type:e,key:l,ref:i,props:o,_owner:gp.current}}$i.Fragment=pp;$i.jsx=Hc;$i.jsxs=Hc;Ac.exports=$i;var v=Ac.exports,Ql={},zc={exports:{}},st={},Vc={exports:{}},Uc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(x,A){var j=x.length;x.push(A);e:for(;0<j;){var L=j-1>>>1,O=x[L];if(0<o(O,A))x[L]=A,x[j]=O,j=L;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var A=x[0],j=x.pop();if(j!==A){x[0]=j;e:for(var L=0,O=x.length,B=O>>>1;L<B;){var ae=2*(L+1)-1,K=x[ae],te=ae+1,ie=x[te];if(0>o(K,j))te<O&&0>o(ie,K)?(x[L]=ie,x[te]=j,L=te):(x[L]=K,x[ae]=j,L=ae);else if(te<O&&0>o(ie,j))x[L]=ie,x[te]=j,L=te;else break e}}return A}function o(x,A){var j=x.sortIndex-A.sortIndex;return j!==0?j:x.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var a=[],u=[],d=1,p=null,m=3,g=!1,y=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(x){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=x)r(u),A.sortIndex=A.expirationTime,t(a,A);else break;A=n(u)}}function S(x){if(E=!1,h(x),!y)if(n(a)!==null)y=!0,z(_);else{var A=n(u);A!==null&&Q(S,A.startTime-x)}}function _(x,A){y=!1,E&&(E=!1,f(P),P=-1),g=!0;var j=m;try{for(h(A),p=n(a);p!==null&&(!(p.expirationTime>A)||x&&!H());){var L=p.callback;if(typeof L=="function"){p.callback=null,m=p.priorityLevel;var O=L(p.expirationTime<=A);A=e.unstable_now(),typeof O=="function"?p.callback=O:p===n(a)&&r(a),h(A)}else r(a);p=n(a)}if(p!==null)var B=!0;else{var ae=n(u);ae!==null&&Q(S,ae.startTime-A),B=!1}return B}finally{p=null,m=j,g=!1}}var T=!1,M=null,P=-1,D=5,N=-1;function H(){return!(e.unstable_now()-N<D)}function W(){if(M!==null){var x=e.unstable_now();N=x;var A=!0;try{A=M(!0,x)}finally{A?F():(T=!1,M=null)}}else T=!1}var F;if(typeof c=="function")F=function(){c(W)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ee=Z.port2;Z.port1.onmessage=W,F=function(){ee.postMessage(null)}}else F=function(){R(W,0)};function z(x){M=x,T||(T=!0,F())}function Q(x,A){P=R(function(){x(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(x){x.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,z(_))},e.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<x?Math.floor(1e3/x):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(x){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var j=m;m=A;try{return x()}finally{m=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(x,A){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var j=m;m=x;try{return A()}finally{m=j}},e.unstable_scheduleCallback=function(x,A,j){var L=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?L+j:L):j=L,x){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=j+O,x={id:d++,callback:A,priorityLevel:x,startTime:j,expirationTime:O,sortIndex:-1},j>L?(x.sortIndex=j,t(u,x),n(a)===null&&x===n(u)&&(E?(f(P),P=-1):E=!0,Q(S,j-L))):(x.sortIndex=O,t(a,x),y||g||(y=!0,z(_))),x},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(x){var A=m;return function(){var j=m;m=A;try{return x.apply(this,arguments)}finally{m=j}}}})(Uc);Vc.exports=Uc;var yp=Vc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp=w,lt=yp;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gc=new Set,Yr={};function bn(e,t){ar(e,t),ar(e+"Capture",t)}function ar(e,t){for(Yr[e]=t,e=0;e<t.length;e++)Gc.add(t[e])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=Object.prototype.hasOwnProperty,Mp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ou={},iu={};function Pp(e){return Yl.call(iu,e)?!0:Yl.call(ou,e)?!1:Mp.test(e)?iu[e]=!0:(ou[e]=!0,!1)}function Ep(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xp(e,t,n,r){if(t===null||typeof t>"u"||Ep(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,o,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ys=/[\-:]([a-z])/g;function Xs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ys,Xs);Le[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ys,Xs);Le[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ys,Xs);Le[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Js(e,t,n,r){var o=Le.hasOwnProperty(t)?Le[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xp(t,n,o,r)&&(n=null),r||o===null?Pp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gt=Sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ao=Symbol.for("react.element"),Un=Symbol.for("react.portal"),Gn=Symbol.for("react.fragment"),qs=Symbol.for("react.strict_mode"),Xl=Symbol.for("react.profiler"),Wc=Symbol.for("react.provider"),Kc=Symbol.for("react.context"),Zs=Symbol.for("react.forward_ref"),Jl=Symbol.for("react.suspense"),ql=Symbol.for("react.suspense_list"),ea=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),Qc=Symbol.for("react.offscreen"),lu=Symbol.iterator;function Cr(e){return e===null||typeof e!="object"?null:(e=lu&&e[lu]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,gl;function Lr(e){if(gl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gl=t&&t[1]||""}return`
`+gl+e}var vl=!1;function yl(e,t){if(!e||vl)return"";vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),l=r.stack.split(`
`),i=o.length-1,s=l.length-1;1<=i&&0<=s&&o[i]!==l[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==l[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==l[s]){var a=`
`+o[i].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=i&&0<=s);break}}}finally{vl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Lr(e):""}function _p(e){switch(e.tag){case 5:return Lr(e.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 2:case 15:return e=yl(e.type,!1),e;case 11:return e=yl(e.type.render,!1),e;case 1:return e=yl(e.type,!0),e;default:return""}}function Zl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gn:return"Fragment";case Un:return"Portal";case Xl:return"Profiler";case qs:return"StrictMode";case Jl:return"Suspense";case ql:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kc:return(e.displayName||"Context")+".Consumer";case Wc:return(e._context.displayName||"Context")+".Provider";case Zs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ea:return t=e.displayName||null,t!==null?t:Zl(e.type)||"Memo";case qt:t=e._payload,e=e._init;try{return Zl(e(t))}catch{}}return null}function wp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zl(t);case 8:return t===qs?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kp(e){var t=Yc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Do(e){e._valueTracker||(e._valueTracker=kp(e))}function Xc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function es(e,t){var n=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function su(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jc(e,t){t=t.checked,t!=null&&Js(e,"checked",t,!1)}function ts(e,t){Jc(e,t);var n=mn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ns(e,t.type,n):t.hasOwnProperty("defaultValue")&&ns(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function au(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ns(e,t,n){(t!=="number"||ui(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var br=Array.isArray;function nr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function rs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(br(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mn(n)}}function qc(e,t){var n=mn(t.value),r=mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function os(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jo,ed=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jo=jo||document.createElement("div"),jo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ip=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(e){Ip.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Br[t]=Br[e]})});function td(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Br.hasOwnProperty(e)&&Br[e]?(""+t).trim():t+"px"}function nd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=td(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Cp=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function is(e,t){if(t){if(Cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function ls(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ss=null;function ta(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var as=null,rr=null,or=null;function du(e){if(e=vo(e)){if(typeof as!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Bi(t),as(e.stateNode,e.type,t))}}function rd(e){rr?or?or.push(e):or=[e]:rr=e}function od(){if(rr){var e=rr,t=or;if(or=rr=null,du(e),t)for(e=0;e<t.length;e++)du(t[e])}}function id(e,t){return e(t)}function ld(){}var Sl=!1;function sd(e,t,n){if(Sl)return e(t,n);Sl=!0;try{return id(e,t,n)}finally{Sl=!1,(rr!==null||or!==null)&&(ld(),od())}}function Jr(e,t){var n=e.stateNode;if(n===null)return null;var r=Bi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var us=!1;if(Bt)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){us=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{us=!1}function Np(e,t,n,r,o,l,i,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Hr=!1,ci=null,di=!1,cs=null,Tp={onError:function(e){Hr=!0,ci=e}};function Ap(e,t,n,r,o,l,i,s,a){Hr=!1,ci=null,Np.apply(Tp,arguments)}function Dp(e,t,n,r,o,l,i,s,a){if(Ap.apply(this,arguments),Hr){if(Hr){var u=ci;Hr=!1,ci=null}else throw Error(I(198));di||(di=!0,cs=u)}}function On(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ad(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fu(e){if(On(e)!==e)throw Error(I(188))}function jp(e){var t=e.alternate;if(!t){if(t=On(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return fu(o),e;if(l===r)return fu(o),t;l=l.sibling}throw Error(I(188))}if(n.return!==r.return)n=o,r=l;else{for(var i=!1,s=o.child;s;){if(s===n){i=!0,n=o,r=l;break}if(s===r){i=!0,r=o,n=l;break}s=s.sibling}if(!i){for(s=l.child;s;){if(s===n){i=!0,n=l,r=o;break}if(s===r){i=!0,r=l,n=o;break}s=s.sibling}if(!i)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function ud(e){return e=jp(e),e!==null?cd(e):null}function cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cd(e);if(t!==null)return t;e=e.sibling}return null}var dd=lt.unstable_scheduleCallback,mu=lt.unstable_cancelCallback,Rp=lt.unstable_shouldYield,$p=lt.unstable_requestPaint,_e=lt.unstable_now,Lp=lt.unstable_getCurrentPriorityLevel,na=lt.unstable_ImmediatePriority,fd=lt.unstable_UserBlockingPriority,fi=lt.unstable_NormalPriority,bp=lt.unstable_LowPriority,md=lt.unstable_IdlePriority,Li=null,Tt=null;function Op(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Li,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:Hp,Fp=Math.log,Bp=Math.LN2;function Hp(e){return e>>>=0,e===0?32:31-(Fp(e)/Bp|0)|0}var Ro=64,$o=4194304;function Or(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var s=i&~o;s!==0?r=Or(s):(l&=i,l!==0&&(r=Or(l)))}else i=n&~o,i!==0?r=Or(i):l!==0&&(r=Or(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Et(t),o=1<<n,r|=e[n],t&=~o;return r}function zp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Et(l),s=1<<i,a=o[i];a===-1?(!(s&n)||s&r)&&(o[i]=zp(s,t)):a<=t&&(e.expiredLanes|=s),l&=~s}}function ds(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pd(){var e=Ro;return Ro<<=1,!(Ro&4194240)&&(Ro=64),e}function Ml(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ho(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=n}function Up(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Et(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function ra(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Et(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var oe=0;function hd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gd,oa,vd,yd,Sd,fs=!1,Lo=[],on=null,ln=null,sn=null,qr=new Map,Zr=new Map,en=[],Gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pu(e,t){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(t.pointerId)}}function Tr(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=vo(t),t!==null&&oa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Wp(e,t,n,r,o){switch(t){case"focusin":return on=Tr(on,e,t,n,r,o),!0;case"dragenter":return ln=Tr(ln,e,t,n,r,o),!0;case"mouseover":return sn=Tr(sn,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return qr.set(l,Tr(qr.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Zr.set(l,Tr(Zr.get(l)||null,e,t,n,r,o)),!0}return!1}function Md(e){var t=wn(e.target);if(t!==null){var n=On(t);if(n!==null){if(t=n.tag,t===13){if(t=ad(n),t!==null){e.blockedOn=t,Sd(e.priority,function(){vd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ms(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ss=r,n.target.dispatchEvent(r),ss=null}else return t=vo(n),t!==null&&oa(t),e.blockedOn=n,!1;t.shift()}return!0}function hu(e,t,n){Xo(e)&&n.delete(t)}function Kp(){fs=!1,on!==null&&Xo(on)&&(on=null),ln!==null&&Xo(ln)&&(ln=null),sn!==null&&Xo(sn)&&(sn=null),qr.forEach(hu),Zr.forEach(hu)}function Ar(e,t){e.blockedOn===t&&(e.blockedOn=null,fs||(fs=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,Kp)))}function eo(e){function t(o){return Ar(o,e)}if(0<Lo.length){Ar(Lo[0],e);for(var n=1;n<Lo.length;n++){var r=Lo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(on!==null&&Ar(on,e),ln!==null&&Ar(ln,e),sn!==null&&Ar(sn,e),qr.forEach(t),Zr.forEach(t),n=0;n<en.length;n++)r=en[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<en.length&&(n=en[0],n.blockedOn===null);)Md(n),n.blockedOn===null&&en.shift()}var ir=Gt.ReactCurrentBatchConfig,pi=!0;function Qp(e,t,n,r){var o=oe,l=ir.transition;ir.transition=null;try{oe=1,ia(e,t,n,r)}finally{oe=o,ir.transition=l}}function Yp(e,t,n,r){var o=oe,l=ir.transition;ir.transition=null;try{oe=4,ia(e,t,n,r)}finally{oe=o,ir.transition=l}}function ia(e,t,n,r){if(pi){var o=ms(e,t,n,r);if(o===null)Tl(e,t,r,hi,n),pu(e,r);else if(Wp(o,e,t,n,r))r.stopPropagation();else if(pu(e,r),t&4&&-1<Gp.indexOf(e)){for(;o!==null;){var l=vo(o);if(l!==null&&gd(l),l=ms(e,t,n,r),l===null&&Tl(e,t,r,hi,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else Tl(e,t,r,null,n)}}var hi=null;function ms(e,t,n,r){if(hi=null,e=ta(r),e=wn(e),e!==null)if(t=On(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ad(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hi=e,null}function Pd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lp()){case na:return 1;case fd:return 4;case fi:case bp:return 16;case md:return 536870912;default:return 16}default:return 16}}var nn=null,la=null,Jo=null;function Ed(){if(Jo)return Jo;var e,t=la,n=t.length,r,o="value"in nn?nn.value:nn.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[l-r];r++);return Jo=o.slice(e,1<r?1-r:void 0)}function qo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bo(){return!0}function gu(){return!1}function at(e){function t(n,r,o,l,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(l):l[s]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?bo:gu,this.isPropagationStopped=gu,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),t}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=at(yr),go=Se({},yr,{view:0,detail:0}),Xp=at(go),Pl,El,Dr,bi=Se({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dr&&(Dr&&e.type==="mousemove"?(Pl=e.screenX-Dr.screenX,El=e.screenY-Dr.screenY):El=Pl=0,Dr=e),Pl)},movementY:function(e){return"movementY"in e?e.movementY:El}}),vu=at(bi),Jp=Se({},bi,{dataTransfer:0}),qp=at(Jp),Zp=Se({},go,{relatedTarget:0}),xl=at(Zp),eh=Se({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),th=at(eh),nh=Se({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rh=at(nh),oh=Se({},yr,{data:0}),yu=at(oh),ih={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ah(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sh[e])?!!t[e]:!1}function aa(){return ah}var uh=Se({},go,{key:function(e){if(e.key){var t=ih[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(e){return e.type==="keypress"?qo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ch=at(uh),dh=Se({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Su=at(dh),fh=Se({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),mh=at(fh),ph=Se({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hh=at(ph),gh=Se({},bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vh=at(gh),yh=[9,13,27,32],ua=Bt&&"CompositionEvent"in window,zr=null;Bt&&"documentMode"in document&&(zr=document.documentMode);var Sh=Bt&&"TextEvent"in window&&!zr,xd=Bt&&(!ua||zr&&8<zr&&11>=zr),Mu=" ",Pu=!1;function _d(e,t){switch(e){case"keyup":return yh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wn=!1;function Mh(e,t){switch(e){case"compositionend":return wd(t);case"keypress":return t.which!==32?null:(Pu=!0,Mu);case"textInput":return e=t.data,e===Mu&&Pu?null:e;default:return null}}function Ph(e,t){if(Wn)return e==="compositionend"||!ua&&_d(e,t)?(e=Ed(),Jo=la=nn=null,Wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xd&&t.locale!=="ko"?null:t.data;default:return null}}var Eh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Eh[e.type]:t==="textarea"}function kd(e,t,n,r){rd(r),t=gi(t,"onChange"),0<t.length&&(n=new sa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vr=null,to=null;function xh(e){bd(e,0)}function Oi(e){var t=Yn(e);if(Xc(t))return e}function _h(e,t){if(e==="change")return t}var Id=!1;if(Bt){var _l;if(Bt){var wl="oninput"in document;if(!wl){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),wl=typeof xu.oninput=="function"}_l=wl}else _l=!1;Id=_l&&(!document.documentMode||9<document.documentMode)}function _u(){Vr&&(Vr.detachEvent("onpropertychange",Cd),to=Vr=null)}function Cd(e){if(e.propertyName==="value"&&Oi(to)){var t=[];kd(t,to,e,ta(e)),sd(xh,t)}}function wh(e,t,n){e==="focusin"?(_u(),Vr=t,to=n,Vr.attachEvent("onpropertychange",Cd)):e==="focusout"&&_u()}function kh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oi(to)}function Ih(e,t){if(e==="click")return Oi(t)}function Ch(e,t){if(e==="input"||e==="change")return Oi(t)}function Nh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:Nh;function no(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Yl.call(t,o)||!_t(e[o],t[o]))return!1}return!0}function wu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ku(e,t){var n=wu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wu(n)}}function Nd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Td(){for(var e=window,t=ui();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ui(e.document)}return t}function ca(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Th(e){var t=Td(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nd(n.ownerDocument.documentElement,n)){if(r!==null&&ca(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=ku(n,l);var i=ku(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ah=Bt&&"documentMode"in document&&11>=document.documentMode,Kn=null,ps=null,Ur=null,hs=!1;function Iu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hs||Kn==null||Kn!==ui(r)||(r=Kn,"selectionStart"in r&&ca(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ur&&no(Ur,r)||(Ur=r,r=gi(ps,"onSelect"),0<r.length&&(t=new sa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Kn)))}function Oo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qn={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionend:Oo("Transition","TransitionEnd")},kl={},Ad={};Bt&&(Ad=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function Fi(e){if(kl[e])return kl[e];if(!Qn[e])return e;var t=Qn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ad)return kl[e]=t[n];return e}var Dd=Fi("animationend"),jd=Fi("animationiteration"),Rd=Fi("animationstart"),$d=Fi("transitionend"),Ld=new Map,Cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(e,t){Ld.set(e,t),bn(t,[e])}for(var Il=0;Il<Cu.length;Il++){var Cl=Cu[Il],Dh=Cl.toLowerCase(),jh=Cl[0].toUpperCase()+Cl.slice(1);vn(Dh,"on"+jh)}vn(Dd,"onAnimationEnd");vn(jd,"onAnimationIteration");vn(Rd,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn($d,"onTransitionEnd");ar("onMouseEnter",["mouseout","mouseover"]);ar("onMouseLeave",["mouseout","mouseover"]);ar("onPointerEnter",["pointerout","pointerover"]);ar("onPointerLeave",["pointerout","pointerover"]);bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Nu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Dp(r,t,void 0,e),e.currentTarget=null}function bd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==l&&o.isPropagationStopped())break e;Nu(o,s,u),l=a}else for(i=0;i<r.length;i++){if(s=r[i],a=s.instance,u=s.currentTarget,s=s.listener,a!==l&&o.isPropagationStopped())break e;Nu(o,s,u),l=a}}}if(di)throw e=cs,di=!1,cs=null,e}function fe(e,t){var n=t[Ms];n===void 0&&(n=t[Ms]=new Set);var r=e+"__bubble";n.has(r)||(Od(t,e,2,!1),n.add(r))}function Nl(e,t,n){var r=0;t&&(r|=4),Od(n,e,r,t)}var Fo="_reactListening"+Math.random().toString(36).slice(2);function ro(e){if(!e[Fo]){e[Fo]=!0,Gc.forEach(function(n){n!=="selectionchange"&&(Rh.has(n)||Nl(n,!1,e),Nl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fo]||(t[Fo]=!0,Nl("selectionchange",!1,t))}}function Od(e,t,n,r){switch(Pd(t)){case 1:var o=Qp;break;case 4:o=Yp;break;default:o=ia}n=o.bind(null,t,n,e),o=void 0,!us||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Tl(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var a=i.tag;if((a===3||a===4)&&(a=i.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;i=i.return}for(;s!==null;){if(i=wn(s),i===null)return;if(a=i.tag,a===5||a===6){r=l=i;continue e}s=s.parentNode}}r=r.return}sd(function(){var u=l,d=ta(n),p=[];e:{var m=Ld.get(e);if(m!==void 0){var g=sa,y=e;switch(e){case"keypress":if(qo(n)===0)break e;case"keydown":case"keyup":g=ch;break;case"focusin":y="focus",g=xl;break;case"focusout":y="blur",g=xl;break;case"beforeblur":case"afterblur":g=xl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=mh;break;case Dd:case jd:case Rd:g=th;break;case $d:g=hh;break;case"scroll":g=Xp;break;case"wheel":g=vh;break;case"copy":case"cut":case"paste":g=rh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Su}var E=(t&4)!==0,R=!E&&e==="scroll",f=E?m!==null?m+"Capture":null:m;E=[];for(var c=u,h;c!==null;){h=c;var S=h.stateNode;if(h.tag===5&&S!==null&&(h=S,f!==null&&(S=Jr(c,f),S!=null&&E.push(oo(c,S,h)))),R)break;c=c.return}0<E.length&&(m=new g(m,y,null,n,d),p.push({event:m,listeners:E}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==ss&&(y=n.relatedTarget||n.fromElement)&&(wn(y)||y[Ht]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?wn(y):null,y!==null&&(R=On(y),y!==R||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(E=vu,S="onMouseLeave",f="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(E=Su,S="onPointerLeave",f="onPointerEnter",c="pointer"),R=g==null?m:Yn(g),h=y==null?m:Yn(y),m=new E(S,c+"leave",g,n,d),m.target=R,m.relatedTarget=h,S=null,wn(d)===u&&(E=new E(f,c+"enter",y,n,d),E.target=h,E.relatedTarget=R,S=E),R=S,g&&y)t:{for(E=g,f=y,c=0,h=E;h;h=Vn(h))c++;for(h=0,S=f;S;S=Vn(S))h++;for(;0<c-h;)E=Vn(E),c--;for(;0<h-c;)f=Vn(f),h--;for(;c--;){if(E===f||f!==null&&E===f.alternate)break t;E=Vn(E),f=Vn(f)}E=null}else E=null;g!==null&&Tu(p,m,g,E,!1),y!==null&&R!==null&&Tu(p,R,y,E,!0)}}e:{if(m=u?Yn(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var _=_h;else if(Eu(m))if(Id)_=Ch;else{_=kh;var T=wh}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=Ih);if(_&&(_=_(e,u))){kd(p,_,n,d);break e}T&&T(e,m,u),e==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&ns(m,"number",m.value)}switch(T=u?Yn(u):window,e){case"focusin":(Eu(T)||T.contentEditable==="true")&&(Kn=T,ps=u,Ur=null);break;case"focusout":Ur=ps=Kn=null;break;case"mousedown":hs=!0;break;case"contextmenu":case"mouseup":case"dragend":hs=!1,Iu(p,n,d);break;case"selectionchange":if(Ah)break;case"keydown":case"keyup":Iu(p,n,d)}var M;if(ua)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Wn?_d(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(xd&&n.locale!=="ko"&&(Wn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Wn&&(M=Ed()):(nn=d,la="value"in nn?nn.value:nn.textContent,Wn=!0)),T=gi(u,P),0<T.length&&(P=new yu(P,e,null,n,d),p.push({event:P,listeners:T}),M?P.data=M:(M=wd(n),M!==null&&(P.data=M)))),(M=Sh?Mh(e,n):Ph(e,n))&&(u=gi(u,"onBeforeInput"),0<u.length&&(d=new yu("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=M))}bd(p,t)})}function oo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Jr(e,n),l!=null&&r.unshift(oo(e,l,o)),l=Jr(e,t),l!=null&&r.push(oo(e,l,o))),e=e.return}return r}function Vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Tu(e,t,n,r,o){for(var l=t._reactName,i=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,o?(a=Jr(n,l),a!=null&&i.unshift(oo(n,a,s))):o||(a=Jr(n,l),a!=null&&i.push(oo(n,a,s)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var $h=/\r\n?/g,Lh=/\u0000|\uFFFD/g;function Au(e){return(typeof e=="string"?e:""+e).replace($h,`
`).replace(Lh,"")}function Bo(e,t,n){if(t=Au(t),Au(e)!==t&&n)throw Error(I(425))}function vi(){}var gs=null,vs=null;function ys(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ss=typeof setTimeout=="function"?setTimeout:void 0,bh=typeof clearTimeout=="function"?clearTimeout:void 0,Du=typeof Promise=="function"?Promise:void 0,Oh=typeof queueMicrotask=="function"?queueMicrotask:typeof Du<"u"?function(e){return Du.resolve(null).then(e).catch(Fh)}:Ss;function Fh(e){setTimeout(function(){throw e})}function Al(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),eo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);eo(t)}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ju(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Sr,io="__reactProps$"+Sr,Ht="__reactContainer$"+Sr,Ms="__reactEvents$"+Sr,Bh="__reactListeners$"+Sr,Hh="__reactHandles$"+Sr;function wn(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ht]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ju(e);e!==null;){if(n=e[Nt])return n;e=ju(e)}return t}e=n,n=e.parentNode}return null}function vo(e){return e=e[Nt]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Bi(e){return e[io]||null}var Ps=[],Xn=-1;function yn(e){return{current:e}}function me(e){0>Xn||(e.current=Ps[Xn],Ps[Xn]=null,Xn--)}function ce(e,t){Xn++,Ps[Xn]=e.current,e.current=t}var pn={},Be=yn(pn),qe=yn(!1),Dn=pn;function ur(e,t){var n=e.type.contextTypes;if(!n)return pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ze(e){return e=e.childContextTypes,e!=null}function yi(){me(qe),me(Be)}function Ru(e,t,n){if(Be.current!==pn)throw Error(I(168));ce(Be,t),ce(qe,n)}function Fd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(I(108,wp(e)||"Unknown",o));return Se({},n,r)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pn,Dn=Be.current,ce(Be,e),ce(qe,qe.current),!0}function $u(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=Fd(e,t,Dn),r.__reactInternalMemoizedMergedChildContext=e,me(qe),me(Be),ce(Be,e)):me(qe),ce(qe,n)}var $t=null,Hi=!1,Dl=!1;function Bd(e){$t===null?$t=[e]:$t.push(e)}function zh(e){Hi=!0,Bd(e)}function Sn(){if(!Dl&&$t!==null){Dl=!0;var e=0,t=oe;try{var n=$t;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$t=null,Hi=!1}catch(o){throw $t!==null&&($t=$t.slice(e+1)),dd(na,Sn),o}finally{oe=t,Dl=!1}}return null}var Jn=[],qn=0,Mi=null,Pi=0,ct=[],dt=0,jn=null,bt=1,Ot="";function xn(e,t){Jn[qn++]=Pi,Jn[qn++]=Mi,Mi=e,Pi=t}function Hd(e,t,n){ct[dt++]=bt,ct[dt++]=Ot,ct[dt++]=jn,jn=e;var r=bt;e=Ot;var o=32-Et(r)-1;r&=~(1<<o),n+=1;var l=32-Et(t)+o;if(30<l){var i=o-o%5;l=(r&(1<<i)-1).toString(32),r>>=i,o-=i,bt=1<<32-Et(t)+o|n<<o|r,Ot=l+e}else bt=1<<l|n<<o|r,Ot=e}function da(e){e.return!==null&&(xn(e,1),Hd(e,1,0))}function fa(e){for(;e===Mi;)Mi=Jn[--qn],Jn[qn]=null,Pi=Jn[--qn],Jn[qn]=null;for(;e===jn;)jn=ct[--dt],ct[dt]=null,Ot=ct[--dt],ct[dt]=null,bt=ct[--dt],ct[dt]=null}var it=null,ot=null,he=!1,Pt=null;function zd(e,t){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,ot=an(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jn!==null?{id:bt,overflow:Ot}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,it=e,ot=null,!0):!1;default:return!1}}function Es(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xs(e){if(he){var t=ot;if(t){var n=t;if(!Lu(e,t)){if(Es(e))throw Error(I(418));t=an(n.nextSibling);var r=it;t&&Lu(e,t)?zd(r,n):(e.flags=e.flags&-4097|2,he=!1,it=e)}}else{if(Es(e))throw Error(I(418));e.flags=e.flags&-4097|2,he=!1,it=e}}}function bu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function Ho(e){if(e!==it)return!1;if(!he)return bu(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ys(e.type,e.memoizedProps)),t&&(t=ot)){if(Es(e))throw Vd(),Error(I(418));for(;t;)zd(e,t),t=an(t.nextSibling)}if(bu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=an(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=it?an(e.stateNode.nextSibling):null;return!0}function Vd(){for(var e=ot;e;)e=an(e.nextSibling)}function cr(){ot=it=null,he=!1}function ma(e){Pt===null?Pt=[e]:Pt.push(e)}var Vh=Gt.ReactCurrentBatchConfig;function jr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var s=o.refs;i===null?delete s[l]:s[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function zo(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ou(e){var t=e._init;return t(e._payload)}function Ud(e){function t(f,c){if(e){var h=f.deletions;h===null?(f.deletions=[c],f.flags|=16):h.push(c)}}function n(f,c){if(!e)return null;for(;c!==null;)t(f,c),c=c.sibling;return null}function r(f,c){for(f=new Map;c!==null;)c.key!==null?f.set(c.key,c):f.set(c.index,c),c=c.sibling;return f}function o(f,c){return f=fn(f,c),f.index=0,f.sibling=null,f}function l(f,c,h){return f.index=h,e?(h=f.alternate,h!==null?(h=h.index,h<c?(f.flags|=2,c):h):(f.flags|=2,c)):(f.flags|=1048576,c)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function s(f,c,h,S){return c===null||c.tag!==6?(c=Fl(h,f.mode,S),c.return=f,c):(c=o(c,h),c.return=f,c)}function a(f,c,h,S){var _=h.type;return _===Gn?d(f,c,h.props.children,S,h.key):c!==null&&(c.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===qt&&Ou(_)===c.type)?(S=o(c,h.props),S.ref=jr(f,c,h),S.return=f,S):(S=ii(h.type,h.key,h.props,null,f.mode,S),S.ref=jr(f,c,h),S.return=f,S)}function u(f,c,h,S){return c===null||c.tag!==4||c.stateNode.containerInfo!==h.containerInfo||c.stateNode.implementation!==h.implementation?(c=Bl(h,f.mode,S),c.return=f,c):(c=o(c,h.children||[]),c.return=f,c)}function d(f,c,h,S,_){return c===null||c.tag!==7?(c=Nn(h,f.mode,S,_),c.return=f,c):(c=o(c,h),c.return=f,c)}function p(f,c,h){if(typeof c=="string"&&c!==""||typeof c=="number")return c=Fl(""+c,f.mode,h),c.return=f,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Ao:return h=ii(c.type,c.key,c.props,null,f.mode,h),h.ref=jr(f,null,c),h.return=f,h;case Un:return c=Bl(c,f.mode,h),c.return=f,c;case qt:var S=c._init;return p(f,S(c._payload),h)}if(br(c)||Cr(c))return c=Nn(c,f.mode,h,null),c.return=f,c;zo(f,c)}return null}function m(f,c,h,S){var _=c!==null?c.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return _!==null?null:s(f,c,""+h,S);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ao:return h.key===_?a(f,c,h,S):null;case Un:return h.key===_?u(f,c,h,S):null;case qt:return _=h._init,m(f,c,_(h._payload),S)}if(br(h)||Cr(h))return _!==null?null:d(f,c,h,S,null);zo(f,h)}return null}function g(f,c,h,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return f=f.get(h)||null,s(c,f,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ao:return f=f.get(S.key===null?h:S.key)||null,a(c,f,S,_);case Un:return f=f.get(S.key===null?h:S.key)||null,u(c,f,S,_);case qt:var T=S._init;return g(f,c,h,T(S._payload),_)}if(br(S)||Cr(S))return f=f.get(h)||null,d(c,f,S,_,null);zo(c,S)}return null}function y(f,c,h,S){for(var _=null,T=null,M=c,P=c=0,D=null;M!==null&&P<h.length;P++){M.index>P?(D=M,M=null):D=M.sibling;var N=m(f,M,h[P],S);if(N===null){M===null&&(M=D);break}e&&M&&N.alternate===null&&t(f,M),c=l(N,c,P),T===null?_=N:T.sibling=N,T=N,M=D}if(P===h.length)return n(f,M),he&&xn(f,P),_;if(M===null){for(;P<h.length;P++)M=p(f,h[P],S),M!==null&&(c=l(M,c,P),T===null?_=M:T.sibling=M,T=M);return he&&xn(f,P),_}for(M=r(f,M);P<h.length;P++)D=g(M,f,P,h[P],S),D!==null&&(e&&D.alternate!==null&&M.delete(D.key===null?P:D.key),c=l(D,c,P),T===null?_=D:T.sibling=D,T=D);return e&&M.forEach(function(H){return t(f,H)}),he&&xn(f,P),_}function E(f,c,h,S){var _=Cr(h);if(typeof _!="function")throw Error(I(150));if(h=_.call(h),h==null)throw Error(I(151));for(var T=_=null,M=c,P=c=0,D=null,N=h.next();M!==null&&!N.done;P++,N=h.next()){M.index>P?(D=M,M=null):D=M.sibling;var H=m(f,M,N.value,S);if(H===null){M===null&&(M=D);break}e&&M&&H.alternate===null&&t(f,M),c=l(H,c,P),T===null?_=H:T.sibling=H,T=H,M=D}if(N.done)return n(f,M),he&&xn(f,P),_;if(M===null){for(;!N.done;P++,N=h.next())N=p(f,N.value,S),N!==null&&(c=l(N,c,P),T===null?_=N:T.sibling=N,T=N);return he&&xn(f,P),_}for(M=r(f,M);!N.done;P++,N=h.next())N=g(M,f,P,N.value,S),N!==null&&(e&&N.alternate!==null&&M.delete(N.key===null?P:N.key),c=l(N,c,P),T===null?_=N:T.sibling=N,T=N);return e&&M.forEach(function(W){return t(f,W)}),he&&xn(f,P),_}function R(f,c,h,S){if(typeof h=="object"&&h!==null&&h.type===Gn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ao:e:{for(var _=h.key,T=c;T!==null;){if(T.key===_){if(_=h.type,_===Gn){if(T.tag===7){n(f,T.sibling),c=o(T,h.props.children),c.return=f,f=c;break e}}else if(T.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===qt&&Ou(_)===T.type){n(f,T.sibling),c=o(T,h.props),c.ref=jr(f,T,h),c.return=f,f=c;break e}n(f,T);break}else t(f,T);T=T.sibling}h.type===Gn?(c=Nn(h.props.children,f.mode,S,h.key),c.return=f,f=c):(S=ii(h.type,h.key,h.props,null,f.mode,S),S.ref=jr(f,c,h),S.return=f,f=S)}return i(f);case Un:e:{for(T=h.key;c!==null;){if(c.key===T)if(c.tag===4&&c.stateNode.containerInfo===h.containerInfo&&c.stateNode.implementation===h.implementation){n(f,c.sibling),c=o(c,h.children||[]),c.return=f,f=c;break e}else{n(f,c);break}else t(f,c);c=c.sibling}c=Bl(h,f.mode,S),c.return=f,f=c}return i(f);case qt:return T=h._init,R(f,c,T(h._payload),S)}if(br(h))return y(f,c,h,S);if(Cr(h))return E(f,c,h,S);zo(f,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,c!==null&&c.tag===6?(n(f,c.sibling),c=o(c,h),c.return=f,f=c):(n(f,c),c=Fl(h,f.mode,S),c.return=f,f=c),i(f)):n(f,c)}return R}var dr=Ud(!0),Gd=Ud(!1),Ei=yn(null),xi=null,Zn=null,pa=null;function ha(){pa=Zn=xi=null}function ga(e){var t=Ei.current;me(Ei),e._currentValue=t}function _s(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lr(e,t){xi=e,pa=Zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(pa!==e)if(e={context:e,memoizedValue:t,next:null},Zn===null){if(xi===null)throw Error(I(308));Zn=e,xi.dependencies={lanes:0,firstContext:e}}else Zn=Zn.next=e;return t}var kn=null;function va(e){kn===null?kn=[e]:kn.push(e)}function Wd(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,va(t)):(n.next=o.next,o.next=n),t.interleaved=n,zt(e,r)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zt=!1;function ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,zt(e,n)}return o=r.interleaved,o===null?(t.next=t,va(r)):(t.next=o.next,o.next=t),r.interleaved=t,zt(e,n)}function Zo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ra(e,n)}}function Fu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _i(e,t,n,r){var o=e.updateQueue;Zt=!1;var l=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var a=s,u=a.next;a.next=null,i===null?l=u:i.next=u,i=a;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==i&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=a))}if(l!==null){var p=o.baseState;i=0,d=u=a=null,s=l;do{var m=s.lane,g=s.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=e,E=s;switch(m=t,g=n,E.tag){case 1:if(y=E.payload,typeof y=="function"){p=y.call(g,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=E.payload,m=typeof y=="function"?y.call(g,p,m):y,m==null)break e;p=Se({},p,m);break e;case 2:Zt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,m=o.effects,m===null?o.effects=[s]:m.push(s))}else g={eventTime:g,lane:m,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=g,a=p):d=d.next=g,i|=m;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;m=s,s=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(d===null&&(a=p),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);$n|=i,e.lanes=i,e.memoizedState=p}}function Bu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(I(191,o));o.call(r)}}}var yo={},At=yn(yo),lo=yn(yo),so=yn(yo);function In(e){if(e===yo)throw Error(I(174));return e}function Sa(e,t){switch(ce(so,t),ce(lo,e),ce(At,yo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:os(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=os(t,e)}me(At),ce(At,t)}function fr(){me(At),me(lo),me(so)}function Qd(e){In(so.current);var t=In(At.current),n=os(t,e.type);t!==n&&(ce(lo,e),ce(At,n))}function Ma(e){lo.current===e&&(me(At),me(lo))}var ve=yn(0);function wi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jl=[];function Pa(){for(var e=0;e<jl.length;e++)jl[e]._workInProgressVersionPrimary=null;jl.length=0}var ei=Gt.ReactCurrentDispatcher,Rl=Gt.ReactCurrentBatchConfig,Rn=0,ye=null,Ce=null,Ae=null,ki=!1,Gr=!1,ao=0,Uh=0;function be(){throw Error(I(321))}function Ea(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function xa(e,t,n,r,o,l){if(Rn=l,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ei.current=e===null||e.memoizedState===null?Qh:Yh,e=n(r,o),Gr){l=0;do{if(Gr=!1,ao=0,25<=l)throw Error(I(301));l+=1,Ae=Ce=null,t.updateQueue=null,ei.current=Xh,e=n(r,o)}while(Gr)}if(ei.current=Ii,t=Ce!==null&&Ce.next!==null,Rn=0,Ae=Ce=ye=null,ki=!1,t)throw Error(I(300));return e}function _a(){var e=ao!==0;return ao=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?ye.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ht(){if(Ce===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Ae===null?ye.memoizedState:Ae.next;if(t!==null)Ae=t,Ce=e;else{if(e===null)throw Error(I(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ae===null?ye.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function uo(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=ht(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=Ce,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var i=o.next;o.next=l.next,l.next=i}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var s=i=null,a=null,u=l;do{var d=u.lane;if((Rn&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=p,i=r):a=a.next=p,ye.lanes|=d,$n|=d}u=u.next}while(u!==null&&u!==l);a===null?i=r:a.next=s,_t(r,t.memoizedState)||(Je=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,ye.lanes|=l,$n|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ll(e){var t=ht(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do l=e(l,i.action),i=i.next;while(i!==o);_t(l,t.memoizedState)||(Je=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Yd(){}function Xd(e,t){var n=ye,r=ht(),o=t(),l=!_t(r.memoizedState,o);if(l&&(r.memoizedState=o,Je=!0),r=r.queue,wa(Zd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,co(9,qd.bind(null,n,r,o,t),void 0,null),De===null)throw Error(I(349));Rn&30||Jd(n,t,o)}return o}function Jd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qd(e,t,n,r){t.value=n,t.getSnapshot=r,ef(t)&&tf(e)}function Zd(e,t,n){return n(function(){ef(t)&&tf(e)})}function ef(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function tf(e){var t=zt(e,1);t!==null&&xt(t,e,1,-1)}function Hu(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e},t.queue=e,e=e.dispatch=Kh.bind(null,ye,e),[t.memoizedState,e]}function co(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nf(){return ht().memoizedState}function ti(e,t,n,r){var o=Ct();ye.flags|=e,o.memoizedState=co(1|t,n,void 0,r===void 0?null:r)}function zi(e,t,n,r){var o=ht();r=r===void 0?null:r;var l=void 0;if(Ce!==null){var i=Ce.memoizedState;if(l=i.destroy,r!==null&&Ea(r,i.deps)){o.memoizedState=co(t,n,l,r);return}}ye.flags|=e,o.memoizedState=co(1|t,n,l,r)}function zu(e,t){return ti(8390656,8,e,t)}function wa(e,t){return zi(2048,8,e,t)}function rf(e,t){return zi(4,2,e,t)}function of(e,t){return zi(4,4,e,t)}function lf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sf(e,t,n){return n=n!=null?n.concat([e]):null,zi(4,4,lf.bind(null,t,e),n)}function ka(){}function af(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function uf(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function cf(e,t,n){return Rn&21?(_t(n,t)||(n=pd(),ye.lanes|=n,$n|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=n)}function Gh(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=Rl.transition;Rl.transition={};try{e(!1),t()}finally{oe=n,Rl.transition=r}}function df(){return ht().memoizedState}function Wh(e,t,n){var r=dn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ff(e))mf(t,n);else if(n=Wd(e,t,n,r),n!==null){var o=Ge();xt(n,e,r,o),pf(n,t,r)}}function Kh(e,t,n){var r=dn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ff(e))mf(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,s=l(i,n);if(o.hasEagerState=!0,o.eagerState=s,_t(s,i)){var a=t.interleaved;a===null?(o.next=o,va(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=Wd(e,t,o,r),n!==null&&(o=Ge(),xt(n,e,r,o),pf(n,t,r))}}function ff(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function mf(e,t){Gr=ki=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ra(e,n)}}var Ii={readContext:pt,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Qh={readContext:pt,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:zu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ti(4194308,4,lf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return ti(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wh.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:Hu,useDebugValue:ka,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=Hu(!1),t=e[0];return e=Gh.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,o=Ct();if(he){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),De===null)throw Error(I(349));Rn&30||Jd(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,zu(Zd.bind(null,r,l,e),[e]),r.flags|=2048,co(9,qd.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Ct(),t=De.identifierPrefix;if(he){var n=Ot,r=bt;n=(r&~(1<<32-Et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ao++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Uh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yh={readContext:pt,useCallback:af,useContext:pt,useEffect:wa,useImperativeHandle:sf,useInsertionEffect:rf,useLayoutEffect:of,useMemo:uf,useReducer:$l,useRef:nf,useState:function(){return $l(uo)},useDebugValue:ka,useDeferredValue:function(e){var t=ht();return cf(t,Ce.memoizedState,e)},useTransition:function(){var e=$l(uo)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Yd,useSyncExternalStore:Xd,useId:df,unstable_isNewReconciler:!1},Xh={readContext:pt,useCallback:af,useContext:pt,useEffect:wa,useImperativeHandle:sf,useInsertionEffect:rf,useLayoutEffect:of,useMemo:uf,useReducer:Ll,useRef:nf,useState:function(){return Ll(uo)},useDebugValue:ka,useDeferredValue:function(e){var t=ht();return Ce===null?t.memoizedState=e:cf(t,Ce.memoizedState,e)},useTransition:function(){var e=Ll(uo)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Yd,useSyncExternalStore:Xd,useId:df,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ws(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vi={isMounted:function(e){return(e=e._reactInternals)?On(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ge(),o=dn(e),l=Ft(r,o);l.payload=t,n!=null&&(l.callback=n),t=un(e,l,o),t!==null&&(xt(t,e,o,r),Zo(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ge(),o=dn(e),l=Ft(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=un(e,l,o),t!==null&&(xt(t,e,o,r),Zo(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),r=dn(e),o=Ft(n,r);o.tag=2,t!=null&&(o.callback=t),t=un(e,o,r),t!==null&&(xt(t,e,r,n),Zo(t,e,r))}};function Vu(e,t,n,r,o,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!no(n,r)||!no(o,l):!0}function hf(e,t,n){var r=!1,o=pn,l=t.contextType;return typeof l=="object"&&l!==null?l=pt(l):(o=Ze(t)?Dn:Be.current,r=t.contextTypes,l=(r=r!=null)?ur(e,o):pn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function Uu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vi.enqueueReplaceState(t,t.state,null)}function ks(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},ya(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=pt(l):(l=Ze(t)?Dn:Be.current,o.context=ur(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ws(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Vi.enqueueReplaceState(o,o.state,null),_i(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,t){try{var n="",r=t;do n+=_p(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function bl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Is(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Jh=typeof WeakMap=="function"?WeakMap:Map;function gf(e,t,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ni||(Ni=!0,bs=r),Is(e,t)},n}function vf(e,t,n){n=Ft(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Is(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Is(e,t),typeof r!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Gu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Jh;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=dg.bind(null,e,t,n),t.then(e,e))}function Wu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ku(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ft(-1,1),t.tag=2,un(n,t,1))),n.lanes|=1),e)}var qh=Gt.ReactCurrentOwner,Je=!1;function Ve(e,t,n,r){t.child=e===null?Gd(t,null,n,r):dr(t,e.child,n,r)}function Qu(e,t,n,r,o){n=n.render;var l=t.ref;return lr(t,o),r=xa(e,t,n,r,l,o),n=_a(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vt(e,t,o)):(he&&n&&da(t),t.flags|=1,Ve(e,t,r,o),t.child)}function Yu(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!Ra(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,yf(e,t,l,r,o)):(e=ii(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:no,n(i,r)&&e.ref===t.ref)return Vt(e,t,o)}return t.flags|=1,e=fn(l,r),e.ref=t.ref,e.return=t,t.child=e}function yf(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(no(l,r)&&e.ref===t.ref)if(Je=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,Vt(e,t,o)}return Cs(e,t,n,r,o)}function Sf(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(tr,rt),rt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(tr,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,ce(tr,rt),rt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,ce(tr,rt),rt|=r;return Ve(e,t,o,n),t.child}function Mf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,o){var l=Ze(n)?Dn:Be.current;return l=ur(t,l),lr(t,o),n=xa(e,t,n,r,l,o),r=_a(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vt(e,t,o)):(he&&r&&da(t),t.flags|=1,Ve(e,t,n,o),t.child)}function Xu(e,t,n,r,o){if(Ze(n)){var l=!0;Si(t)}else l=!1;if(lr(t,o),t.stateNode===null)ni(e,t),hf(t,n,r),ks(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var a=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=pt(u):(u=Ze(n)?Dn:Be.current,u=ur(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==r||a!==u)&&Uu(t,i,r,u),Zt=!1;var m=t.memoizedState;i.state=m,_i(t,r,i,o),a=t.memoizedState,s!==r||m!==a||qe.current||Zt?(typeof d=="function"&&(ws(t,n,d,r),a=t.memoizedState),(s=Zt||Vu(t,n,s,r,m,a,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),i.props=r,i.state=a,i.context=u,r=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Kd(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:yt(t.type,s),i.props=u,p=t.pendingProps,m=i.context,a=n.contextType,typeof a=="object"&&a!==null?a=pt(a):(a=Ze(n)?Dn:Be.current,a=ur(t,a));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==p||m!==a)&&Uu(t,i,r,a),Zt=!1,m=t.memoizedState,i.state=m,_i(t,r,i,o);var y=t.memoizedState;s!==p||m!==y||qe.current||Zt?(typeof g=="function"&&(ws(t,n,g,r),y=t.memoizedState),(u=Zt||Vu(t,n,u,r,m,y,a)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,a),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,a)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=a,r=u):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,l,o)}function Ns(e,t,n,r,o,l){Mf(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&$u(t,n,!1),Vt(e,t,l);r=t.stateNode,qh.current=t;var s=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=dr(t,e.child,null,l),t.child=dr(t,null,s,l)):Ve(e,t,s,l),t.memoizedState=r.state,o&&$u(t,n,!0),t.child}function Pf(e){var t=e.stateNode;t.pendingContext?Ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ru(e,t.context,!1),Sa(e,t.containerInfo)}function Ju(e,t,n,r,o){return cr(),ma(o),t.flags|=256,Ve(e,t,n,r),t.child}var Ts={dehydrated:null,treeContext:null,retryLane:0};function As(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ef(e,t,n){var r=t.pendingProps,o=ve.current,l=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ce(ve,o&1),e===null)return xs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Wi(i,r,0,null),e=Nn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=As(n),t.memoizedState=Ts,e):Ia(t,i));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return Zh(e,t,i,r,s,o,n);if(l){l=r.fallback,i=t.mode,o=e.child,s=o.sibling;var a={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=fn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?l=fn(s,l):(l=Nn(l,i,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?As(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=Ts,r}return l=e.child,e=l.sibling,r=fn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ia(e,t){return t=Wi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vo(e,t,n,r){return r!==null&&ma(r),dr(t,e.child,null,n),e=Ia(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zh(e,t,n,r,o,l,i){if(n)return t.flags&256?(t.flags&=-257,r=bl(Error(I(422))),Vo(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=Wi({mode:"visible",children:r.children},o,0,null),l=Nn(l,o,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&dr(t,e.child,null,i),t.child.memoizedState=As(i),t.memoizedState=Ts,l);if(!(t.mode&1))return Vo(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,l=Error(I(419)),r=bl(l,r,void 0),Vo(e,t,i,r)}if(s=(i&e.childLanes)!==0,Je||s){if(r=De,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,zt(e,o),xt(r,e,o,-1))}return ja(),r=bl(Error(I(421))),Vo(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=fg.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,ot=an(o.nextSibling),it=t,he=!0,Pt=null,e!==null&&(ct[dt++]=bt,ct[dt++]=Ot,ct[dt++]=jn,bt=e.id,Ot=e.overflow,jn=t),t=Ia(t,r.children),t.flags|=4096,t)}function qu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_s(e.return,t,n)}function Ol(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function xf(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(Ve(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qu(e,n,t);else if(e.tag===19)qu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(ve,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&wi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ol(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&wi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ol(t,!0,n,null,l);break;case"together":Ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ni(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$n|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function eg(e,t,n){switch(t.tag){case 3:Pf(t),cr();break;case 5:Qd(t);break;case 1:Ze(t.type)&&Si(t);break;case 4:Sa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ce(Ei,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?Ef(e,t,n):(ce(ve,ve.current&1),e=Vt(e,t,n),e!==null?e.sibling:null);ce(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xf(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ce(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Sf(e,t,n)}return Vt(e,t,n)}var _f,Ds,wf,kf;_f=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ds=function(){};wf=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,In(At.current);var l=null;switch(n){case"input":o=es(e,o),r=es(e,r),l=[];break;case"select":o=Se({},o,{value:void 0}),r=Se({},r,{value:void 0}),l=[];break;case"textarea":o=rs(e,o),r=rs(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vi)}is(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yr.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var a=r[u];if(s=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(i in s)!s.hasOwnProperty(i)||a&&a.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in a)a.hasOwnProperty(i)&&s[i]!==a[i]&&(n||(n={}),n[i]=a[i])}else n||(l||(l=[]),l.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(l=l||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(l=l||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&fe("scroll",e),l||s===a||(l=[])):(l=l||[]).push(u,a))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};kf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Rr(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tg(e,t,n){var r=t.pendingProps;switch(fa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Ze(t.type)&&yi(),Oe(t),null;case 3:return r=t.stateNode,fr(),me(qe),me(Be),Pa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ho(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pt!==null&&(Bs(Pt),Pt=null))),Ds(e,t),Oe(t),null;case 5:Ma(t);var o=In(so.current);if(n=t.type,e!==null&&t.stateNode!=null)wf(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Oe(t),null}if(e=In(At.current),Ho(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Nt]=t,r[io]=l,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(o=0;o<Fr.length;o++)fe(Fr[o],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":su(r,l),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},fe("invalid",r);break;case"textarea":uu(r,l),fe("invalid",r)}is(n,l),o=null;for(var i in l)if(l.hasOwnProperty(i)){var s=l[i];i==="children"?typeof s=="string"?r.textContent!==s&&(l.suppressHydrationWarning!==!0&&Bo(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(l.suppressHydrationWarning!==!0&&Bo(r.textContent,s,e),o=["children",""+s]):Yr.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&fe("scroll",r)}switch(n){case"input":Do(r),au(r,l,!0);break;case"textarea":Do(r),cu(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=vi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Nt]=t,e[io]=r,_f(e,t,!1,!1),t.stateNode=e;e:{switch(i=ls(n,r),n){case"dialog":fe("cancel",e),fe("close",e),o=r;break;case"iframe":case"object":case"embed":fe("load",e),o=r;break;case"video":case"audio":for(o=0;o<Fr.length;o++)fe(Fr[o],e);o=r;break;case"source":fe("error",e),o=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),o=r;break;case"details":fe("toggle",e),o=r;break;case"input":su(e,r),o=es(e,r),fe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Se({},r,{value:void 0}),fe("invalid",e);break;case"textarea":uu(e,r),o=rs(e,r),fe("invalid",e);break;default:o=r}is(n,o),s=o;for(l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="style"?nd(e,a):l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ed(e,a)):l==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Xr(e,a):typeof a=="number"&&Xr(e,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Yr.hasOwnProperty(l)?a!=null&&l==="onScroll"&&fe("scroll",e):a!=null&&Js(e,l,a,i))}switch(n){case"input":Do(e),au(e,r,!1);break;case"textarea":Do(e),cu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?nr(e,!!r.multiple,l,!1):r.defaultValue!=null&&nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=vi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)kf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=In(so.current),In(At.current),Ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nt]=t,(l=r.nodeValue!==n)&&(e=it,e!==null))switch(e.tag){case 3:Bo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bo(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nt]=t,t.stateNode=r}return Oe(t),null;case 13:if(me(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&ot!==null&&t.mode&1&&!(t.flags&128))Vd(),cr(),t.flags|=98560,l=!1;else if(l=Ho(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(I(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(I(317));l[Nt]=t}else cr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),l=!1}else Pt!==null&&(Bs(Pt),Pt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Ne===0&&(Ne=3):ja())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return fr(),Ds(e,t),e===null&&ro(t.stateNode.containerInfo),Oe(t),null;case 10:return ga(t.type._context),Oe(t),null;case 17:return Ze(t.type)&&yi(),Oe(t),null;case 19:if(me(ve),l=t.memoizedState,l===null)return Oe(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)Rr(l,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=wi(e),i!==null){for(t.flags|=128,Rr(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(ve,ve.current&1|2),t.child}e=e.sibling}l.tail!==null&&_e()>pr&&(t.flags|=128,r=!0,Rr(l,!1),t.lanes=4194304)}else{if(!r)if(e=wi(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!he)return Oe(t),null}else 2*_e()-l.renderingStartTime>pr&&n!==1073741824&&(t.flags|=128,r=!0,Rr(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=_e(),t.sibling=null,n=ve.current,ce(ve,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return Da(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rt&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function ng(e,t){switch(fa(t),t.tag){case 1:return Ze(t.type)&&yi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(),me(qe),me(Be),Pa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ma(t),null;case 13:if(me(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ve),null;case 4:return fr(),null;case 10:return ga(t.type._context),null;case 22:case 23:return Da(),null;case 24:return null;default:return null}}var Uo=!1,Fe=!1,rg=typeof WeakSet=="function"?WeakSet:Set,$=null;function er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(e,t,r)}else n.current=null}function js(e,t,n){try{n()}catch(r){Pe(e,t,r)}}var Zu=!1;function og(e,t){if(gs=pi,e=Td(),ca(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,s=-1,a=-1,u=0,d=0,p=e,m=null;t:for(;;){for(var g;p!==n||o!==0&&p.nodeType!==3||(s=i+o),p!==l||r!==0&&p.nodeType!==3||(a=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===e)break t;if(m===n&&++u===o&&(s=i),m===l&&++d===r&&(a=i),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(vs={focusedElem:e,selectionRange:n},pi=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var E=y.memoizedProps,R=y.memoizedState,f=t.stateNode,c=f.getSnapshotBeforeUpdate(t.elementType===t.type?E:yt(t.type,E),R);f.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){Pe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return y=Zu,Zu=!1,y}function Wr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&js(t,n,l)}o=o.next}while(o!==r)}}function Ui(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Rs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function If(e){var t=e.alternate;t!==null&&(e.alternate=null,If(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[io],delete t[Ms],delete t[Bh],delete t[Hh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cf(e){return e.tag===5||e.tag===3||e.tag===4}function ec(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $s(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vi));else if(r!==4&&(e=e.child,e!==null))for($s(e,t,n),e=e.sibling;e!==null;)$s(e,t,n),e=e.sibling}function Ls(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ls(e,t,n),e=e.sibling;e!==null;)Ls(e,t,n),e=e.sibling}var Re=null,St=!1;function Jt(e,t,n){for(n=n.child;n!==null;)Nf(e,t,n),n=n.sibling}function Nf(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Li,n)}catch{}switch(n.tag){case 5:Fe||er(n,t);case 6:var r=Re,o=St;Re=null,Jt(e,t,n),Re=r,St=o,Re!==null&&(St?(e=Re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(St?(e=Re,n=n.stateNode,e.nodeType===8?Al(e.parentNode,n):e.nodeType===1&&Al(e,n),eo(e)):Al(Re,n.stateNode));break;case 4:r=Re,o=St,Re=n.stateNode.containerInfo,St=!0,Jt(e,t,n),Re=r,St=o;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&js(n,t,i),o=o.next}while(o!==r)}Jt(e,t,n);break;case 1:if(!Fe&&(er(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Pe(n,t,s)}Jt(e,t,n);break;case 21:Jt(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,Jt(e,t,n),Fe=r):Jt(e,t,n);break;default:Jt(e,t,n)}}function tc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rg),t.forEach(function(r){var o=mg.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Re=s.stateNode,St=!1;break e;case 3:Re=s.stateNode.containerInfo,St=!0;break e;case 4:Re=s.stateNode.containerInfo,St=!0;break e}s=s.return}if(Re===null)throw Error(I(160));Nf(l,i,o),Re=null,St=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){Pe(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tf(t,e),t=t.sibling}function Tf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),It(e),r&4){try{Wr(3,e,e.return),Ui(3,e)}catch(E){Pe(e,e.return,E)}try{Wr(5,e,e.return)}catch(E){Pe(e,e.return,E)}}break;case 1:vt(t,e),It(e),r&512&&n!==null&&er(n,n.return);break;case 5:if(vt(t,e),It(e),r&512&&n!==null&&er(n,n.return),e.flags&32){var o=e.stateNode;try{Xr(o,"")}catch(E){Pe(e,e.return,E)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&l.type==="radio"&&l.name!=null&&Jc(o,l),ls(s,i);var u=ls(s,l);for(i=0;i<a.length;i+=2){var d=a[i],p=a[i+1];d==="style"?nd(o,p):d==="dangerouslySetInnerHTML"?ed(o,p):d==="children"?Xr(o,p):Js(o,d,p,u)}switch(s){case"input":ts(o,l);break;case"textarea":qc(o,l);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var g=l.value;g!=null?nr(o,!!l.multiple,g,!1):m!==!!l.multiple&&(l.defaultValue!=null?nr(o,!!l.multiple,l.defaultValue,!0):nr(o,!!l.multiple,l.multiple?[]:"",!1))}o[io]=l}catch(E){Pe(e,e.return,E)}}break;case 6:if(vt(t,e),It(e),r&4){if(e.stateNode===null)throw Error(I(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(E){Pe(e,e.return,E)}}break;case 3:if(vt(t,e),It(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eo(t.containerInfo)}catch(E){Pe(e,e.return,E)}break;case 4:vt(t,e),It(e);break;case 13:vt(t,e),It(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Ta=_e())),r&4&&tc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(u=Fe)||d,vt(t,e),Fe=u):vt(t,e),It(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(p=$=d;$!==null;){switch(m=$,g=m.child,m.tag){case 0:case 11:case 14:case 15:Wr(4,m,m.return);break;case 1:er(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(E){Pe(r,n,E)}}break;case 5:er(m,m.return);break;case 22:if(m.memoizedState!==null){rc(p);continue}}g!==null?(g.return=m,$=g):rc(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{o=p.stateNode,u?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(s=p.stateNode,a=p.memoizedProps.style,i=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=td("display",i))}catch(E){Pe(e,e.return,E)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(E){Pe(e,e.return,E)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vt(t,e),It(e),r&4&&tc(e);break;case 21:break;default:vt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cf(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Xr(o,""),r.flags&=-33);var l=ec(e);Ls(e,l,o);break;case 3:case 4:var i=r.stateNode.containerInfo,s=ec(e);$s(e,s,i);break;default:throw Error(I(161))}}catch(a){Pe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ig(e,t,n){$=e,Af(e)}function Af(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var o=$,l=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Uo;if(!i){var s=o.alternate,a=s!==null&&s.memoizedState!==null||Fe;s=Uo;var u=Fe;if(Uo=i,(Fe=a)&&!u)for($=o;$!==null;)i=$,a=i.child,i.tag===22&&i.memoizedState!==null?oc(o):a!==null?(a.return=i,$=a):oc(o);for(;l!==null;)$=l,Af(l),l=l.sibling;$=o,Uo=s,Fe=u}nc(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,$=l):nc(e)}}function nc(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||Ui(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Bu(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bu(t,i,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&eo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Fe||t.flags&512&&Rs(t)}catch(m){Pe(t,t.return,m)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function rc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function oc(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ui(4,t)}catch(a){Pe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){Pe(t,o,a)}}var l=t.return;try{Rs(t)}catch(a){Pe(t,l,a)}break;case 5:var i=t.return;try{Rs(t)}catch(a){Pe(t,i,a)}}}catch(a){Pe(t,t.return,a)}if(t===e){$=null;break}var s=t.sibling;if(s!==null){s.return=t.return,$=s;break}$=t.return}}var lg=Math.ceil,Ci=Gt.ReactCurrentDispatcher,Ca=Gt.ReactCurrentOwner,mt=Gt.ReactCurrentBatchConfig,q=0,De=null,Ie=null,$e=0,rt=0,tr=yn(0),Ne=0,fo=null,$n=0,Gi=0,Na=0,Kr=null,Xe=null,Ta=0,pr=1/0,Rt=null,Ni=!1,bs=null,cn=null,Go=!1,rn=null,Ti=0,Qr=0,Os=null,ri=-1,oi=0;function Ge(){return q&6?_e():ri!==-1?ri:ri=_e()}function dn(e){return e.mode&1?q&2&&$e!==0?$e&-$e:Vh.transition!==null?(oi===0&&(oi=pd()),oi):(e=oe,e!==0||(e=window.event,e=e===void 0?16:Pd(e.type)),e):1}function xt(e,t,n,r){if(50<Qr)throw Qr=0,Os=null,Error(I(185));ho(e,n,r),(!(q&2)||e!==De)&&(e===De&&(!(q&2)&&(Gi|=n),Ne===4&&tn(e,$e)),et(e,r),n===1&&q===0&&!(t.mode&1)&&(pr=_e()+500,Hi&&Sn()))}function et(e,t){var n=e.callbackNode;Vp(e,t);var r=mi(e,e===De?$e:0);if(r===0)n!==null&&mu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&mu(n),t===1)e.tag===0?zh(ic.bind(null,e)):Bd(ic.bind(null,e)),Oh(function(){!(q&6)&&Sn()}),n=null;else{switch(hd(r)){case 1:n=na;break;case 4:n=fd;break;case 16:n=fi;break;case 536870912:n=md;break;default:n=fi}n=Ff(n,Df.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Df(e,t){if(ri=-1,oi=0,q&6)throw Error(I(327));var n=e.callbackNode;if(sr()&&e.callbackNode!==n)return null;var r=mi(e,e===De?$e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ai(e,r);else{t=r;var o=q;q|=2;var l=Rf();(De!==e||$e!==t)&&(Rt=null,pr=_e()+500,Cn(e,t));do try{ug();break}catch(s){jf(e,s)}while(!0);ha(),Ci.current=l,q=o,Ie!==null?t=0:(De=null,$e=0,t=Ne)}if(t!==0){if(t===2&&(o=ds(e),o!==0&&(r=o,t=Fs(e,o))),t===1)throw n=fo,Cn(e,0),tn(e,r),et(e,_e()),n;if(t===6)tn(e,r);else{if(o=e.current.alternate,!(r&30)&&!sg(o)&&(t=Ai(e,r),t===2&&(l=ds(e),l!==0&&(r=l,t=Fs(e,l))),t===1))throw n=fo,Cn(e,0),tn(e,r),et(e,_e()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:_n(e,Xe,Rt);break;case 3:if(tn(e,r),(r&130023424)===r&&(t=Ta+500-_e(),10<t)){if(mi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ge(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ss(_n.bind(null,e,Xe,Rt),t);break}_n(e,Xe,Rt);break;case 4:if(tn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-Et(r);l=1<<i,i=t[i],i>o&&(o=i),r&=~l}if(r=o,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lg(r/1960))-r,10<r){e.timeoutHandle=Ss(_n.bind(null,e,Xe,Rt),r);break}_n(e,Xe,Rt);break;case 5:_n(e,Xe,Rt);break;default:throw Error(I(329))}}}return et(e,_e()),e.callbackNode===n?Df.bind(null,e):null}function Fs(e,t){var n=Kr;return e.current.memoizedState.isDehydrated&&(Cn(e,t).flags|=256),e=Ai(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&Bs(t)),e}function Bs(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function sg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!_t(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t){for(t&=~Na,t&=~Gi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Et(t),r=1<<n;e[n]=-1,t&=~r}}function ic(e){if(q&6)throw Error(I(327));sr();var t=mi(e,0);if(!(t&1))return et(e,_e()),null;var n=Ai(e,t);if(e.tag!==0&&n===2){var r=ds(e);r!==0&&(t=r,n=Fs(e,r))}if(n===1)throw n=fo,Cn(e,0),tn(e,t),et(e,_e()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_n(e,Xe,Rt),et(e,_e()),null}function Aa(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(pr=_e()+500,Hi&&Sn())}}function Ln(e){rn!==null&&rn.tag===0&&!(q&6)&&sr();var t=q;q|=1;var n=mt.transition,r=oe;try{if(mt.transition=null,oe=1,e)return e()}finally{oe=r,mt.transition=n,q=t,!(q&6)&&Sn()}}function Da(){rt=tr.current,me(tr)}function Cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bh(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(fa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yi();break;case 3:fr(),me(qe),me(Be),Pa();break;case 5:Ma(r);break;case 4:fr();break;case 13:me(ve);break;case 19:me(ve);break;case 10:ga(r.type._context);break;case 22:case 23:Da()}n=n.return}if(De=e,Ie=e=fn(e.current,null),$e=rt=t,Ne=0,fo=null,Na=Gi=$n=0,Xe=Kr=null,kn!==null){for(t=0;t<kn.length;t++)if(n=kn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var i=l.next;l.next=o,r.next=i}n.pending=r}kn=null}return e}function jf(e,t){do{var n=Ie;try{if(ha(),ei.current=Ii,ki){for(var r=ye.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ki=!1}if(Rn=0,Ae=Ce=ye=null,Gr=!1,ao=0,Ca.current=null,n===null||n.return===null){Ne=1,fo=t,Ie=null;break}e:{var l=e,i=n.return,s=n,a=t;if(t=$e,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=s,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Wu(i);if(g!==null){g.flags&=-257,Ku(g,i,s,l,t),g.mode&1&&Gu(l,u,t),t=g,a=u;var y=t.updateQueue;if(y===null){var E=new Set;E.add(a),t.updateQueue=E}else y.add(a);break e}else{if(!(t&1)){Gu(l,u,t),ja();break e}a=Error(I(426))}}else if(he&&s.mode&1){var R=Wu(i);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Ku(R,i,s,l,t),ma(mr(a,s));break e}}l=a=mr(a,s),Ne!==4&&(Ne=2),Kr===null?Kr=[l]:Kr.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var f=gf(l,a,t);Fu(l,f);break e;case 1:s=a;var c=l.type,h=l.stateNode;if(!(l.flags&128)&&(typeof c.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(cn===null||!cn.has(h)))){l.flags|=65536,t&=-t,l.lanes|=t;var S=vf(l,s,t);Fu(l,S);break e}}l=l.return}while(l!==null)}Lf(n)}catch(_){t=_,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function Rf(){var e=Ci.current;return Ci.current=Ii,e===null?Ii:e}function ja(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),De===null||!($n&268435455)&&!(Gi&268435455)||tn(De,$e)}function Ai(e,t){var n=q;q|=2;var r=Rf();(De!==e||$e!==t)&&(Rt=null,Cn(e,t));do try{ag();break}catch(o){jf(e,o)}while(!0);if(ha(),q=n,Ci.current=r,Ie!==null)throw Error(I(261));return De=null,$e=0,Ne}function ag(){for(;Ie!==null;)$f(Ie)}function ug(){for(;Ie!==null&&!Rp();)$f(Ie)}function $f(e){var t=Of(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?Lf(e):Ie=t,Ca.current=null}function Lf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ng(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,Ie=null;return}}else if(n=tg(n,t,rt),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Ne===0&&(Ne=5)}function _n(e,t,n){var r=oe,o=mt.transition;try{mt.transition=null,oe=1,cg(e,t,n,r)}finally{mt.transition=o,oe=r}return null}function cg(e,t,n,r){do sr();while(rn!==null);if(q&6)throw Error(I(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Up(e,l),e===De&&(Ie=De=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Go||(Go=!0,Ff(fi,function(){return sr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=mt.transition,mt.transition=null;var i=oe;oe=1;var s=q;q|=4,Ca.current=null,og(e,n),Tf(n,e),Th(vs),pi=!!gs,vs=gs=null,e.current=n,ig(n),$p(),q=s,oe=i,mt.transition=l}else e.current=n;if(Go&&(Go=!1,rn=e,Ti=o),l=e.pendingLanes,l===0&&(cn=null),Op(n.stateNode),et(e,_e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ni)throw Ni=!1,e=bs,bs=null,e;return Ti&1&&e.tag!==0&&sr(),l=e.pendingLanes,l&1?e===Os?Qr++:(Qr=0,Os=e):Qr=0,Sn(),null}function sr(){if(rn!==null){var e=hd(Ti),t=mt.transition,n=oe;try{if(mt.transition=null,oe=16>e?16:e,rn===null)var r=!1;else{if(e=rn,rn=null,Ti=0,q&6)throw Error(I(331));var o=q;for(q|=4,$=e.current;$!==null;){var l=$,i=l.child;if($.flags&16){var s=l.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:Wr(8,d,l)}var p=d.child;if(p!==null)p.return=d,$=p;else for(;$!==null;){d=$;var m=d.sibling,g=d.return;if(If(d),d===u){$=null;break}if(m!==null){m.return=g,$=m;break}$=g}}}var y=l.alternate;if(y!==null){var E=y.child;if(E!==null){y.child=null;do{var R=E.sibling;E.sibling=null,E=R}while(E!==null)}}$=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,$=i;else e:for(;$!==null;){if(l=$,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Wr(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,$=f;break e}$=l.return}}var c=e.current;for($=c;$!==null;){i=$;var h=i.child;if(i.subtreeFlags&2064&&h!==null)h.return=i,$=h;else e:for(i=c;$!==null;){if(s=$,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ui(9,s)}}catch(_){Pe(s,s.return,_)}if(s===i){$=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,$=S;break e}$=s.return}}if(q=o,Sn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Li,e)}catch{}r=!0}return r}finally{oe=n,mt.transition=t}}return!1}function lc(e,t,n){t=mr(n,t),t=gf(e,t,1),e=un(e,t,1),t=Ge(),e!==null&&(ho(e,1,t),et(e,t))}function Pe(e,t,n){if(e.tag===3)lc(e,e,n);else for(;t!==null;){if(t.tag===3){lc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cn===null||!cn.has(r))){e=mr(n,e),e=vf(t,e,1),t=un(t,e,1),e=Ge(),t!==null&&(ho(t,1,e),et(t,e));break}}t=t.return}}function dg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,De===e&&($e&n)===n&&(Ne===4||Ne===3&&($e&130023424)===$e&&500>_e()-Ta?Cn(e,0):Na|=n),et(e,t)}function bf(e,t){t===0&&(e.mode&1?(t=$o,$o<<=1,!($o&130023424)&&($o=4194304)):t=1);var n=Ge();e=zt(e,t),e!==null&&(ho(e,t,n),et(e,n))}function fg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bf(e,n)}function mg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),bf(e,n)}var Of;Of=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)Je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Je=!1,eg(e,t,n);Je=!!(e.flags&131072)}else Je=!1,he&&t.flags&1048576&&Hd(t,Pi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ni(e,t),e=t.pendingProps;var o=ur(t,Be.current);lr(t,n),o=xa(null,t,r,e,o,n);var l=_a();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(r)?(l=!0,Si(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ya(t),o.updater=Vi,t.stateNode=o,o._reactInternals=t,ks(t,r,e,n),t=Ns(null,t,r,!0,l,n)):(t.tag=0,he&&l&&da(t),Ve(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ni(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=hg(r),e=yt(r,e),o){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Xu(null,t,r,e,n);break e;case 11:t=Qu(null,t,r,e,n);break e;case 14:t=Yu(null,t,r,yt(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),Cs(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),Xu(e,t,r,o,n);case 3:e:{if(Pf(t),e===null)throw Error(I(387));r=t.pendingProps,l=t.memoizedState,o=l.element,Kd(e,t),_i(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=mr(Error(I(423)),t),t=Ju(e,t,r,n,o);break e}else if(r!==o){o=mr(Error(I(424)),t),t=Ju(e,t,r,n,o);break e}else for(ot=an(t.stateNode.containerInfo.firstChild),it=t,he=!0,Pt=null,n=Gd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cr(),r===o){t=Vt(e,t,n);break e}Ve(e,t,r,n)}t=t.child}return t;case 5:return Qd(t),e===null&&xs(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,i=o.children,ys(r,o)?i=null:l!==null&&ys(r,l)&&(t.flags|=32),Mf(e,t),Ve(e,t,i,n),t.child;case 6:return e===null&&xs(t),null;case 13:return Ef(e,t,n);case 4:return Sa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=dr(t,null,r,n):Ve(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),Qu(e,t,r,o,n);case 7:return Ve(e,t,t.pendingProps,n),t.child;case 8:return Ve(e,t,t.pendingProps.children,n),t.child;case 12:return Ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,i=o.value,ce(Ei,r._currentValue),r._currentValue=i,l!==null)if(_t(l.value,i)){if(l.children===o.children&&!qe.current){t=Vt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){i=l.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(l.tag===1){a=Ft(-1,n&-n),a.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),_s(l.return,n,t),s.lanes|=n;break}a=a.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(I(341));i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),_s(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Ve(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,lr(t,n),o=pt(o),r=r(o),t.flags|=1,Ve(e,t,r,n),t.child;case 14:return r=t.type,o=yt(r,t.pendingProps),o=yt(r.type,o),Yu(e,t,r,o,n);case 15:return yf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),ni(e,t),t.tag=1,Ze(r)?(e=!0,Si(t)):e=!1,lr(t,n),hf(t,r,o),ks(t,r,o,n),Ns(null,t,r,!0,e,n);case 19:return xf(e,t,n);case 22:return Sf(e,t,n)}throw Error(I(156,t.tag))};function Ff(e,t){return dd(e,t)}function pg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,r){return new pg(e,t,n,r)}function Ra(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hg(e){if(typeof e=="function")return Ra(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zs)return 11;if(e===ea)return 14}return 2}function fn(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ii(e,t,n,r,o,l){var i=2;if(r=e,typeof e=="function")Ra(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Gn:return Nn(n.children,o,l,t);case qs:i=8,o|=8;break;case Xl:return e=ft(12,n,t,o|2),e.elementType=Xl,e.lanes=l,e;case Jl:return e=ft(13,n,t,o),e.elementType=Jl,e.lanes=l,e;case ql:return e=ft(19,n,t,o),e.elementType=ql,e.lanes=l,e;case Qc:return Wi(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wc:i=10;break e;case Kc:i=9;break e;case Zs:i=11;break e;case ea:i=14;break e;case qt:i=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=ft(i,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function Nn(e,t,n,r){return e=ft(7,e,r,t),e.lanes=n,e}function Wi(e,t,n,r){return e=ft(22,e,r,t),e.elementType=Qc,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function Bl(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gg(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function $a(e,t,n,r,o,l,i,s,a){return e=new gg(e,t,n,s,a),t===1?(t=1,l===!0&&(t|=8)):t=0,l=ft(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ya(l),e}function vg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Bf(e){if(!e)return pn;e=e._reactInternals;e:{if(On(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Ze(n))return Fd(e,n,t)}return t}function Hf(e,t,n,r,o,l,i,s,a){return e=$a(n,r,!0,e,o,l,i,s,a),e.context=Bf(null),n=e.current,r=Ge(),o=dn(n),l=Ft(r,o),l.callback=t??null,un(n,l,o),e.current.lanes=o,ho(e,o,r),et(e,r),e}function Ki(e,t,n,r){var o=t.current,l=Ge(),i=dn(o);return n=Bf(n),t.context===null?t.context=n:t.pendingContext=n,t=Ft(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=un(o,t,i),e!==null&&(xt(e,o,i,l),Zo(e,o,i)),i}function Di(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function La(e,t){sc(e,t),(e=e.alternate)&&sc(e,t)}function yg(){return null}var zf=typeof reportError=="function"?reportError:function(e){console.error(e)};function ba(e){this._internalRoot=e}Qi.prototype.render=ba.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ki(e,t,null,null)};Qi.prototype.unmount=ba.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ln(function(){Ki(null,e,null,null)}),t[Ht]=null}};function Qi(e){this._internalRoot=e}Qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=yd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<en.length&&t!==0&&t<en[n].priority;n++);en.splice(n,0,e),n===0&&Md(e)}};function Oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ac(){}function Sg(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var u=Di(i);l.call(u)}}var i=Hf(t,r,e,0,null,!1,!1,"",ac);return e._reactRootContainer=i,e[Ht]=i.current,ro(e.nodeType===8?e.parentNode:e),Ln(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var u=Di(a);s.call(u)}}var a=$a(e,0,!1,null,null,!1,!1,"",ac);return e._reactRootContainer=a,e[Ht]=a.current,ro(e.nodeType===8?e.parentNode:e),Ln(function(){Ki(t,a,n,r)}),a}function Xi(e,t,n,r,o){var l=n._reactRootContainer;if(l){var i=l;if(typeof o=="function"){var s=o;o=function(){var a=Di(i);s.call(a)}}Ki(t,i,e,o)}else i=Sg(n,t,e,o,r);return Di(i)}gd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Or(t.pendingLanes);n!==0&&(ra(t,n|1),et(t,_e()),!(q&6)&&(pr=_e()+500,Sn()))}break;case 13:Ln(function(){var r=zt(e,1);if(r!==null){var o=Ge();xt(r,e,1,o)}}),La(e,1)}};oa=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=Ge();xt(t,e,134217728,n)}La(e,134217728)}};vd=function(e){if(e.tag===13){var t=dn(e),n=zt(e,t);if(n!==null){var r=Ge();xt(n,e,t,r)}La(e,t)}};yd=function(){return oe};Sd=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};as=function(e,t,n){switch(t){case"input":if(ts(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Bi(r);if(!o)throw Error(I(90));Xc(r),ts(r,o)}}}break;case"textarea":qc(e,n);break;case"select":t=n.value,t!=null&&nr(e,!!n.multiple,t,!1)}};id=Aa;ld=Ln;var Mg={usingClientEntryPoint:!1,Events:[vo,Yn,Bi,rd,od,Aa]},$r={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pg={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ud(e),e===null?null:e.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance||yg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{Li=Wo.inject(Pg),Tt=Wo}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mg;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oa(t))throw Error(I(200));return vg(e,t,null,n)};st.createRoot=function(e,t){if(!Oa(e))throw Error(I(299));var n=!1,r="",o=zf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=$a(e,1,!1,null,null,n,!1,r,o),e[Ht]=t.current,ro(e.nodeType===8?e.parentNode:e),new ba(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=ud(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return Ln(e)};st.hydrate=function(e,t,n){if(!Yi(t))throw Error(I(200));return Xi(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!Oa(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",i=zf;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Hf(t,null,e,1,n??null,o,!1,l,i),e[Ht]=t.current,ro(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Qi(t)};st.render=function(e,t,n){if(!Yi(t))throw Error(I(200));return Xi(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!Yi(e))throw Error(I(40));return e._reactRootContainer?(Ln(function(){Xi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1};st.unstable_batchedUpdates=Aa;st.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yi(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Xi(e,t,n,!1,r)};st.version="18.3.1-next-f1338f8080-20240426";function Vf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vf)}catch(e){console.error(e)}}Vf(),zc.exports=st;var Eg=zc.exports,uc=Eg;Ql.createRoot=uc.createRoot,Ql.hydrateRoot=uc.hydrateRoot;function Ji(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function qi(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"}var Uf=[0,2,4,-1,1,3,5],Gf=Uf.map(e=>Math.floor(e*7/12));function Fa(e){const{step:t,alt:n,oct:r,dir:o=1}=e,l=Uf[t]+7*n;if(r===void 0)return[o*l];const i=r-Gf[t]-4*n;return[o*l,o*i]}var xg=[3,0,4,1,5,2,6];function Wf(e){const[t,n,r]=e,o=xg[_g(t)],l=Math.floor((t+1)/7);if(n===void 0)return{step:o,alt:l,dir:r};const i=n+4*l+Gf[o];return{step:o,alt:l,oct:i,dir:r}}function _g(e){const t=(e+1)%7;return t<0?7+t:t}var cc=(e,t)=>Array(Math.abs(t)+1).join(e),Hs={empty:!0,name:"",acc:""},wg="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",kg="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Ig=new RegExp("^"+wg+"|"+kg+"$");function Cg(e){const t=Ig.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var dc={};function hr(e){return typeof e=="string"?dc[e]||(dc[e]=Ng(e)):qi(e)?hr(Dg(e)):Ji(e)?hr(e.name):Hs}var fc=[0,2,4,5,7,9,11],Kf="PMMPPMM";function Ng(e){const t=Cg(e);if(t[0]==="")return Hs;const n=+t[0],r=t[1],o=(Math.abs(n)-1)%7,l=Kf[o];if(l==="M"&&r==="P")return Hs;const i=l==="M"?"majorable":"perfectable",s=""+n+r,a=n<0?-1:1,u=n===8||n===-8?n:a*(o+1),d=Ag(i,r),p=Math.floor((Math.abs(n)-1)/7),m=a*(fc[o]+d+12*p),g=(a*(fc[o]+d)%12+12)%12,y=Fa({step:o,alt:d,oct:p,dir:a});return{empty:!1,name:s,num:n,q:r,step:o,alt:d,dir:a,type:i,simple:u,semitones:m,chroma:g,coord:y,oct:p}}function Tg(e,t){const[n,r=0]=e,o=n*7+r*12<0,l=t||o?[-n,-r,-1]:[n,r,1];return hr(Wf(l))}function Ag(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function Dg(e){const{step:t,alt:n,oct:r=0,dir:o}=e;if(!o)return"";const l=t+1+7*r,i=l===0?t+1:l,s=o<0?"-":"",a=Kf[t]==="M"?"majorable":"perfectable";return s+i+jg(a,n)}function jg(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?cc("A",t):cc("d",e==="perfectable"?t:t+1)}var mc=(e,t)=>Array(Math.abs(t)+1).join(e),Qf={empty:!0,name:"",pc:"",acc:""},pc=new Map,Rg=e=>"CDEFGAB".charAt(e),$g=e=>e<0?mc("b",-e):mc("#",e),Lg=e=>e[0]==="b"?-e.length:e.length;function gr(e){const t=JSON.stringify(e),n=pc.get(t);if(n)return n;const r=typeof e=="string"?Hg(e):qi(e)?gr(zg(e)):Ji(e)?gr(e.name):Qf;return pc.set(t,r),r}var bg=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Og(e){const t=bg.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function Fg(e){return gr(Wf(e))}var Bg=(e,t)=>(e%t+t)%t,Hl=[0,2,4,5,7,9,11];function Hg(e){const t=Og(e);if(t[0]===""||t[3]!=="")return Qf;const n=t[0],r=t[1],o=t[2],l=(n.charCodeAt(0)+3)%7,i=Lg(r),s=o.length?+o:void 0,a=Fa({step:l,alt:i,oct:s}),u=n+r+o,d=n+r,p=(Hl[l]+i+120)%12,m=s===void 0?Bg(Hl[l]+i,12)-12*99:Hl[l]+i+12*(s+1),g=m>=0&&m<=127?m:null,y=s===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:r,alt:i,chroma:p,coord:a,freq:y,height:m,letter:n,midi:g,name:u,oct:s,pc:d,step:l}}function zg(e){const{step:t,alt:n,oct:r}=e,o=Rg(t);if(!o)return"";const l=o+$g(n);return r||r===0?l+r:l}function hn(e,t){const n=gr(e),r=Array.isArray(t)?t:hr(t).coord;if(n.empty||!r||r.length<2)return"";const o=n.coord,l=o.length===1?[o[0]+r[0]]:[o[0]+r[0],o[1]+r[1]];return Fg(l).name}function Zi(e,t){const n=e.length;return r=>{if(!t)return"";const o=r<0?(n- -r%n)%n:r%n,l=Math.floor(r/n),i=hn(t,[0,l]);return hn(i,e[o])}}function Vg(e,t){const n=gr(e),r=gr(t);if(n.empty||r.empty)return"";const o=n.coord,l=r.coord,i=l[0]-o[0],s=o.length===2&&l.length===2?l[1]-o[1]:-Math.floor(i*7/12),a=r.height===n.height&&r.midi!==null&&n.midi!==null&&n.step>r.step;return Tg([i,s],a).name}var hc=(e,t)=>Array(Math.abs(t)+1).join(e),Yf={empty:!0,name:"",pc:"",acc:""},gc=new Map,Ug=e=>"CDEFGAB".charAt(e),Xf=e=>e<0?hc("b",-e):hc("#",e),Jf=e=>e[0]==="b"?-e.length:e.length;function Ee(e){const t=JSON.stringify(e),n=gc.get(t);if(n)return n;const r=typeof e=="string"?Kg(e):qi(e)?Ee(Qg(e)):Ji(e)?Ee(e.name):Yf;return gc.set(t,r),r}var Gg=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function qf(e){const t=Gg.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}var Wg=(e,t)=>(e%t+t)%t,zl=[0,2,4,5,7,9,11];function Kg(e){const t=qf(e);if(t[0]===""||t[3]!=="")return Yf;const n=t[0],r=t[1],o=t[2],l=(n.charCodeAt(0)+3)%7,i=Jf(r),s=o.length?+o:void 0,a=Fa({step:l,alt:i,oct:s}),u=n+r+o,d=n+r,p=(zl[l]+i+120)%12,m=s===void 0?Wg(zl[l]+i,12)-12*99:zl[l]+i+12*(s+1),g=m>=0&&m<=127?m:null,y=s===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:r,alt:i,chroma:p,coord:a,freq:y,height:m,letter:n,midi:g,name:u,oct:s,pc:d,step:l}}function Qg(e){const{step:t,alt:n,oct:r}=e,o=Ug(t);if(!o)return"";const l=o+Xf(n);return r||r===0?l+r:l}function Mn(e,t,n){return function(...r){return console.warn(`${e} is deprecated. Use ${t}.`),n.apply(this,r)}}var Yg=Mn("isNamed","isNamedPitch",Ji);function Xg(e,t){const n=[];for(;t--;n[t]=t+e);return n}function Jg(e,t){const n=[];for(;t--;n[t]=e-t);return n}function qg(e,t){return e<t?Xg(e,t-e+1):Jg(e,e-t+1)}function So(e,t){const n=t.length,r=(e%n+n)%n;return t.slice(r,n).concat(t.slice(0,r))}function Zg(e){return e.filter(t=>t===0||t)}var gn={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Zf=e=>Number(e).toString(2).padStart(12,"0"),vc=e=>parseInt(e,2),e1=/^[01]{12}$/;function Ba(e){return e1.test(e)}var t1=e=>typeof e=="number"&&e>=0&&e<=4095,n1=e=>e&&Ba(e.chroma),yc={[gn.chroma]:gn};function Ut(e){const t=Ba(e)?e:t1(e)?Zf(e):Array.isArray(e)?a1(e):n1(e)?e.chroma:gn.chroma;return yc[t]=yc[t]||s1(t)}var r1=e=>Ut(e).chroma,o1=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function i1(e){const t=[];for(let n=0;n<12;n++)e.charAt(n)==="1"&&t.push(o1[n]);return t}function em(e,t=!0){const r=Ut(e).chroma.split("");return Zg(r.map((o,l)=>{const i=So(l,r);return t&&i[0]==="0"?null:i.join("")}))}function Ha(e){const t=Ut(e).setNum;return n=>{const r=Ut(n).setNum;return t&&t!==r&&(r&t)===r}}function za(e){const t=Ut(e).setNum;return n=>{const r=Ut(n).setNum;return t&&t!==r&&(r|t)===r}}function l1(e){const t=e.split("");return t.map((n,r)=>So(r,t).join(""))}function s1(e){const t=vc(e),n=l1(e).map(vc).filter(l=>l>=2048).sort()[0],r=Zf(n),o=i1(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:r,intervals:o}}function a1(e){if(e.length===0)return gn.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r++)t=Ee(e[r]),t.empty&&(t=hr(e[r])),t.empty||(n[t.chroma]=1);return n.join("")}var u1=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],c1=u1;({...gn});var Va=[],li={};function tm(){return Va.slice()}function d1(e,t,n){const r=m1(e),o={...Ut(e),name:n||"",quality:r,intervals:e,aliases:t};Va.push(o),o.name&&(li[o.name]=o),li[o.setNum]=o,li[o.chroma]=o,o.aliases.forEach(l=>f1(o,l))}function f1(e,t){li[t]=e}function m1(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}c1.forEach(([e,t,n])=>d1(e.split(" "),n.split(" "),t));Va.sort((e,t)=>e.setNum-t.setNum);var p1=e=>{const t=e.reduce((n,r)=>{const o=Ee(r).chroma;return o!==void 0&&(n[o]=n[o]||Ee(r).name),n},{});return n=>t[n]};function h1(e,t={}){const n=e.map(o=>Ee(o).pc).filter(o=>o);return Ee.length===0?[]:E1(n,1,t).filter(o=>o.weight).sort((o,l)=>l.weight-o.weight).map(o=>o.name)}var el={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},tl=e=>t=>!!(t&e),g1=tl(el.anyThirds),v1=tl(el.perfectFifth),y1=tl(el.anySeventh),S1=tl(el.nonPerfectFifths);function M1(e){const t=parseInt(e.chroma,2);return g1(t)&&v1(t)&&y1(t)}function P1(e){const t=parseInt(e,2);return S1(t)?e:(t|16).toString(2)}function E1(e,t,n){const r=e[0],o=Ee(r).chroma,l=p1(e),i=em(e,!1),s=[];return i.forEach((a,u)=>{const d=n.assumePerfectFifth&&P1(a);tm().filter(m=>n.assumePerfectFifth&&M1(m)?m.chroma===d:m.chroma===a).forEach(m=>{const g=m.aliases[0],y=l(u);u!==o?s.push({weight:.5*t,name:`${y}${g}/${r}`}):s.push({weight:1*t,name:`${y}${g}`})})}),s}var x1=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],_1=x1,w1={...gn,name:"",quality:"Unknown",intervals:[],aliases:[]},Mr=[],Tn={};function Ua(e){return Tn[e]||w1}var k1=Mn("ChordType.chordType","ChordType.get",Ua);function I1(){return Mr.map(e=>e.name).filter(e=>e)}function C1(){return Mr.map(e=>e.aliases[0]).filter(e=>e)}function N1(){return Object.keys(Tn)}function nl(){return Mr.slice()}var T1=Mn("ChordType.entries","ChordType.all",nl);function A1(){Mr=[],Tn={}}function nm(e,t,n){const r=j1(e),o={...Ut(e),name:n||"",quality:r,intervals:e,aliases:t};Mr.push(o),o.name&&(Tn[o.name]=o),Tn[o.setNum]=o,Tn[o.chroma]=o,o.aliases.forEach(l=>D1(o,l))}function D1(e,t){Tn[t]=e}function j1(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}_1.forEach(([e,t,n])=>nm(e.split(" "),n.split(" "),t));Mr.sort((e,t)=>e.setNum-t.setNum);var R1={names:I1,symbols:C1,get:Ua,all:nl,add:nm,removeAll:A1,keys:N1,entries:T1,chordType:k1},$1=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],L1=$1,b1={...gn,intervals:[],aliases:[]},rl=[],An={};function rm(){return rl.map(e=>e.name)}function ol(e){return An[e]||b1}var O1=Mn("ScaleDictionary.scaleType","ScaleType.get",ol);function Pr(){return rl.slice()}var F1=Mn("ScaleDictionary.entries","ScaleType.all",Pr);function B1(){return Object.keys(An)}function H1(){rl=[],An={}}function om(e,t,n=[]){const r={...Ut(e),name:t,intervals:e,aliases:n};return rl.push(r),An[r.name]=r,An[r.setNum]=r,An[r.chroma]=r,r.aliases.forEach(o=>z1(r,o)),r}function z1(e,t){An[t]=e}L1.forEach(([e,t,...n])=>om(e.split(" "),t,n));var V1={names:rm,get:ol,all:Pr,add:om,removeAll:H1,keys:B1,entries:F1,scaleType:O1},zs={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Ga(e){const[t,n,r,o]=qf(e);return t===""?["",e]:t==="A"&&o==="ug"?["","aug"]:[t+n,r+o]}function Fn(e){if(e==="")return zs;if(Array.isArray(e)&&e.length===2)return si(e[1],e[0]);{const[t,n]=Ga(e),r=si(n,t);return r.empty?si(e):r}}function si(e,t,n){const r=Ua(e),o=Ee(t||""),l=Ee(n||"");if(r.empty||t&&o.empty||n&&l.empty)return zs;const i=Vg(o.pc,l.pc),s=r.intervals.indexOf(i)+1;if(!l.empty&&!s)return zs;const a=Array.from(r.intervals);for(let m=1;m<s;m++){const g=a[0][0],y=a[0][1],E=parseInt(g,10)+7;a.push(`${E}${y}`),a.shift()}const u=o.empty?[]:a.map(m=>hn(o,m));e=r.aliases.indexOf(e)!==-1?e:r.aliases[0];const d=`${o.empty?"":o.pc}${e}${l.empty||s<=1?"":"/"+l.pc}`,p=`${t?o.pc+" ":""}${r.name}${s>1&&n?" over "+l.pc:""}`;return{...r,name:p,symbol:d,type:r.name,root:l.name,intervals:a,rootDegree:s,tonic:o.name,notes:u}}var U1=Mn("Chord.chord","Chord.get",Fn);function G1(e,t){const[n,r]=Ga(e);return n?hn(n,t)+r:e}function W1(e){const t=Fn(e),n=za(t.chroma);return Pr().filter(r=>n(r.chroma)).map(r=>r.name)}function K1(e){const t=Fn(e),n=za(t.chroma);return nl().filter(r=>n(r.chroma)).map(r=>t.tonic+r.aliases[0])}function Q1(e){const t=Fn(e),n=Ha(t.chroma);return nl().filter(r=>n(r.chroma)).map(r=>t.tonic+r.aliases[0])}function Y1(e){const{intervals:t,tonic:n}=Fn(e),r=Zi(t,n);return o=>o?r(o>0?o-1:o):""}function X1(e){const{intervals:t,tonic:n}=Fn(e);return Zi(t,n)}var Ue={getChord:si,get:Fn,detect:h1,chordScales:W1,extended:K1,reduced:Q1,tokenize:Ga,transpose:G1,degrees:Y1,steps:X1,chord:U1},J1=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],q1=J1;q1.forEach(([e,t,n])=>void 0);var Z1=Math.log(2),ev=Math.log(440);function im(e){const t=12*(Math.log(e)-ev)/Z1+69;return Math.round(t*100)/100}var tv="C C# D D# E F F# G G# A A# B".split(" "),nv="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Er(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const r=(t.sharps===!0?tv:nv)[e%12];if(t.pitchClass)return r;const o=Math.floor(e/12)-1;return r+o}var rv=["C","D","E","F","G","A","B"],lm=e=>e.name,sm=e=>e.map(Ee).filter(t=>!t.empty);function ov(e){return e===void 0?rv.slice():Array.isArray(e)?sm(e).map(lm):[]}var wt=Ee,iv=e=>wt(e).name,lv=e=>wt(e).pc,sv=e=>wt(e).acc,av=e=>wt(e).oct,uv=e=>wt(e).midi,cv=e=>wt(e).freq,dv=e=>wt(e).chroma;function am(e){return Er(e)}function fv(e){return Er(im(e))}function mv(e){return Er(im(e),{sharps:!0})}function pv(e){return Er(e,{sharps:!0})}var Mo=hn,hv=hn,um=e=>t=>Mo(t,e),gv=um,cm=e=>t=>Mo(e,t),vv=cm;function dm(e,t){return Mo(e,[t,0])}var yv=dm;function Sv(e,t){return Mo(e,[0,t])}var Wa=(e,t)=>e.height-t.height,Mv=(e,t)=>t.height-e.height;function fm(e,t){return t=t||Wa,sm(e).sort(t).map(lm)}function mm(e){return fm(e,Wa).filter((t,n,r)=>n===0||t!==r[n-1])}var Pv=e=>{const t=wt(e);return t.empty?"":Er(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:t.midi===null})};function pm(e,t){const n=wt(e);if(n.empty)return"";const r=wt(t||Er(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(n.oct===void 0)return r.pc;const o=n.chroma-n.alt,l=r.chroma-r.alt,i=o>11||l<0?-1:o<0||l>11?1:0,s=n.oct+i;return r.pc+s}var V={names:ov,get:wt,name:iv,pitchClass:lv,accidentals:sv,octave:av,midi:uv,ascending:Wa,descending:Mv,sortedNames:fm,sortedUniqNames:mm,fromMidi:am,fromMidiSharps:pv,freq:cv,fromFreq:fv,fromFreqSharps:mv,chroma:dv,transpose:Mo,tr:hv,transposeBy:um,trBy:gv,transposeFrom:cm,trFrom:vv,transposeFifths:dm,transposeOctaves:Sv,trFifths:yv,simplify:Pv,enharmonic:pm},hm={empty:!0,name:"",chordType:""},Sc={};function mo(e){return typeof e=="string"?Sc[e]||(Sc[e]=Cv(e)):typeof e=="number"?mo(il[e]||""):qi(e)?_v(e):Yg(e)?mo(e.name):hm}var Ev=Mn("RomanNumeral.romanNumeral","RomanNumeral.get",mo);function xv(e=!0){return(e?il:Iv).slice()}function _v(e){return mo(Xf(e.alt)+il[e.step])}var wv=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function kv(e){return wv.exec(e)||["","","",""]}var gm="I II III IV V VI VII",il=gm.split(" "),Iv=gm.toLowerCase().split(" ");function Cv(e){const[t,n,r,o]=kv(e);if(!r)return hm;const l=r.toUpperCase(),i=il.indexOf(l),s=Jf(n),a=1;return{empty:!1,name:t,roman:r,interval:hr({step:i,alt:s,dir:a}).name,acc:n,chordType:o,alt:s,step:i,major:r===l,oct:0,dir:a}}var Nv={names:xv,get:mo,romanNumeral:Ev},Ka=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Mc={...gn,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},Tv=Ka.map(Av),Vs={};Tv.forEach(e=>{Vs[e.name]=e,e.aliases.forEach(t=>{Vs[t]=e})});function vm(e){return typeof e=="string"?Vs[e.toLowerCase()]||Mc:e&&e.name?vm(e.name):Mc}function Av(e){const[t,n,r,o,l,i,s]=e,a=s?[s]:[],u=Number(n).toString(2);return{empty:!1,intervals:ol(o).intervals,modeNum:t,chroma:u,normalized:u,name:o,setNum:n,alt:r,triad:l,seventh:i,aliases:a}}function ym(e){return(t,n)=>{const r=vm(t);if(r.empty)return[];const o=So(r.modeNum,e),l=r.intervals.map(i=>hn(n,i));return o.map((i,s)=>l[s]+i)}}ym(Ka.map(e=>e[4]));ym(Ka.map(e=>e[5]));var Dv={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Sm(e){if(typeof e!="string")return["",""];const t=e.indexOf(" "),n=Ee(e.substring(0,t));if(n.empty){const o=Ee(e);return o.empty?["",e]:[o.name,""]}const r=e.substring(n.name.length+1);return[n.name,r.length?r:""]}var jv=rm;function Dt(e){const t=Array.isArray(e)?e:Sm(e),n=Ee(t[0]).name,r=ol(t[1]);if(r.empty)return Dv;const o=r.name,l=n?r.intervals.map(s=>hn(n,s)):[],i=n?n+" "+o:o;return{...r,name:i,type:o,tonic:n,notes:l}}var Rv=Mn("Scale.scale","Scale.get",Dt);function $v(e,t={}){const n=r1(e),r=Ee(t.tonic??e[0]??""),o=r.chroma;if(o===void 0)return[];const l=n.split("");l[o]="1";const i=So(o,l).join(""),s=Pr().find(u=>u.chroma===i),a=[];return s&&a.push(r.name+" "+s.name),t.match==="exact"||Mm(i).forEach(u=>{a.push(r.name+" "+u)}),a}function Lv(e){const t=Dt(e),n=Ha(t.chroma);return tm().filter(r=>n(r.chroma)).map(r=>r.aliases[0])}function Mm(e){const t=Ba(e)?e:Dt(e).chroma,n=za(t);return Pr().filter(r=>n(r.chroma)).map(r=>r.name)}function bv(e){const t=Ha(Dt(e).chroma);return Pr().filter(n=>t(n.chroma)).map(n=>n.name)}function Pm(e){const t=e.map(o=>Ee(o).pc).filter(o=>o),n=t[0],r=mm(t);return So(r.indexOf(n),r)}function Ov(e){const t=Dt(e);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return em(t.chroma).map((r,o)=>{const l=Dt(r).name;return l?[n[o],l]:["",""]}).filter(r=>r[0])}function Fv(e){const t=Array.isArray(e)?Pm(e):Dt(e).notes,n=t.map(r=>Ee(r).chroma);return r=>{const o=Ee(typeof r=="number"?am(r):r),l=o.height;if(l===void 0)return;const i=l%12,s=n.indexOf(i);if(s!==-1)return pm(o.name,t[s])}}function Bv(e){const t=Fv(e);return(n,r)=>{const o=Ee(n).height,l=Ee(r).height;return o===void 0||l===void 0?[]:qg(o,l).map(t).filter(i=>i)}}function Hv(e){const{intervals:t,tonic:n}=Dt(e),r=Zi(t,n);return o=>o?r(o>0?o-1:o):""}function zv(e){const{intervals:t,tonic:n}=Dt(e);return Zi(t,n)}var Lt={degrees:Hv,detect:$v,extended:Mm,get:Dt,modeNames:Ov,names:jv,rangeOf:Bv,reduced:bv,scaleChords:Lv,scaleNotes:Pm,steps:zv,tokenize:Sm,scale:Rv};const ji={0:{name:"Piano",programs:[{pc:0,name:"Acoustic Grand Piano"},{pc:1,name:"Bright Acoustic Piano"},{pc:2,name:"Electric Grand Piano"},{pc:3,name:"Honky-tonk Piano"},{pc:4,name:"Electric Piano 1"},{pc:5,name:"Electric Piano 2"},{pc:6,name:"Harpsichord"},{pc:7,name:"Clavi"}]},8:{name:"Chromatic Percussion",programs:[{pc:8,name:"Celesta"},{pc:9,name:"Glockenspiel"},{pc:10,name:"Music Box"},{pc:11,name:"Vibraphone"},{pc:12,name:"Marimba"},{pc:13,name:"Xylophone"},{pc:14,name:"Tubular Bells"},{pc:15,name:"Dulcimer"}]},16:{name:"Organ",programs:[{pc:16,name:"Drawbar Organ"},{pc:17,name:"Percussive Organ"},{pc:18,name:"Rock Organ"},{pc:19,name:"Church Organ"},{pc:20,name:"Reed Organ"},{pc:21,name:"Accordion"},{pc:22,name:"Harmonica"},{pc:23,name:"Tango Accordion"}]},24:{name:"Guitar",programs:[{pc:24,name:"Acoustic Guitar (nylon)"},{pc:25,name:"Acoustic Guitar (steel)"},{pc:26,name:"Electric Guitar (jazz)"},{pc:27,name:"Electric Guitar (clean)"},{pc:28,name:"Electric Guitar (muted)"},{pc:29,name:"Overdriven Guitar"},{pc:30,name:"Distortion Guitar"},{pc:31,name:"Guitar harmonics"}]},32:{name:"Bass",programs:[{pc:32,name:"Acoustic Bass"},{pc:33,name:"Electric Bass (finger)"},{pc:34,name:"Electric Bass (pick)"},{pc:35,name:"Fretless Bass"},{pc:36,name:"Slap Bass 1"},{pc:37,name:"Slap Bass 2"},{pc:38,name:"Synth Bass 1"},{pc:39,name:"Synth Bass 2"}]},40:{name:"Strings",programs:[{pc:40,name:"Violin"},{pc:41,name:"Viola"},{pc:42,name:"Cello"},{pc:43,name:"Contrabass"},{pc:44,name:"Tremolo Strings"},{pc:45,name:"Pizzicato Strings"},{pc:46,name:"Orchestral Harp"},{pc:47,name:"Timpani"}]},48:{name:"Ensemble",programs:[{pc:48,name:"String Ensemble 1"},{pc:49,name:"String Ensemble 2"},{pc:50,name:"SynthStrings 1"},{pc:51,name:"SynthStrings 2"},{pc:52,name:"Choir Aahs"},{pc:53,name:"Voice Oohs"},{pc:54,name:"Synth Voice"},{pc:55,name:"Orchestra Hit"}]},56:{name:"Brass",programs:[{pc:56,name:"Trumpet"},{pc:57,name:"Trombone"},{pc:58,name:"Tuba"},{pc:59,name:"Muted Trumpet"},{pc:60,name:"French Horn"},{pc:61,name:"Brass Section"},{pc:62,name:"SynthBrass 1"},{pc:63,name:"SynthBrass 2"}]},64:{name:"Reed",programs:[{pc:64,name:"Soprano Sax"},{pc:65,name:"Alto Sax"},{pc:66,name:"Tenor Sax"},{pc:67,name:"Baritone Sax"},{pc:68,name:"Oboe"},{pc:69,name:"English Horn"},{pc:70,name:"Bassoon"},{pc:71,name:"Clarinet"}]},72:{name:"Pipe",programs:[{pc:72,name:"Piccolo"},{pc:73,name:"Flute"},{pc:74,name:"Recorder"},{pc:75,name:"Pan Flute"},{pc:76,name:"Blown Bottle"},{pc:77,name:"Shakuhachi"},{pc:78,name:"Whistle"},{pc:79,name:"Ocarina"}]},80:{name:"Synth Lead",programs:[{pc:80,name:"Lead 1 (square)"},{pc:81,name:"Lead 2 (sawtooth)"},{pc:82,name:"Lead 3 (calliope)"},{pc:83,name:"Lead 4 (chiff)"},{pc:84,name:"Lead 5 (charang)"},{pc:85,name:"Lead 6 (voice)"},{pc:86,name:"Lead 7 (fifths)"},{pc:87,name:"Lead 8 (bass + lead)"}]},88:{name:"Synth Pad",programs:[{pc:88,name:"Pad 1 (new age)"},{pc:89,name:"Pad 2 (warm)"},{pc:90,name:"Pad 3 (polysynth)"},{pc:91,name:"Pad 4 (choir)"},{pc:92,name:"Pad 5 (bowed)"},{pc:93,name:"Pad 6 (metallic)"},{pc:94,name:"Pad 7 (halo)"},{pc:95,name:"Pad 8 (sweep)"}]},96:{name:"Synth Effects",programs:[{pc:96,name:"FX 1 (rain)"},{pc:97,name:"FX 2 (soundtrack)"},{pc:98,name:"FX 3 (crystal)"},{pc:99,name:"FX 4 (atmosphere)"},{pc:100,name:"FX 5 (brightness)"},{pc:101,name:"FX 6 (goblins)"},{pc:102,name:"FX 7 (echoes)"},{pc:103,name:"FX 8 (sci-fi)"}]},104:{name:"Ethnic",programs:[{pc:104,name:"Sitar"},{pc:105,name:"Banjo"},{pc:106,name:"Shamisen"},{pc:107,name:"Koto"},{pc:108,name:"Kalimba"},{pc:109,name:"Bag pipe"},{pc:110,name:"Fiddle"},{pc:111,name:"Shanai"}]},112:{name:"Percussive",programs:[{pc:112,name:"Tinkle Bell"},{pc:113,name:"Agogo"},{pc:114,name:"Steel Drums"},{pc:115,name:"Woodblock"},{pc:116,name:"Taiko Drum"},{pc:117,name:"Melodic Tom"},{pc:118,name:"Synth Drum"},{pc:119,name:"Reverse Cymbal"}]},120:{name:"Sound Effects",programs:[{pc:120,name:"Guitar Fret Noise"},{pc:121,name:"Breath Noise"},{pc:122,name:"Seashore"},{pc:123,name:"Bird Tweet"},{pc:124,name:"Telephone Ring"},{pc:125,name:"Helicopter"},{pc:126,name:"Applause"},{pc:127,name:"Gunshot"}]}},Ri={0:{name:"Standard Kits",programs:[{pc:0,name:"Standard Kit"},{pc:8,name:"Room Kit"},{pc:16,name:"Power Kit"},{pc:24,name:"Electronic Kit"},{pc:25,name:"TR-808 Kit"},{pc:32,name:"Jazz Kit"},{pc:40,name:"Brush Kit"},{pc:48,name:"Orchestra Kit"},{pc:56,name:"SFX Kit"}]}},Vv=e=>e===10?Object.entries(Ri).map(([t,n])=>({lsb:parseInt(t),name:n.name||`Drum Bank ${t}`})):Object.entries(ji).map(([t,n])=>({lsb:parseInt(t),name:n.name||`Bank ${t}`})),Pc=(e,t)=>{var n,r;return e===10?((n=Ri[t])==null?void 0:n.programs)||[]:((r=ji[t])==null?void 0:r.programs)||[]};function Uv(e){const{selectedOutputId:t,sendMessage:n,log:r}=e,[o,l]=w.useState(1),[i,s]=w.useState([]),[a,u]=w.useState(0),[d,p]=w.useState([]),[m,g]=w.useState(0);w.useEffect(()=>{const c=Vv(o);if(s(c),c.length>0){u(c[0].lsb);const h=Pc(o,c[0].lsb);p(h),h.length>0?g(h[0].pc):g(0)}else u(0),p([]),g(0)},[o]),w.useEffect(()=>{const c=Pc(o,a);p(c),c.length>0?g(c[0].pc):g(0)},[a,o]);const y=w.useCallback(()=>{const c=o===10,h=c?Ri:ji;let S=null;const _=h[a];if(_&&_.programs&&(S=_.programs.find(Z=>Z.pc===m)),!S){typeof r=="function"?r(`Could not find sound details for Channel: ${o}, Bank LSB: ${a}, Program PC: ${m}. Cannot send.`,"WARN"):console.warn("[Gm2SoundSelector] Log function not available when checking sound details.");return}const T=S.msb??0,M=a,P=m,D=o-1,N=176,H=192,W=0,F=32;if(isNaN(T)||isNaN(M)||isNaN(P)||isNaN(D)||D<0||D>15){typeof r=="function"?r(`Invalid sound selection parameters: MSB=${T}, LSB=${M}, PC=${P}, Channel=${o}`,"ERROR"):console.error("[Gm2SoundSelector] Log function not available for invalid parameters error.");return}typeof r=="function"&&r(`Sending Bank Select MSB: Status=0x${(N+D).toString(16)}, Data=[${W}, ${T}]`,"DEBUG"),n(N+D,[W,T]),typeof r=="function"&&r(`Sending Bank Select LSB: Status=0x${(N+D).toString(16)}, Data=[${F}, ${M}]`,"DEBUG"),n(N+D,[F,M]),typeof r=="function"&&r(`Sending Program Change: Status=0x${(H+D).toString(16)}, Data=[${P}]`,"DEBUG"),n(H+D,[P]),typeof r=="function"&&r(`GM2 sound selected: Bank MSB=${T}, LSB=${M}, PC=${P} on channel ${o}`)},[o,a,m,t,r,n,Ri,ji]),E=c=>{u(parseInt(c.target.value,10))},R=c=>{g(parseInt(c.target.value,10))},f=c=>{l(parseInt(c.target.value,10))};return v.jsxs("div",{style:{border:"1px dashed green",padding:"10px",marginTop:"10px"},children:[v.jsxs("div",{style:{marginBottom:"10px"},children:[v.jsx("label",{htmlFor:"gm2-channel",style:{marginRight:"5px"},children:"MIDI Channel:"}),v.jsx("select",{id:"gm2-channel",value:o,onChange:f,children:[...Array(16).keys()].map(c=>v.jsxs("option",{value:c+1,children:[c+1,c+1===10?" (Drums)":""]},c+1))})]}),v.jsxs("div",{style:{marginBottom:"10px"},children:[v.jsx("label",{htmlFor:"gm2-bank",style:{marginRight:"5px"},children:o===10?"Drum Bank:":"Sound Bank:"}),v.jsx("select",{id:"gm2-bank",value:a,onChange:E,disabled:i.length===0,children:i.map(c=>v.jsxs("option",{value:c.lsb,children:[c.name," (LSB: ",c.lsb,")"]},c.lsb))})]}),v.jsxs("div",{style:{marginBottom:"10px"},children:[v.jsx("label",{htmlFor:"gm2-program",style:{marginRight:"5px"},children:o===10?"Drum Kit:":"Sound:"}),v.jsx("select",{id:"gm2-program",value:m,onChange:R,disabled:d.length===0,children:d.map(c=>v.jsxs("option",{value:c.pc,children:[c.name," (PC: ",c.pc+1,") "]},c.pc))})]}),v.jsxs("button",{onClick:y,disabled:!t,children:["Set Sound on Channel ",o]}),!t&&v.jsx("p",{style:{fontSize:"0.8em",marginTop:"5px",color:"grey"},children:"(Select MIDI Output in Setup tab to enable)"})]})}const Ec=[{id:"setup",label:"Setup"},{id:"metronome",label:"Metronome"},{id:"backingTrack",label:"Backing Track"},{id:"gm2Sounds",label:"GM2 Sounds"}];function Gv({modes:e,currentMode:t,onModeChange:n,rootNotes:r,octaves:o,scaleTypes:l,chordTypes:i,selectedRootNote:s,selectedOctave:a,selectedScaleType:u,selectedChordType:d,onRootChange:p,onOctaveChange:m,onScaleChange:g,onChordChange:y,diatonicTriads:E=[],diatonicSevenths:R=[],selectedDiatonicDegree:f,showSevenths:c,splitHandVoicing:h,rhInversion:S,inversions:_,onDiatonicDegreeChange:T,onShowSeventhsChange:M,onSplitHandVoicingChange:P,onRhInversionChange:D,splitHandInterval:N,onSplitHandIntervalChange:H,midiInputs:W=[],midiOutputs:F=[],selectedInputId:Z,selectedOutputId:ee,onSelectInput:z,onSelectOutput:Q,isMidiInitialized:x,isMetronomePlaying:A,metronomeBpm:j,metronomeSoundNote:L,metronomeSounds:O,metronomeTimeSignature:B,onToggleMetronome:ae,onChangeMetronomeTempo:K,onChangeMetronomeSound:te,onChangeMetronomeTimeSignature:ie,playbackState:ne,loadedMidiFileName:Me,availableMidiFiles:Qe=[],onLoadMidiFile:tt,onPlayMidiFile:Bn,onPauseMidiFile:xr,onStopMidiFile:Pn,style:Hn,availableProgressions:de=[],selectedProgressionId:_r,onProgressionChange:ut,voicingSplitHand:He,voicingLhOctaveOffset:Wt,voicingRhRootless:jt,onVoicingSplitHandChange:ll,onVoicingLhOffsetChange:Po,onVoicingRhRootlessChange:Eo,voicingUseShell:xo,voicingAddOctaveRoot:_o,onVoicingUseShellChange:wo,onVoicingAddOctaveRootChange:ko,log:sl,sendMessage:al}){var Io;const[Kt,wr]=w.useState(Ec[0].id);w.useEffect(()=>{},[ne,Me]);const ul=k=>{z(k.target.value||null)},cl=k=>{Q(k.target.value||null)},dl=k=>["I","II","III","IV","V","VI","VII"][k]||"?";return v.jsxs("div",{style:{border:"1px solid blue",padding:"10px",marginBottom:"10px"},children:[v.jsx("h2",{children:"Controls"}),v.jsx("div",{style:{display:"flex",borderBottom:"1px solid #ccc",marginBottom:"15px"},children:Ec.map(k=>v.jsx("button",{onClick:()=>wr(k.id),style:{padding:"8px 12px",border:"none",borderBottom:Kt===k.id?"3px solid blue":"3px solid transparent",background:"none",cursor:"pointer",fontWeight:Kt===k.id?"bold":"normal"},children:k.label},k.id))}),v.jsxs("div",{children:[Kt==="setup"&&v.jsxs("div",{children:[v.jsxs("div",{style:{marginBottom:"15px"},children:[v.jsx("label",{htmlFor:"mode-select",children:"Mode: "}),v.jsx("select",{id:"mode-select",value:t,onChange:k=>n(k.target.value),children:e&&e.map(k=>v.jsx("option",{value:k.value,children:k.label},k.value))})]}),v.jsxs("div",{style:{marginBottom:"10px"},children:[v.jsx("label",{children:"Root: "}),v.jsx("select",{value:s,onChange:k=>p(k.target.value),children:Array.isArray(r)&&r.map(k=>v.jsx("option",{value:k,children:k},k))}),v.jsx("label",{style:{marginLeft:"10px"},children:"Octave: "}),v.jsx("select",{value:a,onChange:k=>m(k.target.value),children:Array.isArray(o)&&o.map(k=>v.jsx("option",{value:k,children:k},k))})]}),v.jsxs("div",{style:{marginBottom:"10px"},children:[v.jsx("label",{children:"Scale: "}),v.jsx("select",{value:u,onChange:k=>g(k.target.value),children:Array.isArray(l)&&l.map(k=>v.jsx("option",{value:k,children:k},k))})]}),t==="chord_search"&&v.jsxs("div",{style:{marginBottom:"15px",borderLeft:"3px solid lightgrey",paddingLeft:"10px"},children:[v.jsx("label",{children:"Chord Type: "}),v.jsx("select",{value:d,onChange:k=>y(k.target.value),children:Array.isArray(i)&&i.map(k=>v.jsx("option",{value:k,children:k},k))})]}),t==="chord_progression"&&v.jsxs("div",{style:{marginBottom:"15px",borderLeft:"3px solid lightcoral",paddingLeft:"10px"},children:[v.jsx("label",{htmlFor:"progression-select",children:"Progression: "}),v.jsx("select",{id:"progression-select",value:_r||"",onChange:k=>ut(k.target.value),children:de.map(k=>v.jsx("option",{value:k.id,children:k.name},k.id))})]}),t==="chord_progression"&&v.jsxs("div",{style:{marginTop:"15px",borderLeft:"3px solid lightseagreen",paddingLeft:"10px"},children:[v.jsx("h4",{children:"Progression Voicing Options"}),v.jsx("div",{style:{marginBottom:"10px"},children:v.jsxs("label",{htmlFor:"prog-show-sevenths",children:[v.jsx("input",{type:"checkbox",id:"prog-show-sevenths",checked:c,onChange:M}),"Show 7ths"]})}),v.jsxs("div",{style:{marginBottom:"10px"},children:[v.jsx("label",{htmlFor:"prog-rh-inversion",style:{marginRight:"5px"},children:"RH Inversion:"}),v.jsx("select",{id:"prog-rh-inversion",value:S,onChange:k=>D(k.target.value),children:_&&_.map(k=>v.jsx("option",{value:k.value,disabled:k.value===3&&!c,children:k.label},k.value))})]}),v.jsxs("div",{style:{marginBottom:"10px"},children:[v.jsx("input",{type:"checkbox",id:"prog-split-hand",checked:He,onChange:ll}),v.jsx("label",{htmlFor:"prog-split-hand",children:" Split Hand (LH Root / RH Chord)"})]}),He&&v.jsxs("div",{style:{marginLeft:"20px",marginBottom:"10px"},children:[v.jsx("label",{style:{marginRight:"10px"},children:"LH Octave:"}),v.jsxs("label",{style:{marginRight:"15px"},children:[v.jsx("input",{type:"radio",name:"prog-lhOffset",value:-12,checked:Wt===-12,onChange:k=>Po(k.target.value)})," -1 Oct"]}),v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"prog-lhOffset",value:-24,checked:Wt===-24,onChange:k=>Po(k.target.value)})," -2 Oct"]})]}),He&&v.jsx("div",{style:{marginLeft:"20px",marginBottom:"10px"},children:v.jsxs("label",{htmlFor:"prog-rh-rootless",children:[v.jsx("input",{type:"checkbox",id:"prog-rh-rootless",checked:jt,onChange:Eo,disabled:!He}),"Rootless RH Chord"]})}),v.jsx("div",{style:{marginBottom:"10px"},children:v.jsxs("label",{htmlFor:"prog-shell-voicing",children:[v.jsx("input",{type:"checkbox",id:"prog-shell-voicing",checked:xo,onChange:wo}),"Shell Voicing (R, 3, 7)"]})}),v.jsx("div",{style:{marginBottom:"10px"},children:v.jsxs("label",{htmlFor:"prog-add-octave-root",children:[v.jsx("input",{type:"checkbox",id:"prog-add-octave-root",checked:_o,onChange:ko}),"Add Upper Octave Root"]})})]}),t==="diatonic_chords"&&v.jsxs("div",{style:{marginTop:"10px",borderTop:"1px solid #eee",paddingTop:"10px"},children:[v.jsx("h4",{children:"Diatonic Chords"}),v.jsx("div",{style:{marginBottom:"10px",display:"flex",gap:"5px",flexWrap:"wrap"},children:(c?R:E).map((k,gt)=>{if(!k)return null;const En=Ue.get(k).quality,No=dl(gt);let kr={};En==="Minor"&&(kr.fontWeight="normal"),En==="Diminished"&&(kr.opacity=.7);const fl=`${En==="Minor"?No.toLowerCase():No}${En==="Diminished"?"":""}`,ml=gt===f;return v.jsxs("button",{onClick:()=>T(gt),style:{...kr,border:ml?"2px solid blue":"1px solid grey",padding:"5px 8px"},title:k,children:[fl," (",k,")"]},gt)})}),v.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center",flexWrap:"wrap"},children:[v.jsxs("div",{children:[v.jsx("input",{type:"checkbox",id:"show-sevenths",checked:c,onChange:M}),v.jsx("label",{htmlFor:"show-sevenths",children:" Show 7ths"})]}),v.jsxs("div",{children:[v.jsx("input",{type:"checkbox",id:"split-hand",checked:h,onChange:P}),v.jsx("label",{htmlFor:"split-hand",children:" Split Hand Voicing"})]}),h&&v.jsxs("div",{style:{marginLeft:"10px"},children:[v.jsx("label",{style:{marginRight:"5px"},children:"Interval:"}),v.jsxs("label",{style:{marginRight:"10px"},children:[v.jsx("input",{type:"radio",name:"splitInterval",value:"12",checked:N===12,onChange:H})," 1 Octave"]}),v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"splitInterval",value:"24",checked:N===24,onChange:H})," 2 Octaves"]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"rh-inversion",style:{marginRight:"5px"},children:"RH Inversion:"}),v.jsx("select",{id:"rh-inversion",value:S,onChange:k=>D(k.target.value),children:_&&_.map(k=>v.jsx("option",{value:k.value,disabled:k.value===3&&!c,children:k.label},k.value))})]})]}),h&&v.jsx("div",{style:{marginTop:"10px",marginLeft:"15px"},children:v.jsxs("label",{htmlFor:"diatonic-rh-rootless",children:[v.jsx("input",{type:"checkbox",id:"diatonic-rh-rootless",checked:jt,onChange:Eo,disabled:!h}),"Rootless RH Chord"]})}),v.jsx("div",{style:{marginTop:"10px",marginLeft:"15px"},children:v.jsxs("label",{htmlFor:"diatonic-shell-voicing",children:[v.jsx("input",{type:"checkbox",id:"diatonic-shell-voicing",checked:xo,onChange:wo}),"Shell Voicing (R, 3, 7)"]})}),v.jsx("div",{style:{marginTop:"10px",marginLeft:"15px"},children:v.jsxs("label",{htmlFor:"diatonic-add-octave-root",children:[v.jsx("input",{type:"checkbox",id:"diatonic-add-octave-root",checked:_o,onChange:ko}),"Add Upper Octave Root"]})})]}),v.jsxs("div",{style:{borderTop:"1px solid #eee",paddingTop:"10px",marginTop:"15px"},children:[v.jsx("h4",{children:"MIDI Devices"}),v.jsxs("div",{style:{marginBottom:"10px"},children:[v.jsx("label",{htmlFor:"midi-input",children:"MIDI Input: "}),v.jsxs("select",{id:"midi-input",value:Z||"",onChange:ul,disabled:!x||W.length===0,children:[v.jsx("option",{value:"",children:"-- Select Input --"}),W.map(k=>v.jsx("option",{value:k.id,children:k.name},k.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"midi-output",children:"MIDI Output: "}),v.jsxs("select",{id:"midi-output",value:ee||"",onChange:cl,disabled:!x||F.length===0,children:[v.jsx("option",{value:"",children:"-- Select Output --"}),F.map(k=>v.jsx("option",{value:k.id,children:k.name},k.id))]})]}),!x&&v.jsx("p",{children:v.jsx("small",{children:"Initializing MIDI..."})}),x&&W.length===0&&F.length===0&&v.jsx("p",{children:v.jsx("small",{children:"MIDI Initialized, but no devices found."})})]})]}),Kt==="metronome"&&v.jsxs("div",{style:{border:"none",padding:"0"},children:[" ",v.jsx("h4",{children:"Metronome"}),v.jsxs("div",{children:[v.jsx("button",{onClick:ae,disabled:!ee,children:A?"Stop":"Start"}),v.jsx("label",{htmlFor:"metronome-bpm",style:{marginLeft:"10px"},children:" BPM: "}),v.jsx("input",{type:"number",id:"metronome-bpm",value:j,onChange:k=>K(k.target.value),min:"30",max:"300",step:"1",style:{width:"60px"},disabled:!ee}),v.jsx("label",{htmlFor:"metronome-sound",style:{marginLeft:"10px"},children:" Sound: "}),v.jsx("select",{id:"metronome-sound",value:L,onChange:k=>te(k.target.value),disabled:!ee,children:Object.entries(O).map(([k,gt])=>v.jsxs("option",{value:gt,children:[k," (",gt,")"]},gt))}),v.jsx("label",{htmlFor:"metronome-timesig",style:{marginLeft:"10px"},children:" Time Sig: "}),v.jsxs("select",{id:"metronome-timesig",value:B,onChange:k=>ie(k.target.value),disabled:!ee,children:[v.jsx("option",{value:"none",children:"None"}),v.jsx("option",{value:"3/4",children:"3/4"}),v.jsx("option",{value:"4/4",children:"4/4"})]})]}),!ee&&x&&v.jsx("p",{children:v.jsx("small",{children:"Select a MIDI Output device (in Setup tab) to enable Metronome."})})]}),Kt==="backingTrack"&&v.jsxs("div",{style:{border:"none",padding:"0"},children:[" ",v.jsx("h4",{children:"MIDI Backing Track"}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap"},children:[v.jsx("label",{htmlFor:"midi-file-select",children:"Select Track:"}),v.jsxs("select",{id:"midi-file-select",onChange:k=>tt(k.target.value),value:((Io=Qe.find(k=>k.name===Me))==null?void 0:Io.url)||"",disabled:ne==="playing"||ne==="paused",children:[v.jsx("option",{value:"",children:"-- Choose a MIDI file --"}),Qe.map(k=>v.jsx("option",{value:k.url,children:k.name},k.url))]}),v.jsx("button",{onClick:Bn,disabled:!Me||ne==="playing",children:"Play"}),v.jsx("button",{onClick:xr,disabled:ne!=="playing",children:"Pause"}),v.jsx("button",{onClick:Pn,disabled:ne==="stopped",children:"Stop"}),Me&&v.jsxs("span",{style:{marginLeft:"15px",fontStyle:"italic"},children:["Loaded: ",Me]}),ne!=="stopped"&&v.jsxs("span",{style:{marginLeft:"15px",fontWeight:"bold"},children:["(",ne,")"]})]}),!ee&&x&&v.jsx("p",{style:{marginTop:"5px"},children:v.jsx("small",{children:"Select a MIDI Output device (in Setup tab) to enable playback."})})]}),Kt==="gm2Sounds"&&v.jsx(Uv,{selectedOutputId:ee,sendMessage:al,log:sl})]})]})}class Em{constructor(){this.NOTE_NAMES=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this.SCALE_INTERVALS={major:[0,2,4,5,7,9,11]},this.CHORD_INTERVALS={maj:[0,4,7],min:[0,3,7]},console.log("MusicLogic module initialized")}noteNameToMidi(t){const n=t.toUpperCase().match(/^([A-G])(#?)(\d?)$/);if(!n)return null;let r=n[1],o=n[2]==="#",l=n[3],i=l?parseInt(l,10):4,s=this.NOTE_NAMES.findIndex(d=>d.startsWith(r));if(s===-1)return null;let a=(i+1)*12+s,u=this.NOTE_NAMES.indexOf(r+(o?"#":""));if(u===-1){if((r==="E"||r==="B")&&o)return null;u=s;const d=this.NOTE_NAMES.indexOf(r+"#");if(d!==-1&&o)u=d;else if(d===-1&&o)return null}return a=(i+1)*12+u,a}midiToNoteName(t){if(t<0||t>127)return"Invalid MIDI value";const n=Math.floor(t/12)-1,r=t%12;return this.NOTE_NAMES[r]+n}getScale(t,n){const r=typeof t=="string"?this.noteNameToMidi(t):t;if(r===null||!this.SCALE_INTERVALS[n])return console.error(`Invalid root (${t}) or scale type (${n})`),null;const o=this.SCALE_INTERVALS[n],l=o.map(a=>r+a),i=this.midiToNoteName(r).replace(/\d+$/,""),s=o.map((a,u)=>u+1).join(" ");return{name:`${i} ${n}`,type:n,rootMidi:r,notes:l,formula:s}}getChord(t,n){const r=typeof t=="string"?this.noteNameToMidi(t):t;if(r===null||!this.CHORD_INTERVALS[n])return console.error(`Invalid root (${t}) or chord type (${n})`),null;const l=this.CHORD_INTERVALS[n].map(a=>r+a);return{name:`${this.midiToNoteName(r).replace(/\d+$/,"")}${n}`,type:n,rootMidi:r,notes:l,formula:"TBD"}}getScaleFormula(t){return this.SCALE_INTERVALS[t]?this.SCALE_INTERVALS[t].map((n,r)=>r+1).join(" "):"Unknown Scale Type"}getChordFormula(t){return this.CHORD_INTERVALS[t]?t==="maj"?"1 3 5":t==="min"?"1 b3 5":"TBD":"Unknown Chord Type"}}new Em;function Wv({selectedRoot:e,selectedScaleType:t,selectedChordType:n,currentMode:r,diatonicTriads:o=[],diatonicSevenths:l=[],selectedDiatonicDegree:i,showSevenths:s,selectedProgression:a=null,transposedProgressionChords:u=[]}){var R,f;let d="-",p=[],m="-",g="-",y=[];try{if(r==="scale_display"&&e&&t){const c=`${V.pitchClass(e)} ${t}`,h=Lt.get(c);if(h&&Array.isArray(h.notes)){d=h.name||c,p=h.notes,m=p.join(", "),g=h.intervals.join(" ");const S=V.octave(e)||4;y=p.map(_=>V.midi(`${_}${S}`)).filter(Boolean)}else d=`${c} (Invalid)`}else if(r==="chord_search"&&e&&n){const c=`${V.pitchClass(e)}${n}`,h=Ue.get(c);if(h&&Array.isArray(h.notes)){d=c,p=h.notes,m=p.join(", "),g=h.intervals.join(" ");const S=V.octave(e)||4;y=Ue.getChord(n,`${V.pitchClass(e)}${S}`).notes.map(V.midi).filter(Boolean)}}else if(r==="diatonic_chords"&&e&&t){console.log("InfoDisplay.jsx - Diatonic mode, received degree:",i);const c=`${V.pitchClass(e)} ${t}`,h=s?l:o;if(!Array.isArray(h)||h.length<7||i<0||i>=h.length||!h[i])console.warn(`InfoDisplay.jsx - Invalid/incomplete chord list (${Array.isArray(h)?h.length:"N/A"} items) or degree index (${i}) for ${c}`),d=`Loading chords for ${c}...`,p=[],g="-",y=[],m="-";else{const S=h[i];console.log("InfoDisplay - targetChordName before Chord.get:",S);const _=Ue.get(S);if(_&&Array.isArray(_.notes)&&_.notes.length>0){let M=["I","ii","iii","IV","V","vi","vii"][i]||"?";_.quality==="Minor"&&(M=M.toLowerCase()),_.quality==="Diminished"&&(M+=""),s&&_.type!=="dominant seventh"&&_.type!=="major seventh"&&_.type!=="minor seventh"&&_.type,d=`${M}: ${S} (in ${c})`,p=_.notes,g=_.intervals.join(" "),m=p.join(", ");const P=_.tonic,D=V.octave(e)||4;if(P){const N=(R=_.aliases)==null?void 0:R[0];if(!N)console.warn(`InfoDisplay.jsx - Could not determine chord type alias for ${S}`),y=[];else{const H=Ue.getChord(N,`${P}${D}`);H&&Array.isArray(H.notes)?y=H.notes.map(V.midi).filter(Boolean):(console.warn(`InfoDisplay.jsx - Chord.getChord failed for type ${N} and root ${P}${D}`),y=[])}}else console.warn(`Could not get tonic for ${S} to calculate MIDI notes.`),y=[]}else console.warn(`Could not get data for chord ${S}`),d=`Error: Could not get data for ${S}`,p=[],g="-",y=[],m="-"}}else if(r==="chord_progression")if(a&&u.length>0){d=`Progression: ${a.name||"Selected Progression"}`;const c=u.map(_=>_.roman||"?").join(" - ");m=`Chords: ${u.map(_=>_.name||"?").join(" - ")}`,g=`Roman: ${c}`;const S=((f=u[0])==null?void 0:f.midiNotes)||[];y=S,p=S}else d="Loading Progression...",m="-",g="-",p="-",y=[]}catch(c){console.error("Error in InfoDisplay:",c),d=c.message||"Error processing selection",p=[],y=[],g="-",m="-"}const E={title:d,formula:`Formula: ${g||"N/A"}`,noteNames:`Notes: ${m}`,midiNotesDisplay:`MIDI: ${Array.isArray(y)?y.join(", "):"N/A"}`};return v.jsxs("div",{style:{border:"1px solid orange",padding:"10px",margin:"10px 0"},children:[v.jsx("h2",{children:"Info Display"}),v.jsx("h3",{children:E.title}),v.jsx("p",{children:E.noteNames}),v.jsx("p",{children:E.formula}),v.jsx("p",{children:v.jsx("small",{children:E.midiNotesDisplay})})]})}function Kv({logMessages:e=[]}){return v.jsxs("div",{style:{border:"1px solid red",padding:"10px",margin:"10px 0",height:"150px",overflowY:"scroll",fontFamily:"monospace",fontSize:"12px",backgroundColor:"#f0f0f0"},children:[v.jsx("h2",{children:"MIDI Monitor"}),e.length>0?e.map((t,n)=>v.jsx("div",{children:t},n)):v.jsx("p",{children:"Waiting for MIDI logs..."})]})}function Qv({rootNote:e,notesToHighlight:t=[],playedNotes:n=[],expectedNotes:r=[]}){const o=w.useRef(null),l=36,i=4,s=7*i+1,a=12*i+1;return w.useEffect(()=>{var H;const u=o.current,d=u.getContext("2d"),p=u.width,m=u.height,g=p/s,y=m,E=g*.6,R=y*.6,f="#ffffff",c="#000000",h="#cccccc",S="#a0d2ff",_="#4a90e2",T="#90ee90",M="#ffa500";d.fillStyle=f,d.fillRect(0,0,p,m);let P=0;const D=[];for(let W=0;W<a;W++){const F=l+W,Z=F%12;if(![1,3,6,8,10].includes(Z)){const z=P,Q=g,x=y,A=F===e,j=t.includes(F),L=n.includes(F),O=r.includes(F);let B=f;j&&(B=S),A&&j&&(B=_),O&&(B=M),L&&(B=T),d.fillStyle=B,d.fillRect(z,0,Q,x),d.strokeStyle=h,d.strokeRect(z,0,Q,x),D.push({midiNote:F,isBlackKey:!1,x:z,width:Q,height:x}),P+=g}}let N=0;for(let W=0;W<a;W++){const F=l+W,Z=F%12;if(![1,3,6,8,10].includes(Z)){const z=((H=D.find(x=>!x.isBlackKey&&x.midiNote===F))==null?void 0:H.x)??N*g;if([1,3,6,8,10].includes((Z+1)%12)&&Z!==4&&Z!==11){const x=z+g-E/2,A=F+1,j=A===e,L=t.includes(A),O=n.includes(A),B=r.includes(A);let ae=c;L&&(ae=S),j&&L&&(ae=_),B&&(ae=M),O&&(ae=T),d.fillStyle=ae,d.fillRect(x,0,E,R),d.strokeStyle=h,d.strokeRect(x,0,E,R),D.push({midiNote:A,isBlackKey:!0,x,width:E,height:R})}N++}}},[e,t,l,i,n,r]),v.jsxs("div",{style:{border:"1px solid green",padding:"10px",margin:"10px 0"},children:[v.jsx("h2",{children:"Piano Keyboard"}),v.jsx("canvas",{ref:o,width:720,height:220,style:{border:"1px solid #ccc"}})]})}var xm={exports:{}};(function(e){(function(t){function n(){if(n.prototype._singleton)throw new Error("WebMidi is a singleton, it cannot be instantiated directly.");(n.prototype._singleton=this)._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=["connected","disconnected"],this._nrpnBuffer=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this._nrpnEventsEnabled=!0,this._nrpnTypes=["entry","increment","decrement"],this._notes=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,nrpn:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_NRPN_MESSAGES:{value:{entrymsb:6,entrylsb:38,increment:96,decrement:97,paramlsb:98,parammsb:99,nullactiveparameter:127},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1},octaveOffset:{value:0,writable:!0,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return"requestMIDIAccess"in navigator}},enabled:{enumerable:!0,get:(function(){return this.interface!==void 0}).bind(this)},inputs:{enumerable:!0,get:(function(){return this._inputs}).bind(this)},outputs:{enumerable:!0,get:(function(){return this._outputs}).bind(this)},sysexEnabled:{enumerable:!0,get:(function(){return!(!this.interface||!this.interface.sysexEnabled)}).bind(this)},nrpnEventsEnabled:{enumerable:!0,get:(function(){return!!this._nrpnEventsEnabled}).bind(this),set:function(i){return this._nrpnEventsEnabled=i,this._nrpnEventsEnabled}},nrpnTypes:{enumerable:!0,get:(function(){return this._nrpnTypes}).bind(this)},time:{enumerable:!0,get:function(){return performance.now()}}})}var r=new n;function o(i){var s=this;this._userHandlers={channel:{},system:{}},this._midiInput=i,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return s._midiInput.connection}},id:{enumerable:!0,get:function(){return s._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return s._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return s._midiInput.name}},state:{enumerable:!0,get:function(){return s._midiInput.state}},type:{enumerable:!0,get:function(){return s._midiInput.type}}}),this._initializeUserHandlers(),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}function l(i){var s=this;this._midiOutput=i,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return s._midiOutput.connection}},id:{enumerable:!0,get:function(){return s._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return s._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return s._midiOutput.name}},state:{enumerable:!0,get:function(){return s._midiOutput.state}},type:{enumerable:!0,get:function(){return s._midiOutput.type}}})}n.prototype.enable=function(i,s){this.enabled||(this.supported?navigator.requestMIDIAccess({sysex:s}).then((function(a){var u,d=[],p=[];this.interface=a,this._resetInterfaceUserHandlers(),this.interface.onstatechange=function(f){d.push(f)};for(var m=a.inputs.values(),g=m.next();g&&!g.done;g=m.next())p.push(g.value.open());for(var y=a.outputs.values(),E=y.next();E&&!E.done;E=y.next())p.push(E.value.open());function R(){clearTimeout(u),this._updateInputsAndOutputs(),this.interface.onstatechange=this._onInterfaceStateChange.bind(this),typeof i=="function"&&i.call(this),d.forEach((function(f){this._onInterfaceStateChange(f)}).bind(this))}u=setTimeout(R.bind(this),200),Promise&&Promise.all(p).catch(function(f){}).then(R.bind(this))}).bind(this),(function(a){typeof i=="function"&&i.call(this,a)}).bind(this)):typeof i=="function"&&i(new Error("The Web MIDI API is not supported by your browser.")))},n.prototype.disable=function(){if(!this.supported)throw new Error("The Web MIDI API is not supported by your browser.");this.enabled&&(this.removeListener(),this.inputs.forEach(function(i){i.removeListener()})),this.interface&&(this.interface.onstatechange=void 0),this.interface=void 0,this._inputs=[],this._outputs=[],this._nrpnEventsEnabled=!0,this._resetInterfaceUserHandlers()},n.prototype.addListener=function(i,s){if(!this.enabled)throw new Error("WebMidi must be enabled before adding event listeners.");if(typeof s!="function")throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(i)))throw new TypeError("The specified event type is not supported.");return this._userHandlers[i].push(s),this},n.prototype.hasListener=function(i,s){if(!this.enabled)throw new Error("WebMidi must be enabled before checking event listeners.");if(typeof s!="function")throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(i)))throw new TypeError("The specified event type is not supported.");for(var a=0;a<this._userHandlers[i].length;a++)if(this._userHandlers[i][a]===s)return!0;return!1},n.prototype.removeListener=function(i,s){if(!this.enabled)throw new Error("WebMidi must be enabled before removing event listeners.");if(s!==void 0&&typeof s!="function")throw new TypeError("The 'listener' parameter must be a function.");if(0<=this._midiInterfaceEvents.indexOf(i))if(s)for(var a=0;a<this._userHandlers[i].length;a++)this._userHandlers[i][a]===s&&this._userHandlers[i].splice(a,1);else this._userHandlers[i]=[];else{if(i!==void 0)throw new TypeError("The specified event type is not supported.");this._resetInterfaceUserHandlers()}return this},n.prototype.toMIDIChannels=function(i){var s;if(i==="all"||i===void 0)s=["all"];else{if(i==="none")return s=[];s=Array.isArray(i)?i:[i]}return-1<s.indexOf("all")&&(s=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),s.map(function(a){return parseInt(a)}).filter(function(a){return 1<=a&&a<=16})},n.prototype.getInputById=function(i){if(!this.enabled)throw new Error("WebMidi is not enabled.");i=String(i);for(var s=0;s<this.inputs.length;s++)if(this.inputs[s].id===i)return this.inputs[s];return!1},n.prototype.getOutputById=function(i){if(!this.enabled)throw new Error("WebMidi is not enabled.");i=String(i);for(var s=0;s<this.outputs.length;s++)if(this.outputs[s].id===i)return this.outputs[s];return!1},n.prototype.getInputByName=function(i){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var s=0;s<this.inputs.length;s++)if(~this.inputs[s].name.indexOf(i))return this.inputs[s];return!1},n.prototype.getOctave=function(i){if(i!=null&&0<=i&&i<=127)return Math.floor(Math.floor(i)/12-1)+Math.floor(r.octaveOffset)},n.prototype.getOutputByName=function(i){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var s=0;s<this.outputs.length;s++)if(~this.outputs[s].name.indexOf(i))return this.outputs[s];return!1},n.prototype.guessNoteNumber=function(i){var s=!1;if(i&&i.toFixed&&0<=i&&i<=127?s=Math.round(i):0<=parseInt(i)&&parseInt(i)<=127?s=parseInt(i):(typeof i=="string"||i instanceof String)&&(s=this.noteNameToNumber(i)),s===!1)throw new Error("Invalid input value ("+i+").");return s},n.prototype.noteNameToNumber=function(i){typeof i!="string"&&(i="");var s=i.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)/i);if(!s)throw new RangeError("Invalid note name.");var a=r._semitones[s[1].toUpperCase()],u=12*(parseInt(s[3])+1-Math.floor(r.octaveOffset))+a;if(-1<s[2].toLowerCase().indexOf("b")?u-=s[2].length:-1<s[2].toLowerCase().indexOf("#")&&(u+=s[2].length),u<0||127<u)throw new RangeError("Invalid note name or note outside valid range.");return u},n.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},n.prototype._updateInputs=function(){for(var i=0;i<this._inputs.length;i++){for(var s=!0,a=this.interface.inputs.values(),u=a.next();u&&!u.done;u=a.next())if(this._inputs[i]._midiInput===u.value){s=!1;break}s&&this._inputs.splice(i,1)}this.interface&&this.interface.inputs.forEach((function(d){for(var p=!0,m=0;m<this._inputs.length;m++)this._inputs[m]._midiInput===d&&(p=!1);p&&this._inputs.push(new o(d))}).bind(this))},n.prototype._updateOutputs=function(){for(var i=0;i<this._outputs.length;i++){for(var s=!0,a=this.interface.outputs.values(),u=a.next();u&&!u.done;u=a.next())if(this._outputs[i]._midiOutput===u.value){s=!1;break}s&&this._outputs.splice(i,1)}this.interface&&this.interface.outputs.forEach((function(d){for(var p=!0,m=0;m<this._outputs.length;m++)this._outputs[m]._midiOutput===d&&(p=!1);p&&this._outputs.push(new l(d))}).bind(this))},n.prototype._onInterfaceStateChange=function(i){this._updateInputsAndOutputs();var s={timestamp:i.timeStamp,type:i.port.state};this.interface&&i.port.state==="connected"?i.port.type==="output"?s.port=this.getOutputById(i.port.id):i.port.type==="input"&&(s.port=this.getInputById(i.port.id)):s.port={connection:"closed",id:i.port.id,manufacturer:i.port.manufacturer,name:i.port.name,state:i.port.state,type:i.port.type},this._userHandlers[i.port.state].forEach(function(a){a(s)})},n.prototype._resetInterfaceUserHandlers=function(){for(var i=0;i<this._midiInterfaceEvents.length;i++)this._userHandlers[this._midiInterfaceEvents[i]]=[]},o.prototype.on=o.prototype.addListener=function(i,s,a){var u=this;if(s===void 0&&(s="all"),Array.isArray(s)||(s=[s]),s.forEach(function(p){if(p!=="all"&&!(1<=p&&p<=16))throw new RangeError("The 'channel' parameter is invalid.")}),typeof a!="function")throw new TypeError("The 'listener' parameter must be a function.");if(r.MIDI_SYSTEM_MESSAGES[i]!==void 0)this._userHandlers.system[i]||(this._userHandlers.system[i]=[]),this._userHandlers.system[i].push(a);else{if(r.MIDI_CHANNEL_MESSAGES[i]===void 0)throw new TypeError("The specified event type is not supported.");if(-1<s.indexOf("all")){s=[];for(var d=1;d<=16;d++)s.push(d)}this._userHandlers.channel[i]||(this._userHandlers.channel[i]=[]),s.forEach(function(p){u._userHandlers.channel[i][p]||(u._userHandlers.channel[i][p]=[]),u._userHandlers.channel[i][p].push(a)})}return this},o.prototype.hasListener=function(i,s,a){var u=this;if(typeof a!="function")throw new TypeError("The 'listener' parameter must be a function.");if(s===void 0&&(s="all"),s.constructor!==Array&&(s=[s]),r.MIDI_SYSTEM_MESSAGES[i]!==void 0){for(var d=0;d<this._userHandlers.system[i].length;d++)if(this._userHandlers.system[i][d]===a)return!0}else if(r.MIDI_CHANNEL_MESSAGES[i]!==void 0){if(-1<s.indexOf("all")){s=[];for(var p=1;p<=16;p++)s.push(p)}return!!this._userHandlers.channel[i]&&s.every(function(m){var g=u._userHandlers.channel[i][m];return g&&-1<g.indexOf(a)})}return!1},o.prototype.removeListener=function(i,s,a){var u=this;if(a!==void 0&&typeof a!="function")throw new TypeError("The 'listener' parameter must be a function.");if(s===void 0&&(s="all"),s.constructor!==Array&&(s=[s]),r.MIDI_SYSTEM_MESSAGES[i]!==void 0)if(a===void 0)this._userHandlers.system[i]=[];else for(var d=0;d<this._userHandlers.system[i].length;d++)this._userHandlers.system[i][d]===a&&this._userHandlers.system[i].splice(d,1);else if(r.MIDI_CHANNEL_MESSAGES[i]!==void 0){if(-1<s.indexOf("all")){s=[];for(var p=1;p<=16;p++)s.push(p)}if(!this._userHandlers.channel[i])return this;s.forEach(function(m){var g=u._userHandlers.channel[i][m];if(g)if(a===void 0)u._userHandlers.channel[i][m]=[];else for(var y=0;y<g.length;y++)g[y]===a&&g.splice(y,1)})}else{if(i!==void 0)throw new TypeError("The specified event type is not supported.");this._initializeUserHandlers()}return this},o.prototype._initializeUserHandlers=function(){for(var i in r.MIDI_CHANNEL_MESSAGES)Object.prototype.hasOwnProperty.call(r.MIDI_CHANNEL_MESSAGES,i)&&(this._userHandlers.channel[i]={});for(var s in r.MIDI_SYSTEM_MESSAGES)Object.prototype.hasOwnProperty.call(r.MIDI_SYSTEM_MESSAGES,s)&&(this._userHandlers.system[s]=[])},o.prototype._onMidiMessage=function(i){if(0<this._userHandlers.system.midimessage.length){var s={target:this,data:i.data,timestamp:i.timeStamp,type:"midimessage"};this._userHandlers.system.midimessage.forEach(function(a){a(s)})}i.data[0]<240?(this._parseChannelEvent(i),this._parseNrpnEvent(i)):i.data[0]<=255&&this._parseSystemEvent(i)},o.prototype._parseNrpnEvent=function(i){var s,a,u=i.data[0]>>4,d=15&i.data[0],p=1+d;if(1<i.data.length&&(s=i.data[1],a=2<i.data.length?i.data[2]:void 0),r.nrpnEventsEnabled&&u===r.MIDI_CHANNEL_MESSAGES.controlchange&&(s>=r.MIDI_NRPN_MESSAGES.increment&&s<=r.MIDI_NRPN_MESSAGES.parammsb||s===r.MIDI_NRPN_MESSAGES.entrymsb||s===r.MIDI_NRPN_MESSAGES.entrylsb)){var m={target:this,type:"controlchange",data:i.data,timestamp:i.timeStamp,channel:p,controller:{number:s,name:this.getCcNameByNumber(s)},value:a};if(m.controller.number===r.MIDI_NRPN_MESSAGES.parammsb&&m.value!=r.MIDI_NRPN_MESSAGES.nullactiveparameter)r._nrpnBuffer[d]=[],r._nrpnBuffer[d][0]=m;else if(r._nrpnBuffer[d].length===1&&m.controller.number===r.MIDI_NRPN_MESSAGES.paramlsb)r._nrpnBuffer[d].push(m);else if(r._nrpnBuffer[d].length!==2||m.controller.number!==r.MIDI_NRPN_MESSAGES.increment&&m.controller.number!==r.MIDI_NRPN_MESSAGES.decrement&&m.controller.number!==r.MIDI_NRPN_MESSAGES.entrymsb)if(r._nrpnBuffer[d].length===3&&r._nrpnBuffer[d][2].number===r.MIDI_NRPN_MESSAGES.entrymsb&&m.controller.number===r.MIDI_NRPN_MESSAGES.entrylsb)r._nrpnBuffer[d].push(m);else if(3<=r._nrpnBuffer[d].length&&r._nrpnBuffer[d].length<=4&&m.controller.number===r.MIDI_NRPN_MESSAGES.parammsb&&m.value===r.MIDI_NRPN_MESSAGES.nullactiveparameter)r._nrpnBuffer[d].push(m);else if(4<=r._nrpnBuffer[d].length&&r._nrpnBuffer[d].length<=5&&m.controller.number===r.MIDI_NRPN_MESSAGES.paramlsb&&m.value===r.MIDI_NRPN_MESSAGES.nullactiveparameter){r._nrpnBuffer[d].push(m);var g=[];r._nrpnBuffer[d].forEach(function(c){g.push(c.data)});var y=r._nrpnBuffer[d][0].value<<7|r._nrpnBuffer[d][1].value,E=r._nrpnBuffer[d][2].value;r._nrpnBuffer[d].length===6&&(E=r._nrpnBuffer[d][2].value<<7|r._nrpnBuffer[d][3].value);var R="";switch(r._nrpnBuffer[d][2].controller.number){case r.MIDI_NRPN_MESSAGES.entrymsb:R=r._nrpnTypes[0];break;case r.MIDI_NRPN_MESSAGES.increment:R=r._nrpnTypes[1];break;case r.MIDI_NRPN_MESSAGES.decrement:R=r._nrpnTypes[2];break;default:throw new Error("The NPRN type was unidentifiable.")}var f={timestamp:m.timestamp,channel:m.channel,type:"nrpn",data:g,controller:{number:y,type:R,name:"Non-Registered Parameter "+y},value:E};r._nrpnBuffer[d]=[],this._userHandlers.channel[f.type]&&this._userHandlers.channel[f.type][f.channel]&&this._userHandlers.channel[f.type][f.channel].forEach(function(c){c(f)})}else r._nrpnBuffer[d]=[];else r._nrpnBuffer[d].push(m)}},o.prototype._parseChannelEvent=function(i){var s,a,u=i.data[0]>>4,d=1+(15&i.data[0]);1<i.data.length&&(s=i.data[1],a=2<i.data.length?i.data[2]:void 0);var p={target:this,data:i.data,timestamp:i.timeStamp,channel:d};u===r.MIDI_CHANNEL_MESSAGES.noteoff||u===r.MIDI_CHANNEL_MESSAGES.noteon&&a===0?(p.type="noteoff",p.note={number:s,name:r._notes[s%12],octave:r.getOctave(s)},p.velocity=a/127,p.rawVelocity=a):u===r.MIDI_CHANNEL_MESSAGES.noteon?(p.type="noteon",p.note={number:s,name:r._notes[s%12],octave:r.getOctave(s)},p.velocity=a/127,p.rawVelocity=a):u===r.MIDI_CHANNEL_MESSAGES.keyaftertouch?(p.type="keyaftertouch",p.note={number:s,name:r._notes[s%12],octave:r.getOctave(s)},p.value=a/127):u===r.MIDI_CHANNEL_MESSAGES.controlchange&&0<=s&&s<=119?(p.type="controlchange",p.controller={number:s,name:this.getCcNameByNumber(s)},p.value=a):u===r.MIDI_CHANNEL_MESSAGES.channelmode&&120<=s&&s<=127?(p.type="channelmode",p.controller={number:s,name:this.getChannelModeByNumber(s)},p.value=a):u===r.MIDI_CHANNEL_MESSAGES.programchange?(p.type="programchange",p.value=s):u===r.MIDI_CHANNEL_MESSAGES.channelaftertouch?(p.type="channelaftertouch",p.value=s/127):u===r.MIDI_CHANNEL_MESSAGES.pitchbend?(p.type="pitchbend",p.value=((a<<7)+s-8192)/8192):p.type="unknownchannelmessage",this._userHandlers.channel[p.type]&&this._userHandlers.channel[p.type][d]&&this._userHandlers.channel[p.type][d].forEach(function(m){m(p)})},o.prototype.getCcNameByNumber=function(i){if(!(0<=(i=Math.floor(i))&&i<=119))throw new RangeError("The control change number must be between 0 and 119.");for(var s in r.MIDI_CONTROL_CHANGE_MESSAGES)if(Object.prototype.hasOwnProperty.call(r.MIDI_CONTROL_CHANGE_MESSAGES,s)&&i===r.MIDI_CONTROL_CHANGE_MESSAGES[s])return s},o.prototype.getChannelModeByNumber=function(i){if(!(120<=(i=Math.floor(i))&&status<=127))throw new RangeError("The control change number must be between 120 and 127.");for(var s in r.MIDI_CHANNEL_MODE_MESSAGES)if(Object.prototype.hasOwnProperty.call(r.MIDI_CHANNEL_MODE_MESSAGES,s)&&i===r.MIDI_CHANNEL_MODE_MESSAGES[s])return s},o.prototype._parseSystemEvent=function(i){var s=i.data[0],a={target:this,data:i.data,timestamp:i.timeStamp};s===r.MIDI_SYSTEM_MESSAGES.sysex?a.type="sysex":s===r.MIDI_SYSTEM_MESSAGES.timecode?a.type="timecode":s===r.MIDI_SYSTEM_MESSAGES.songposition?a.type="songposition":s===r.MIDI_SYSTEM_MESSAGES.songselect?(a.type="songselect",a.song=i.data[1]):s===r.MIDI_SYSTEM_MESSAGES.tuningrequest?a.type="tuningrequest":s===r.MIDI_SYSTEM_MESSAGES.clock?a.type="clock":s===r.MIDI_SYSTEM_MESSAGES.start?a.type="start":s===r.MIDI_SYSTEM_MESSAGES.continue?a.type="continue":s===r.MIDI_SYSTEM_MESSAGES.stop?a.type="stop":s===r.MIDI_SYSTEM_MESSAGES.activesensing?a.type="activesensing":s===r.MIDI_SYSTEM_MESSAGES.reset?a.type="reset":a.type="unknownsystemmessage",this._userHandlers.system[a.type]&&this._userHandlers.system[a.type].forEach(function(u){u(a)})},l.prototype.send=function(i,s,a){if(!(128<=i&&i<=255))throw new RangeError("The status byte must be an integer between 128 (0x80) and 255 (0xFF).");s===void 0&&(s=[]),Array.isArray(s)||(s=[s]);var u=[];return s.forEach(function(d){var p=Math.floor(d);if(!(0<=p&&p<=255))throw new RangeError("Data bytes must be integers between 0 (0x00) and 255 (0xFF).");u.push(p)}),this._midiOutput.send([i].concat(u),parseFloat(a)||0),this},l.prototype.sendSysex=function(i,s,a){if(!r.sysexEnabled)throw new Error("Sysex message support must first be activated.");return a=a||{},i=[].concat(i),s.forEach(function(u){if(u<0||127<u)throw new RangeError("The data bytes of a sysex message must be integers between 0 (0x00) and 127 (0x7F).")}),s=i.concat(s,r.MIDI_SYSTEM_MESSAGES.sysexend),this.send(r.MIDI_SYSTEM_MESSAGES.sysex,s,this._parseTimeParameter(a.time)),this},l.prototype.sendTimecodeQuarterFrame=function(i,s){return s=s||{},this.send(r.MIDI_SYSTEM_MESSAGES.timecode,i,this._parseTimeParameter(s.time)),this},l.prototype.sendSongPosition=function(i,s){s=s||{};var a=(i=Math.floor(i)||0)>>7&127,u=127&i;return this.send(r.MIDI_SYSTEM_MESSAGES.songposition,[a,u],this._parseTimeParameter(s.time)),this},l.prototype.sendSongSelect=function(i,s){if(s=s||{},!(0<=(i=Math.floor(i))&&i<=127))throw new RangeError("The song number must be between 0 and 127.");return this.send(r.MIDI_SYSTEM_MESSAGES.songselect,[i],this._parseTimeParameter(s.time)),this},l.prototype.sendTuningRequest=function(i){return i=i||{},this.send(r.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,this._parseTimeParameter(i.time)),this},l.prototype.sendClock=function(i){return i=i||{},this.send(r.MIDI_SYSTEM_MESSAGES.clock,void 0,this._parseTimeParameter(i.time)),this},l.prototype.sendStart=function(i){return i=i||{},this.send(r.MIDI_SYSTEM_MESSAGES.start,void 0,this._parseTimeParameter(i.time)),this},l.prototype.sendContinue=function(i){return i=i||{},this.send(r.MIDI_SYSTEM_MESSAGES.continue,void 0,this._parseTimeParameter(i.time)),this},l.prototype.sendStop=function(i){return i=i||{},this.send(r.MIDI_SYSTEM_MESSAGES.stop,void 0,this._parseTimeParameter(i.time)),this},l.prototype.sendActiveSensing=function(i){return i=i||{},this.send(r.MIDI_SYSTEM_MESSAGES.activesensing,[],this._parseTimeParameter(i.time)),this},l.prototype.sendReset=function(i){return i=i||{},this.send(r.MIDI_SYSTEM_MESSAGES.reset,void 0,this._parseTimeParameter(i.time)),this},l.prototype.stopNote=function(i,s,a){if(i==="all")return this.sendChannelMode("allnotesoff",0,s,a);var u=64;return(a=a||{}).rawVelocity?!isNaN(a.velocity)&&0<=a.velocity&&a.velocity<=127&&(u=a.velocity):!isNaN(a.velocity)&&0<=a.velocity&&a.velocity<=1&&(u=127*a.velocity),this._convertNoteToArray(i).forEach((function(d){r.toMIDIChannels(s).forEach((function(p){this.send((r.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(p-1),[d,Math.round(u)],this._parseTimeParameter(a.time))}).bind(this))}).bind(this)),this},l.prototype.playNote=function(i,s,a){var u,d=64;if((a=a||{}).rawVelocity?!isNaN(a.velocity)&&0<=a.velocity&&a.velocity<=127&&(d=a.velocity):!isNaN(a.velocity)&&0<=a.velocity&&a.velocity<=1&&(d=127*a.velocity),u=this._parseTimeParameter(a.time),this._convertNoteToArray(i).forEach((function(m){r.toMIDIChannels(s).forEach((function(g){this.send((r.MIDI_CHANNEL_MESSAGES.noteon<<4)+(g-1),[m,Math.round(d)],u)}).bind(this))}).bind(this)),!isNaN(a.duration)){a.duration<=0&&(a.duration=0);var p=64;a.rawVelocity?!isNaN(a.release)&&0<=a.release&&a.release<=127&&(p=a.release):!isNaN(a.release)&&0<=a.release&&a.release<=1&&(p=127*a.release),this._convertNoteToArray(i).forEach((function(m){r.toMIDIChannels(s).forEach((function(g){this.send((r.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(g-1),[m,Math.round(p)],(u||r.time)+a.duration)}).bind(this))}).bind(this))}return this},l.prototype.sendKeyAftertouch=function(i,s,a,u){var d=this;if(u=u||{},s<1||16<s)throw new RangeError("The channel must be between 1 and 16.");(isNaN(a)||a<0||1<a)&&(a=.5);var p=Math.round(127*a);return this._convertNoteToArray(i).forEach(function(m){r.toMIDIChannels(s).forEach(function(g){d.send((r.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(g-1),[m,p],d._parseTimeParameter(u.time))})}),this},l.prototype.sendControlChange=function(i,s,a,u){if(u=u||{},typeof i=="string"){if((i=r.MIDI_CONTROL_CHANGE_MESSAGES[i])===void 0)throw new TypeError("Invalid controller name.")}else if(!(0<=(i=Math.floor(i))&&i<=119))throw new RangeError("Controller numbers must be between 0 and 119.");if(!(0<=(s=Math.floor(s)||0)&&s<=127))throw new RangeError("Controller value must be between 0 and 127.");return r.toMIDIChannels(a).forEach((function(d){this.send((r.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(d-1),[i,s],this._parseTimeParameter(u.time))}).bind(this)),this},l.prototype._selectRegisteredParameter=function(i,s,a){var u=this;if(i[0]=Math.floor(i[0]),!(0<=i[0]&&i[0]<=127))throw new RangeError("The control65 value must be between 0 and 127");if(i[1]=Math.floor(i[1]),!(0<=i[1]&&i[1]<=127))throw new RangeError("The control64 value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.sendControlChange(101,i[0],s,{time:a}),u.sendControlChange(100,i[1],s,{time:a})}),this},l.prototype._selectNonRegisteredParameter=function(i,s,a){var u=this;if(i[0]=Math.floor(i[0]),!(0<=i[0]&&i[0]<=127))throw new RangeError("The control63 value must be between 0 and 127");if(i[1]=Math.floor(i[1]),!(0<=i[1]&&i[1]<=127))throw new RangeError("The control62 value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.sendControlChange(99,i[0],s,{time:a}),u.sendControlChange(98,i[1],s,{time:a})}),this},l.prototype._setCurrentRegisteredParameter=function(i,s,a){var u=this;if((i=[].concat(i))[0]=Math.floor(i[0]),!(0<=i[0]&&i[0]<=127))throw new RangeError("The msb value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.sendControlChange(6,i[0],s,{time:a})}),i[1]=Math.floor(i[1]),0<=i[1]&&i[1]<=127&&r.toMIDIChannels(s).forEach(function(){u.sendControlChange(38,i[1],s,{time:a})}),this},l.prototype._deselectRegisteredParameter=function(i,s){var a=this;return r.toMIDIChannels(i).forEach(function(){a.sendControlChange(101,127,i,{time:s}),a.sendControlChange(100,127,i,{time:s})}),this},l.prototype.setRegisteredParameter=function(i,s,a,u){var d=this;if(u=u||{},!Array.isArray(i)){if(!r.MIDI_REGISTERED_PARAMETER[i])throw new Error("The specified parameter is not available.");i=r.MIDI_REGISTERED_PARAMETER[i]}return r.toMIDIChannels(a).forEach(function(){d._selectRegisteredParameter(i,a,u.time),d._setCurrentRegisteredParameter(s,a,u.time),d._deselectRegisteredParameter(a,u.time)}),this},l.prototype.setNonRegisteredParameter=function(i,s,a,u){var d=this;if(u=u||{},!(0<=i[0]&&i[0]<=127&&0<=i[1]&&i[1]<=127))throw new Error("Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.");return s=[].concat(s),r.toMIDIChannels(a).forEach(function(){d._selectNonRegisteredParameter(i,a,u.time),d._setCurrentRegisteredParameter(s,a,u.time),d._deselectRegisteredParameter(a,u.time)}),this},l.prototype.incrementRegisteredParameter=function(i,s,a){var u=this;if(a=a||{},!Array.isArray(i)){if(!r.MIDI_REGISTERED_PARAMETER[i])throw new Error("The specified parameter is not available.");i=r.MIDI_REGISTERED_PARAMETER[i]}return r.toMIDIChannels(s).forEach(function(){u._selectRegisteredParameter(i,s,a.time),u.sendControlChange(96,0,s,{time:a.time}),u._deselectRegisteredParameter(s,a.time)}),this},l.prototype.decrementRegisteredParameter=function(i,s,a){if(a=a||{},!Array.isArray(i)){if(!r.MIDI_REGISTERED_PARAMETER[i])throw new TypeError("The specified parameter is not available.");i=r.MIDI_REGISTERED_PARAMETER[i]}return r.toMIDIChannels(s).forEach((function(){this._selectRegisteredParameter(i,s,a.time),this.sendControlChange(97,0,s,{time:a.time}),this._deselectRegisteredParameter(s,a.time)}).bind(this)),this},l.prototype.setPitchBendRange=function(i,s,a,u){var d=this;if(u=u||{},!(0<=(i=Math.floor(i)||0)&&i<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(s=Math.floor(s)||0)&&s<=127))throw new RangeError("The cents value must be between 0 and 127");return r.toMIDIChannels(a).forEach(function(){d.setRegisteredParameter("pitchbendrange",[i,s],a,{time:u.time})}),this},l.prototype.setModulationRange=function(i,s,a,u){var d=this;if(u=u||{},!(0<=(i=Math.floor(i)||0)&&i<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(s=Math.floor(s)||0)&&s<=127))throw new RangeError("The cents value must be between 0 and 127");return r.toMIDIChannels(a).forEach(function(){d.setRegisteredParameter("modulationrange",[i,s],a,{time:u.time})}),this},l.prototype.setMasterTuning=function(i,s,a){var u=this;if(a=a||{},(i=parseFloat(i)||0)<=-65||64<=i)throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");var d=Math.floor(i)+64,p=i-Math.floor(i),m=(p=Math.round((p+1)/2*16383))>>7&127,g=127&p;return r.toMIDIChannels(s).forEach(function(){u.setRegisteredParameter("channelcoarsetuning",d,s,{time:a.time}),u.setRegisteredParameter("channelfinetuning",[m,g],s,{time:a.time})}),this},l.prototype.setTuningProgram=function(i,s,a){var u=this;if(a=a||{},!(0<=(i=Math.floor(i))&&i<=127))throw new RangeError("The program value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.setRegisteredParameter("tuningprogram",i,s,{time:a.time})}),this},l.prototype.setTuningBank=function(i,s,a){var u=this;if(a=a||{},!(0<=(i=Math.floor(i)||0)&&i<=127))throw new RangeError("The bank value must be between 0 and 127");return r.toMIDIChannels(s).forEach(function(){u.setRegisteredParameter("tuningbank",i,s,{time:a.time})}),this},l.prototype.sendChannelMode=function(i,s,a,u){if(u=u||{},typeof i=="string"){if(!(i=r.MIDI_CHANNEL_MODE_MESSAGES[i]))throw new TypeError("Invalid channel mode message name.")}else if(!(120<=(i=Math.floor(i))&&i<=127))throw new RangeError("Channel mode numerical identifiers must be between 120 and 127.");if((s=Math.floor(s)||0)<0||127<s)throw new RangeError("Value must be an integer between 0 and 127.");return r.toMIDIChannels(a).forEach((function(d){this.send((r.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(d-1),[i,s],this._parseTimeParameter(u.time))}).bind(this)),this},l.prototype.sendProgramChange=function(i,s,a){var u=this;if(a=a||{},i=Math.floor(i),isNaN(i)||i<0||127<i)throw new RangeError("Program numbers must be between 0 and 127.");return r.toMIDIChannels(s).forEach(function(d){u.send((r.MIDI_CHANNEL_MESSAGES.programchange<<4)+(d-1),[i],u._parseTimeParameter(a.time))}),this},l.prototype.sendChannelAftertouch=function(i,s,a){var u=this;a=a||{},i=parseFloat(i),(isNaN(i)||i<0||1<i)&&(i=.5);var d=Math.round(127*i);return r.toMIDIChannels(s).forEach(function(p){u.send((r.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(p-1),[d],u._parseTimeParameter(a.time))}),this},l.prototype.sendPitchBend=function(i,s,a){var u=this;if(a=a||{},isNaN(i)||i<-1||1<i)throw new RangeError("Pitch bend value must be between -1 and 1.");var d=Math.round((i+1)/2*16383),p=d>>7&127,m=127&d;return r.toMIDIChannels(s).forEach(function(g){u.send((r.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(g-1),[m,p],u._parseTimeParameter(a.time))}),this},l.prototype._parseTimeParameter=function(i){var s,a=parseFloat(i);return typeof i=="string"&&i.substring(0,1)==="+"?a&&0<a&&(s=r.time+a):a>r.time&&(s=a),s},l.prototype._convertNoteToArray=function(i){var s=[];return Array.isArray(i)||(i=[i]),i.forEach(function(a){s.push(r.guessNoteNumber(a))}),s},e.exports?e.exports=r:t.WebMidi||(t.WebMidi=r)})(Ym)})(xm);var Yv=xm.exports;const xe=Tc(Yv),Vl=new Em;function Xv({onNoteOn:e,onNoteOff:t}){const[n,r]=w.useState(!1),[o,l]=w.useState([]),[i,s]=w.useState([]),[a,u]=w.useState(null),[d,p]=w.useState(null),[m,g]=w.useState(["MIDI Hook Initialized..."]),[y,E]=w.useState(null),R=w.useRef(null),f=w.useCallback((M,P="INFO")=>{const D=new Date().toLocaleTimeString("en-US",{hour12:!1});let N="";P==="WARN"?N="[WARN] ":P==="ERROR"&&(N="[ERR] "),console.log(`${P}: ${M}`),g(H=>[...H.slice(-29),`${D}: ${N}${M}`])},[]),c=w.useCallback(()=>{if(f("Updating device lists..."),!xe.enabled){f("WebMidi not enabled, cannot update lists.","WARN"),l([]),s([]);return}const M=xe.inputs.map(D=>({id:D.id,name:D.name})),P=xe.outputs.map(D=>({id:D.id,name:D.name}));l(M),s(P),f(`Found ${M.length} inputs, ${P.length} outputs.`),a&&!M.find(D=>D.id===a)&&(f(`Selected input ${a} disconnected. Deselecting.`,"WARN"),S(null)),d&&!P.find(D=>D.id===d)&&(f(`Selected output ${d} disconnected. Deselecting.`,"WARN"),_(null))},[f]);w.useEffect(()=>{if(f(`Checking WebMidi.supported: ${xe.supported}`),!xe.supported){f("Web MIDI API is not supported in this browser.","ERROR"),alert("Web MIDI API is not supported in this browser environment."),r(!1);return}n||(f("Attempting to enable WebMidi (sysex: true)..."),xe.enable(M=>{M?(f(`WebMidi.enable() failed: ${M.message}`,"ERROR"),alert(`Failed to initialize MIDI: ${M.message}. Please ensure permissions are granted.`),r(!1)):(f("WebMidi enabled successfully."),r(!0),c())},{sysex:!0}))},[n,f,c]),w.useEffect(()=>()=>{xe.enabled&&(f("Disabling WebMidi on component unmount..."),xe.disable())},[]),w.useEffect(()=>{if(n&&xe.enabled){const M=P=>{var N,H;if(typeof P.port=="object"&&P.port!==null&&P.port.id!==void 0){try{f(`Device ${P.type}: Port Object: ${JSON.stringify(P.port)}`)}catch{f(`Device ${P.type}: Port Object could not be stringified.`,"WARN")}f(`Device ${P.type}: ${((N=P.port)==null?void 0:N.name)||"undefined"} (${((H=P.port)==null?void 0:H.type)||"undefined"})`)}else f(`Device ${P.type}: Received invalid Port data in event: ${JSON.stringify(P.port)}`,"WARN");P.type==="disconnected"?(f("Updating lists immediately for disconnect."),c()):P.type==="connected"?(f("Delaying list update slightly for connect (50ms)..."),setTimeout(c,50)):(f(`Updating lists for unknown event type: ${P.type}`),c())};return f("Adding WebMidi connected/disconnected listeners..."),xe.addListener("connected",M),xe.addListener("disconnected",M),()=>{f("Removing WebMidi connected/disconnected listeners..."),xe.enabled&&(xe.removeListener("connected",M),xe.removeListener("disconnected",M))}}else n&&!xe.enabled&&f("Skipping adding listeners because WebMidi is not enabled (isInitialized is true).","WARN")},[n,f,c]);const h=w.useCallback(M=>{const P=M.data;if(!P||P.length===0)return;const D=Array.from(P).map(z=>z.toString(16).padStart(2,"0").toUpperCase()).join(" "),N=P[0],H=N>>4,W=N&15,F=P.length>1?P[1]:null,Z=P.length>2?P[2]:0;let ee="";try{if(H===9&&Z>0){const z=Vl.midiToNoteName(F);ee=`Note On  (Ch ${W}): ${z} Vel: ${Z}`,typeof e=="function"&&e({note:F,velocity:Z,type:"noteon",timestamp:Date.now()})}else if(H===8||H===9&&Z===0){const z=Vl.midiToNoteName(F);ee=`Note Off (Ch ${W}): ${z} Vel: ${Z}`,typeof t=="function"&&t({note:F,velocity:Z,type:"noteoff",timestamp:Date.now()})}else if(H===11)ee=`CC       (Ch ${W}): Ctrl ${F} Val: ${Z}`;else if(H===14){const z=Z<<7|F;ee=`Pitch Bend (Ch ${W}): Val ${z}`}else if(H===10){const z=Vl.midiToNoteName(F);ee=`Poly AT  (Ch ${W}): ${z} Pressure: ${Z}`}else H===13?ee=`Channel AT (Ch ${W}): Pressure: ${F}`:N===248?ee="Timing Clock (0xF8)":N===250?ee="Start (0xFA)":N===252?ee="Stop (0xFC)":N===254?ee="Active Sensing (0xFE)":ee=`[RAW] ${D}`}catch(z){f(`Error parsing MIDI: ${z.message}`,"ERROR"),ee=`[PARSE ERROR] ${D}`}f(`MIDI In: ${ee}`),E(M)},[f,e,t]),S=w.useCallback(M=>{if(M!==a)if(R.current&&(f(`Removing listener from previous input: ${R.current.name}`),R.current.removeListener("midimessage","all",h),R.current=null),u(M),M){const P=xe.inputs?xe.inputs.map(N=>N.id):[];f(`Trying to find input ID: ${M}. Available input IDs: [${P.join(", ")}]`);let D=null;if(xe.inputs&&xe.inputs.length>0){f("Attempting to find input via WebMidi.inputs.find() comparing as strings...");const N=String(M);D=xe.inputs.find(H=>String(H.id)===N)}D?(f(`Found device immediately via .find(): ${D.name} (ID: ${D.id})`),f(`Adding listener to new input: ${D.name}`),D.addListener("midimessage","all",h),R.current=D):f(`Could not find input device with ID: ${M} using .find().`,"ERROR")}else f("Input deselected.")},[f,a]),_=w.useCallback(M=>{const P=M!==null?Number(M):null;P!==d&&(f(`Selecting output: ${P!==null?P:"None"}`),p(P))},[f,d]),T=w.useCallback((M,P=[])=>{if(d===null){f("Cannot send MIDI message: No output selected.","WARN");return}const D=xe.outputs.find(N=>Number(N.id)===Number(d));if(D)try{const N=Array.from(P).map(W=>W.toString(16).padStart(2,"0").toUpperCase()).join(" "),H=M.toString(16).toUpperCase();f(`MIDI Out: Status=0x${H}, Data=[${N}] to ${D.name}`),D.send(M,P)}catch(N){f(`Error sending MIDI message: ${N.message}`,"ERROR")}else f(`Cannot send MIDI message: Output device with ID ${d} not found.`,"WARN")},[f,d]);return{isInitialized:n,inputs:o,outputs:i,selectedInputId:a,selectedOutputId:d,logMessages:m,selectInput:S,selectOutput:_,sendMessage:T,lastMidiMessage:y,log:f}}const Us={SideStick:37,HighWoodBlock:76,LowWoodBlock:77,HighAgogo:67,Cowbell:56,Claves:75,HighTimbale:65,LowTimbale:66,Maracas:70,LowAgogo:68,MuteTriangle:80,OpenTriangle:81},Jv=120,qv=Us.HighWoodBlock,Zv="4/4",_m=9,ey=144|_m,xc=128|_m,ty=100,ny=127,ry=50;function oy(e){const[t,n]=w.useState(!1),[r,o]=w.useState(Jv),[l,i]=w.useState(qv),[s,a]=w.useState(Zv),[u,d]=w.useState(0),p=w.useRef(null),m=w.useRef(null),g=w.useCallback(()=>{if(p.current&&(clearInterval(p.current),p.current=null),m.current&&(clearTimeout(m.current),m.current=null),n(!1),d(0),e&&l)try{e([xc,l,0])}catch(h){console.error("Error sending final Note Off:",h)}console.log("Metronome stopped")},[e,l]),y=w.useCallback(()=>{if(t||typeof e!="function"){console.warn("Metronome cannot start: isPlaying or sendMessage invalid");return}console.log(`Starting metronome: BPM=${r}, Sound=${l}, TimeSig=${s}`),n(!0),d(0),g();const h=60/r*1e3;let S=1/0;s==="3/4"?S=3:s==="4/4"&&(S=4),p.current=setInterval(()=>{const _=u%S+1;d(_);let T=ty;_===1&&(s==="3/4"||s==="4/4")&&(T=ny);try{console.log(`Beat: ${_}/${S}, Vel: ${T}`),e(ey,[l,T]),m.current=setTimeout(()=>{console.log(`Sending Note Off: ${l} via raw`),e(xc,[l,0]),m.current=null},ry)}catch(M){console.error("Error sending metronome MIDI message:",M),g()}},h)},[t,r,l,e,g,s,u]);w.useEffect(()=>()=>{g()},[g]);const E=w.useCallback(()=>{t?g():y()},[t,y,g]),R=w.useCallback(h=>{const S=parseInt(h,10);!isNaN(S)&&S>0&&(console.log(`Setting BPM to ${S}`),o(S),t&&y())},[t,y]),f=w.useCallback(h=>{const S=parseInt(h,10);!isNaN(S)&&Object.values(Us).includes(S)?(console.log(`Setting Sound Note to ${S}`),i(S)):console.warn(`Invalid sound note selected: ${h}`)},[]),c=w.useCallback(h=>{["none","3/4","4/4"].includes(h)?(console.log(`Setting Time Signature to ${h}`),a(h),d(0),t&&y()):console.warn(`Invalid time signature selected: ${h}`)},[t,y]);return{isPlaying:t,bpm:r,selectedSoundNote:l,timeSignature:s,availableSounds:Us,togglePlay:E,changeTempo:R,changeSound:f,changeTimeSignature:c}}function Ko(e){let t=e.length,n;for(;t!==0;)n=Math.floor(Math.random()*t),t--,[e[t],e[n]]=[e[n],e[t]];return e}function iy({isDrillActive:e,currentMode:t,drillOptions:n,scaleName:r,selectedChordType:o,diatonicTriads:l,diatonicSevenths:i,selectedOctave:s,showSevenths:a,splitHandVoicing:u,splitHandInterval:d,rhInversion:p,playedNoteEvent:m,calculatedDiatonicChordNotes:g,selectedRootNote:y,ROOT_NOTES:E,transposedProgressionChords:R}){const[f,c]=w.useState([]),[h,S]=w.useState(0),[_,T]=w.useState({correct:[],incorrect:[]}),[M,P]=w.useState(new Set),[D,N]=w.useState({correctNotes:0,incorrectNotes:0}),H=w.useRef(null),W=w.useCallback(()=>{console.log("useDrill: Generating sequence for mode:",t,"with options:",n);let z=!1;if(t==="scale_display"){const x=Lt.get(r);z=!x.empty&&x.notes}else t==="chord_search"?z=E&&E.length>0&&o:t==="diatonic_chords"?z=g&&g.length===7&&g.some(x=>Array.isArray(x)&&x.length>0):t==="chord_progression"&&(z=Array.isArray(R)&&R.length>0&&R.every(x=>x&&Array.isArray(x.midiNotes)&&x.midiNotes.length>0));if(!z){console.log("generateDrillSequence: Dependencies not valid, setting empty sequence."),c([]),S(0);return}let Q=[];try{if(t==="scale_display"){const{octaves:x=1,repetitions:A=1,style:j="ascending"}=n,L=Lt.get(r);if(L.empty||!L.notes){console.warn(`useDrill: Could not get scale data for ${r}`),c([]);return}let O=[];for(let K=0;K<x;K++){const te=s+K,ie=L.notes.map(ne=>V.midi(`${ne}${te}`)).filter(ne=>ne!==null);O.push(...ie)}let B=[...O];if(j==="ascending")B.sort((K,te)=>K-te);else if(j==="descending")B.sort((K,te)=>te-K);else if(j==="random")B=Ko(B);else if(j==="thirds"){const K=L.notes,te=K.length,ie=[];if(te>0)for(let ne=0;ne<x;ne++){const Me=s+ne;for(let Qe=0;Qe<te;Qe++){const tt=K[Qe],Bn=(Qe+2)%te,xr=K[Bn],Pn=Bn<Qe?Me+1:Me,Hn=V.midi(`${tt}${Me}`),de=V.midi(`${xr}${Pn}`);Hn!==null&&ie.push(Hn),de!==null&&ie.push(de)}}B=ie}let ae=[];for(let K=0;K<A;K++)ae.push(...B);Q=ae.map(K=>({expectedMidiNotes:[K],type:"note"}))}else if(t==="chord_search"){console.log("useDrill: Generating sequence for Chord Search mode (all roots)...");const{octaves:x=1,repetitions:A=1}=n,j=[];if(!E||E.length===0){console.error("useDrill: ROOT_NOTES array is missing or empty."),c([]);return}if(!o){console.error("useDrill: selectedChordType is missing."),c([]);return}for(const B of E){const ae=`${B}${s}`;let K=[];try{const te=Ue.getChord(o,ae);if(te.empty||!Array.isArray(te.notes)||te.notes.length===0){console.warn(`useDrill: Could not get valid notes for chord ${o} at ${ae}`);continue}let ie=te.notes;if(p>0&&p<ie.length){const ne=ie.slice(0,p),Me=ie.slice(p),Qe=ne.map(tt=>V.transpose(tt,"8P"));ie=[...Me,...Qe]}if(K=ie.map(V.midi).filter(Boolean).sort((ne,Me)=>ne-Me),K.length===0){console.warn(`useDrill: No valid MIDI notes after inversion/conversion for ${o} at ${ae}`);continue}for(let ne=0;ne<x;ne++){const Me=12*ne,Qe=K.map(tt=>tt+Me);j.push({expectedMidiNotes:Qe,type:"chord_search_target",rootNote:B,octaveIndex:ne})}}catch(te){console.error(`useDrill: Error getting chord notes for ${o} at ${ae}:`,te);continue}}let L=[...j];const{style:O}=n;O==="descending"?L.reverse():O==="random"&&(L=Ko(L)),Q=[];for(let B=0;B<A;B++)Q.push(...L)}else if(t==="diatonic_chords"){const{octaves:x=1,repetitions:A=1,style:j="ascending"}=n,L=[];console.log("useDrill: Entered diatonic_chords generation block. About to loop. Notes used:",JSON.stringify(g));for(let B=0;B<x;B++){const ae=12*B;g.forEach((K,te)=>{if(!K||K.length===0){console.warn(`useDrill: Skipping degree ${te+1} in octave ${B+1} due to missing/empty base notes.`);return}const ie=K.map(ne=>ne+ae);L.push({expectedMidiNotes:ie,type:"diatonic_chord",degreeIndex:te,octaveIndex:B})})}let O=[...L];j==="descending"?O.reverse():j==="random"&&(O=Ko(O)),Q=[];for(let B=0;B<A;B++)Q.push(...O)}else if(t==="chord_progression"){const{repetitions:x=1,style:A="ascending"}=n,j=[];console.log("useDrill: Generating progression drill sequence..."),R.forEach((O,B)=>{O&&O.midiNotes&&O.midiNotes.length>0?j.push({expectedMidiNotes:O.midiNotes,type:"progression_chord",roman:O.roman,name:O.name,progressionIndex:B}):console.warn(`useDrill: Skipping invalid chord data at index ${B} in progression.`)});let L=[...j];A==="descending"?L.reverse():A==="random"&&(L=Ko(L)),Q=[];for(let O=0;O<x;O++)Q.push(...L)}else console.warn(`useDrill: Unknown drill mode: ${t}`),Q=[]}catch(x){console.error("useDrill: Error generating drill sequence:",x),Q=[]}console.log(`useDrill: Generated ${Q.length} steps.`),c(Q),S(0),T({correct:[],incorrect:[]}),P(new Set),N({correctNotes:0,incorrectNotes:0})},[t,n,r,s,o,l,i,a,u,d,p,g,y,E,R]);w.useEffect(()=>{if(!e||!m||h>=f.length||m.timestamp===H.current||m.type!=="noteon")return;console.log("useDrill: Processing noteon event:",m);const z=m.note;console.log(`useDrill useEffect[playedNoteEvent]: Processing note ON ${z}`);const Q=f[h];if(!Q||!Q.expectedMidiNotes||Q.expectedMidiNotes.length===0){console.warn("useDrill: Invalid current step data.");return}const x=Q.expectedMidiNotes,A=Q.type;if(console.log(`useDrill: Checking step type: ${A}`),A==="note"){const j=x[0];if(z===j){console.log(`useDrill: Correct note played! Expected: ${j}, Got: ${z}`),N(O=>({...O,correctNotes:O.correctNotes+1}));const L=h+1;L<f.length?(S(L),console.log(`useDrill: Advancing to step ${L}`)):(console.log("useDrill: Drill sequence completed!"),S(L))}else console.log(`useDrill: Incorrect note played. Expected: ${j}, Got: ${z}`),N(L=>({...L,incorrectNotes:L.incorrectNotes+1}))}else if(A==="diatonic_chord"||A==="chord_search_target"||A==="progression_chord"){const j=new Set(x);if(console.log(`useDrill ChordLogic: Checking note ${z} against expected set:`,j,"Current played set:",M),j.has(z)){const L=new Set(M).add(z);if(P(L),console.log(`useDrill: Correct note for chord played: ${z}. Need ${x.length}, have ${L.size}`),L.size===x.length){console.log(`useDrill: Chord complete! Expected: [${x.join(", ")}]`),console.log("useDrill: Incrementing CORRECT score."),N(B=>({...B,correctNotes:B.correctNotes+1}));const O=h+1;O<f.length?(S(O),P(new Set),console.log(`useDrill: Advancing to chord step ${O}`)):(console.log("useDrill: Drill sequence completed!"),S(O))}}else console.log(`useDrill ChordLogic: Incorrect note ${z}. Expected one of: [${x.join(", ")}]. Current played set:`,M),console.log("useDrill: Incrementing INCORRECT score."),N(L=>({...L,incorrectNotes:L.incorrectNotes+1}))}H.current=m.timestamp},[m,e,f,h,M]),w.useEffect(()=>{e?(console.log("useDrill Effect: Drill active, calling generateDrillSequence."),W()):f.length>0&&(console.log("useDrill Effect: Drill stopped or inactive, clearing sequence."),c([]),S(0),T({correct:[],incorrect:[]}),P(new Set),N({correctNotes:0,incorrectNotes:0}))},[e,W]);const F=f[h]||{expectedMidiNotes:[],type:null,stepIndex:0,totalSteps:0};let Z="";if(F&&F.type){const z=F.type,Q=F.octaveIndex||0,x=s+Q;if(z==="note")Z=V.fromMidi(F.expectedMidiNotes[0]);else if(z==="chord_search_target")Z=`${F.rootNote}${o||""} (Octave ${x})`;else if(z==="diatonic_chord"){const A=a?i:l,j=F.degreeIndex;Z=`${A&&A[j]?A[j]:"Unknown Chord"} (Octave ${x})`}else z==="progression_chord"&&(Z=F.name||"Prog Chord?")}return{currentDrillStep:{...F,stepLabel:Z,totalSteps:f.length},drillScore:D,notesPlayedThisStep:_}}function ai(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ai=function(t){return typeof t}:ai=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}function Qa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ya(e,t,n){return t&&_c(e.prototype,t),n&&_c(e,n),e}var Mt={NOTES:[],HEADER_CHUNK_LENGTH:14,CIRCLE_OF_FOURTHS:["C","F","Bb","Eb","Ab","Db","Gb","Cb","Fb","Bbb","Ebb","Abb"],CIRCLE_OF_FIFTHS:["C","G","D","A","E","B","F#","C#","G#","D#","A#","E#"]},ly=[["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]],wc=0,sy=function(t){ly.forEach(function(n){n.forEach(function(r){return Mt.NOTES[wc]=r+t}),wc++})};for(var Ul=-1;Ul<=9;Ul++)sy(Ul);var ke=function(){function e(){Qa(this,e)}return Ya(e,null,[{key:"byteToHex",value:function(n){return("0"+n.toString(16)).slice(-2)}},{key:"bytesToHex",value:function(n){var r=[];return n.forEach(function(o){return r.push(e.byteToHex(o))}),r.join("")}},{key:"hexToNumber",value:function(n){return parseInt(n,16)}},{key:"bytesToNumber",value:function(n){return e.hexToNumber(e.bytesToHex(n))}},{key:"bytesToLetters",value:function(n){var r=[];return n.forEach(function(o){return r.push(String.fromCharCode(o))}),r.join("")}},{key:"decToBinary",value:function(n){return(n>>>0).toString(2)}},{key:"getVarIntLength",value:function(n){for(var r=n[0],o=1;r>=128;)r=n[o],o++;return o}},{key:"readVarInt",value:function(n){var r=0;return n.forEach(function(o){var l=o;l&128?(r+=l&127,r<<=7):r+=l}),r}},{key:"atob",value:function(t){function n(r){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}(function(t){return typeof atob=="function"?atob(t):Buffer.from(t,"base64").toString("binary")})}]),e}(),ay=function(){function e(t,n){Qa(this,e),this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.index=t,this.data=n,this.delta=0,this.runningDelta=0,this.events=[];var r=this.data.subarray(this.data.length-3,this.data.length);if(!(r[0]===255&&r[1]===47&&r[2]===0))throw"Invalid MIDI file; Last three bytes of track "+this.index+"must be FF 2F 00 to mark end of track"}return Ya(e,[{key:"reset",value:function(){return this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.delta=0,this.runningDelta=0,this}},{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"setEventIndexByTick",value:function(n){n=n||0;for(var r in this.events)if(this.events[r].tick>=n)return this.eventIndex=r,this}},{key:"getCurrentByte",value:function(){return this.data[this.pointer]}},{key:"getDeltaByteCount",value:function(){return ke.getVarIntLength(this.data.subarray(this.pointer))}},{key:"getDelta",value:function(){return ke.readVarInt(this.data.subarray(this.pointer,this.pointer+this.getDeltaByteCount()))}},{key:"handleEvent",value:function(n,r){if(r=r||!1,r){var o=n-this.lastTick,l=this.getDelta(),i=o>=l;if(this.pointer<this.data.length&&(r||i)){var s=this.parseEvent();if(this.enabled)return s}}else if(this.events[this.eventIndex]&&this.events[this.eventIndex].tick<=n&&(this.eventIndex++,this.enabled))return this.events[this.eventIndex-1];return null}},{key:"getStringData",value:function(n){var r=ke.getVarIntLength(this.data.subarray(n+2)),o=ke.readVarInt(this.data.subarray(n+2,n+2+r)),l=ke.bytesToLetters(this.data.subarray(n+2+r,n+2+r+o));return l}},{key:"parseEvent",value:function(){var n=this.pointer+this.getDeltaByteCount(),r={},o=this.getDeltaByteCount();if(r.track=this.index+1,r.delta=this.getDelta(),this.lastTick=this.lastTick+r.delta,this.runningDelta+=r.delta,r.tick=this.runningDelta,r.byteIndex=this.pointer,this.data[n]==255){switch(this.data[n+1]){case 0:r.name="Sequence Number";break;case 1:r.name="Text Event",r.string=this.getStringData(n);break;case 2:r.name="Copyright Notice";break;case 3:r.name="Sequence/Track Name",r.string=this.getStringData(n);break;case 4:r.name="Instrument Name",r.string=this.getStringData(n);break;case 5:r.name="Lyric",r.string=this.getStringData(n);break;case 6:r.name="Marker";break;case 7:r.name="Cue Point",r.string=this.getStringData(n);break;case 9:r.name="Device Name",r.string=this.getStringData(n);break;case 32:r.name="MIDI Channel Prefix";break;case 33:r.name="MIDI Port",r.data=ke.bytesToNumber([this.data[n+3]]);break;case 47:r.name="End of Track";break;case 81:r.name="Set Tempo",r.data=Math.round(6e7/ke.bytesToNumber(this.data.subarray(n+3,n+6))),this.tempo=r.data;break;case 84:r.name="SMTPE Offset";break;case 88:r.name="Time Signature",r.data=this.data.subarray(n+3,n+7),r.timeSignature=""+r.data[0]+"/"+Math.pow(2,r.data[1]);break;case 89:r.name="Key Signature",r.data=this.data.subarray(n+3,n+5),r.data[0]>=0?r.keySignature=Mt.CIRCLE_OF_FIFTHS[r.data[0]]:r.data[0]<0&&(r.keySignature=Mt.CIRCLE_OF_FOURTHS[Math.abs(r.data[0])]),r.data[1]==0?r.keySignature+=" Major":r.data[1]==1&&(r.keySignature+=" Minor");break;case 127:r.name="Sequencer-Specific Meta-event";break;default:r.name="Unknown: "+this.data[n+1].toString(16);break}var l=ke.getVarIntLength(this.data.subarray(n+2)),i=ke.readVarInt(this.data.subarray(n+2,n+2+l));this.pointer+=o+3+i}else if(this.data[n]===240){r.name="Sysex";var s=ke.getVarIntLength(this.data.subarray(n+1)),a=ke.readVarInt(this.data.subarray(n+1,n+1+s));r.data=this.data.subarray(n+1+s,n+1+s+a),this.pointer+=o+1+s+a}else if(this.data[n]===247){r.name="Sysex (escape)";var u=ke.getVarIntLength(this.data.subarray(n+1)),d=ke.readVarInt(this.data.subarray(n+1,n+1+u));r.data=this.data.subarray(n+1+u,n+1+u+d),this.pointer+=o+1+u+d}else if(this.data[n]<128)if(r.running=!0,r.noteNumber=this.data[n],r.noteName=Mt.NOTES[this.data[n]],r.velocity=this.data[n+1],this.lastStatus<=143)r.name="Note off",r.channel=this.lastStatus-128+1,this.pointer+=o+2;else if(this.lastStatus<=159)r.name="Note on",r.channel=this.lastStatus-144+1,this.pointer+=o+2;else if(this.lastStatus<=175)r.name="Polyphonic Key Pressure",r.channel=this.lastStatus-160+1,r.note=Mt.NOTES[this.data[n+1]],r.pressure=event[1],this.pointer+=o+2;else if(this.lastStatus<=191)r.name="Controller Change",r.channel=this.lastStatus-176+1,r.number=this.data[n+1],r.value=this.data[n+2],this.pointer+=o+2;else if(this.lastStatus<=207)r.name="Program Change",r.channel=this.lastStatus-192+1,r.value=this.data[n+1],this.pointer+=o+1;else if(this.lastStatus<=223)r.name="Channel Key Pressure",r.channel=this.lastStatus-208+1,this.pointer+=o+1;else if(this.lastStatus<=239)r.name="Pitch Bend",r.channel=this.lastStatus-224+1,r.value=this.data[n+2],this.pointer+=o+2;else throw"Unknown event (running): ".concat(this.lastStatus);else if(this.lastStatus=this.data[n],this.data[n]<=143)r.name="Note off",r.channel=this.lastStatus-128+1,r.noteNumber=this.data[n+1],r.noteName=Mt.NOTES[this.data[n+1]],r.velocity=Math.round(this.data[n+2]/127*100),this.pointer+=o+3;else if(this.data[n]<=159)r.name="Note on",r.channel=this.lastStatus-144+1,r.noteNumber=this.data[n+1],r.noteName=Mt.NOTES[this.data[n+1]],r.velocity=Math.round(this.data[n+2]/127*100),this.pointer+=o+3;else if(this.data[n]<=175)r.name="Polyphonic Key Pressure",r.channel=this.lastStatus-160+1,r.note=Mt.NOTES[this.data[n+1]],r.pressure=event[2],this.pointer+=o+3;else if(this.data[n]<=191)r.name="Controller Change",r.channel=this.lastStatus-176+1,r.number=this.data[n+1],r.value=this.data[n+2],this.pointer+=o+3;else if(this.data[n]<=207)r.name="Program Change",r.channel=this.lastStatus-192+1,r.value=this.data[n+1],this.pointer+=o+2;else if(this.data[n]<=223)r.name="Channel Key Pressure",r.channel=this.lastStatus-208+1,this.pointer+=o+2;else if(this.data[n]<=239)r.name="Pitch Bend",r.channel=this.lastStatus-224+1,this.pointer+=o+3;else throw"Unknown event: ".concat(this.data[n]);return this.delta+=r.delta,this.events.push(r),r}},{key:"endOfTrack",value:function(){return this.data[this.pointer+1]==255&&this.data[this.pointer+2]==47&&this.data[this.pointer+3]==0}}]),e}();Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach});var uy=function(){function e(t,n){Qa(this,e),this.sampleRate=5,this.startTime=0,this.buffer=n||null,this.midiChunksByteLength=null,this.division,this.format,this.setIntervalId=!1,this.tracks=[],this.instruments=[],this.defaultTempo=120,this.tempo=null,this.startTick=0,this.tick=0,this.lastTick=null,this.inLoop=!1,this.totalTicks=0,this.events=[],this.totalEvents=0,this.eventListeners={},typeof t=="function"&&this.on("midiEvent",t)}return Ya(e,[{key:"loadFile",value:function(n){throw"loadFile is only supported on Node.js"}},{key:"loadArrayBuffer",value:function(n){return this.buffer=new Uint8Array(n),this.fileLoaded()}},{key:"loadDataUri",value:function(n){for(var r=ke.atob(n.split(",")[1]),o=new Uint8Array(r.length),l=0;l<r.length;l++)o[l]=r.charCodeAt(l);return this.buffer=o,this.fileLoaded()}},{key:"getFilesize",value:function(){return this.buffer?this.buffer.length:0}},{key:"fileLoaded",value:function(){if(!this.validate())throw"Invalid MIDI file; should start with MThd";return this.setTempo(this.defaultTempo).getDivision().getFormat().getTracks().dryRun()}},{key:"validate",value:function(){return ke.bytesToLetters(this.buffer.subarray(0,4))==="MThd"}},{key:"getFormat",value:function(){return this.format=ke.bytesToNumber(this.buffer.subarray(8,10)),this}},{key:"getTracks",value:function(){this.tracks=[];for(var n=0;n<this.buffer.length;){if(ke.bytesToLetters(this.buffer.subarray(n,n+4))=="MTrk"){var r=ke.bytesToNumber(this.buffer.subarray(n+4,n+8));this.tracks.push(new ay(this.tracks.length,this.buffer.subarray(n+8,n+8+r)))}n+=ke.bytesToNumber(this.buffer.subarray(n+4,n+8))+8}var o=0;return this.tracks.forEach(function(l){o+=8+l.data.length}),this.midiChunksByteLength=Mt.HEADER_CHUNK_LENGTH+o,this}},{key:"enableTrack",value:function(n){return this.tracks[n-1].enable(),this}},{key:"disableTrack",value:function(n){return this.tracks[n-1].disable(),this}},{key:"getDivision",value:function(){return this.division=ke.bytesToNumber(this.buffer.subarray(12,Mt.HEADER_CHUNK_LENGTH)),this}},{key:"playLoop",value:function(n){this.inLoop||(this.inLoop=!0,this.tick=this.getCurrentTick(),this.tracks.forEach(function(r,o){if(!n&&this.endOfFile())this.triggerPlayerEvent("endOfFile"),this.stop();else{var l=r.handleEvent(this.tick,n);n&&l?(l.hasOwnProperty("name")&&l.name==="Set Tempo"&&(this.defaultTempo=l.data,this.setTempo(l.data)),l.hasOwnProperty("name")&&l.name==="Program Change"&&(this.instruments.includes(l.value)||this.instruments.push(l.value))):l&&(l.hasOwnProperty("name")&&l.name==="Set Tempo"&&(this.setTempo(l.data),this.isPlaying()&&this.pause().play()),this.emitEvent(l))}},this),n||this.triggerPlayerEvent("playing",{tick:this.tick}),this.inLoop=!1)}},{key:"setTempo",value:function(n){return this.tempo=n,this}},{key:"setStartTime",value:function(n){return this.startTime=n,this}},{key:"play",value:function(){if(this.isPlaying())throw"Already playing...";return this.startTime||(this.startTime=new Date().getTime()),this.setIntervalId=setInterval(this.playLoop.bind(this),this.sampleRate),this}},{key:"loop",value:function(){setTimeout((function(){this.playLoop(),this.loop()}).bind(this),this.sampleRate)}},{key:"pause",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=this.tick,this.startTime=0,this}},{key:"stop",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=0,this.startTime=0,this.resetTracks(),this}},{key:"skipToTick",value:function(n){return this.stop(),this.startTick=n,this.tracks.forEach(function(r){r.setEventIndexByTick(n)}),this}},{key:"skipToPercent",value:function(n){if(n<0||n>100)throw"Percent must be number between 1 and 100.";return this.skipToTick(Math.round(n/100*this.totalTicks)),this}},{key:"skipToSeconds",value:function(n){var r=this.getSongTime();if(n<0||n>r)throw n+" seconds not within song time of "+r;return this.skipToPercent(n/r*100),this}},{key:"isPlaying",value:function(){return this.setIntervalId>0||ai(this.setIntervalId)==="object"}},{key:"dryRun",value:function(){for(this.resetTracks();!this.endOfFile();)this.playLoop(!0);return this.events=this.getEvents(),this.totalEvents=this.getTotalEvents(),this.totalTicks=this.getTotalTicks(),this.startTick=0,this.startTime=0,this.resetTracks(),this.triggerPlayerEvent("fileLoaded",this),this}},{key:"resetTracks",value:function(){return this.tracks.forEach(function(n){return n.reset()}),this}},{key:"getEvents",value:function(){return this.tracks.map(function(n){return n.events})}},{key:"getTotalTicks",value:function(){return Math.max.apply(null,this.tracks.map(function(n){return n.delta}))}},{key:"getTotalEvents",value:function(){return this.tracks.reduce(function(n,r){return{events:{length:n.events.length+r.events.length}}},{events:{length:0}}).events.length}},{key:"getSongTime",value:function(){return this.totalTicks/this.division/this.tempo*60}},{key:"getSongTimeRemaining",value:function(){return Math.round((this.totalTicks-this.getCurrentTick())/this.division/this.tempo*60)}},{key:"getSongPercentRemaining",value:function(){return Math.round(this.getSongTimeRemaining()/this.getSongTime()*100)}},{key:"bytesProcessed",value:function(){return Mt.HEADER_CHUNK_LENGTH+this.tracks.length*8+this.tracks.reduce(function(n,r){return{pointer:n.pointer+r.pointer}},{pointer:0}).pointer}},{key:"eventsPlayed",value:function(){return this.tracks.reduce(function(n,r){return{eventIndex:n.eventIndex+r.eventIndex}},{eventIndex:0}).eventIndex}},{key:"endOfFile",value:function(){return this.isPlaying()?this.totalTicks-this.tick<=0:this.bytesProcessed()>=this.midiChunksByteLength}},{key:"getCurrentTick",value:function(){return this.startTime?Math.round((new Date().getTime()-this.startTime)/1e3*(this.division*(this.tempo/60)))+this.startTick:this.startTick}},{key:"emitEvent",value:function(n){return this.triggerPlayerEvent("midiEvent",n),this}},{key:"on",value:function(n,r){return this.eventListeners.hasOwnProperty(n)||(this.eventListeners[n]=[]),this.eventListeners[n].push(r),this}},{key:"triggerPlayerEvent",value:function(n,r){return this.eventListeners.hasOwnProperty(n)&&this.eventListeners[n].forEach(function(o){return o(r||{})}),this}}]),e}(),cy={Player:uy};function dy(e){const[t,n]=w.useState(null),[r,o]=w.useState("stopped"),[l,i]=w.useState(null),s=w.useRef(e);w.useEffect(()=>{s.current=e},[e]),w.useEffect(()=>{const m=y=>{const E=s.current;if(!E)return;let R,f=[];const c=y.channel?y.channel-1:0;switch(y.name){case"Note on":R=144|c,f=[y.noteNumber,y.velocity],y.velocity===0&&(R=128|c,f=[y.noteNumber,0]);break;case"Note off":R=128|c,f=[y.noteNumber,y.velocity!==void 0?y.velocity:0];break;case"Controller Change":case"Control Change":R=176|c,f=[y.number,y.value];break;case"Program Change":R=192|c,f=[y.value];break;case"Pitch Bend":case"Pitch Wheel":R=224|c;const h=y.value&127,S=y.value>>7&127;f=[h,S];break;case"Set Tempo":return;default:return}R!==void 0&&E(R,f)},g=new cy.Player(m);return g.on("fileLoaded",()=>{console.log("MIDI Player: File loaded.")}),g.on("playing",y=>{}),g.on("paused",()=>{}),g.on("stopped",()=>{}),g.on("endOfFile",()=>{console.log(`[useMidiPlayer] 'endOfFile' event fired. Current state: ${r}`),console.log("MIDI Player: End of file reached, looping...");try{g&&typeof g.skipToTick=="function"&&typeof g.play=="function"?(console.log("[useMidiPlayer] Scheduling loop restart..."),setTimeout(()=>{try{if(g.isPlaying()){console.warn("[useMidiPlayer] Inside setTimeout: Player already playing? Aborting loop start.");return}console.log("[useMidiPlayer] Inside setTimeout: Calling skipToTick(0) and play()..."),g.skipToTick(0),g.play(),console.log(`[useMidiPlayer] Inside setTimeout: After play() call, player.isPlaying(): ${g.isPlaying()}`),console.log("[useMidiPlayer] Inside setTimeout: Explicitly setting state back to playing for loop."),o("playing")}catch(y){console.error("[useMidiPlayer] Error inside loop setTimeout:",y),o("stopped")}},10)):(console.error("MIDI Player: Cannot loop, player instance or methods invalid."),console.log("[useMidiPlayer] Setting playbackState -> 'stopped' (loop error)"),o("stopped"))}catch(y){console.error("MIDI Player: Error during top-level loop attempt:",y),console.log("[useMidiPlayer] Setting playbackState -> 'stopped' (loop exception)"),o("stopped")}}),n(g),()=>{g&&g.stop()}},[]);const a=w.useCallback(async m=>{if(t){console.log(`Attempting to load MIDI file from URL: ${m}`);try{const g=await fetch(m);if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);const y=await g.arrayBuffer();t.loadArrayBuffer(y);const E=m.substring(m.lastIndexOf("/")+1);i(E),o("stopped"),console.log(`Successfully loaded ${E} into player.`)}catch(g){console.error("Error loading MIDI file:",g),i(null),o("stopped")}}},[t]),u=w.useCallback(()=>{if(!t||!l){console.warn("Cannot play: No player or file loaded.");return}if(t.isPlaying()){console.warn("Player already playing.");return}console.log("Calling player.play()..."),t.play(),console.log("[useMidiPlayer] Setting playbackState -> 'playing' (after play call)"),o("playing")},[t,l]),d=w.useCallback(()=>{t&&t.isPlaying()&&(console.log("Calling player.pause()..."),t.pause(),console.log("[useMidiPlayer] Setting playbackState -> 'paused' (after pause call)"),o("paused"))},[t]),p=w.useCallback(()=>{t&&(console.log("Calling player.stop()..."),t.stop(),console.log("[useMidiPlayer] Setting playbackState -> 'stopped' (after stop call)"),o("stopped"))},[t]);return{playbackState:r,loadedFileName:l,loadMidiFile:a,play:u,pause:d,stop:p}}const fy=[{value:"ascending",label:"Ascending"},{value:"descending",label:"Descending"},{value:"random",label:"Random"},{value:"thirds",label:"Thirds (Scales Only)"}];function my({currentMode:e,isDrillActive:t,setIsDrillActive:n,drillNumOctaves:r,drillRepetitions:o,drillStyle:l,onDrillOctavesChange:i,onDrillRepetitionsChange:s,onDrillStyleChange:a,currentDrillStep:u,drillScore:d,style:p}){return v.jsxs("div",{style:{border:"1px solid purple",padding:"10px",...p},children:[" ",v.jsx("h4",{children:"Drill Controls"}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"drill-octaves",style:{marginRight:"10px"},children:"Octaves (Range):"}),v.jsx("input",{type:"number",id:"drill-octaves",value:r,onChange:i,min:"1",max:"4",disabled:t,style:{width:"50px",marginRight:"20px"}}),v.jsx("label",{htmlFor:"drill-style",style:{marginRight:"10px"},children:"Style:"}),v.jsx("select",{id:"drill-style",value:l,onChange:a,disabled:t,style:{marginRight:"20px"},children:fy.map(m=>v.jsx("option",{value:m.value,disabled:m.value==="thirds"&&e!=="scale_display",children:m.label},m.value))}),v.jsx("label",{htmlFor:"drill-repetitions",style:{marginRight:"10px"},children:"Repetitions:"}),v.jsx("input",{type:"number",id:"drill-repetitions",value:o,onChange:s,min:"1",max:"10",disabled:t,style:{width:"50px",marginRight:"20px"}}),v.jsx("button",{onClick:n,style:{marginLeft:"20px"},children:t?"Stop Drill":"Start Drill"})]}),t&&v.jsxs("div",{style:{marginTop:"10px"},children:[v.jsxs("span",{children:["Step: ",(u==null?void 0:u.stepIndex)!==void 0?u.stepIndex+1:"-"," / ",(u==null?void 0:u.totalSteps)||"-"," | "]}),v.jsxs("span",{children:["Score: Correct: ",(d==null?void 0:d.correctNotes)||0,", Incorrect: ",(d==null?void 0:d.incorrectNotes)||0]}),v.jsxs("p",{style:{fontWeight:"bold",marginTop:"5px"},children:["Current: ",(u==null?void 0:u.stepLabel)||"Loading..."]})]})]})}const kc=[{id:"popular",name:"The Most Popular (I-V-vi-IV)",progression:["I","V","vi","IV"]},{id:"pachelbel",name:"Pachelbel's Canon (I-V-vi-iii-IV-I-IV-V)",progression:["I","V","vi","iii","IV","I","IV","V"]},{id:"effective",name:"Effective (vi-IV-I-V)",progression:["vi","IV","I","V"]},{id:"magic",name:"Magic Changes (I-vi-IV-V)",progression:["I","vi","IV","V"]},{id:"gaining",name:"Gaining Popularity (IV-I-V-vi)",progression:["IV","I","V","vi"]},{id:"mixolydian",name:"Mixolydian Cadence (I-bVII-IV-I)",progression:["I","bVII","IV","I"]},{id:"flatVI",name:"VI setup (I-VI-V-I)",progression:["I","bVI","V","I"]},{id:"flatVII",name:"VII Cadence (e.g., I-VII-I)",progression:["I","bVII","I"]},{id:"ii-V-I",name:"Jazz Cadence (ii-V-I)",progression:["ii","V","I"]},{id:"iv-V-I",name:"Plagal Cadence style (I-IV-V-I)",progression:["I","IV","V","I"]}],Gl=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Wl=[2,3,4,5],Ic=V1.names(),Cc=R1.names(),Kl=[{value:"scale_display",label:"Scale Display"},{value:"chord_search",label:"Chord Search"},{value:"diatonic_chords",label:"Diatonic Chords"},{value:"chord_progression",label:"Chord Progression"}],Nc=[{value:0,label:"Root Pos"},{value:1,label:"1st Inv"},{value:2,label:"2nd Inv"},{value:3,label:"3rd Inv"}];function py(){var eu;const e=w.useRef(0),[t,n]=w.useState(Kl[0].value),[r,o]=w.useState("C"),[l,i]=w.useState(4),[s,a]=w.useState("major"),[u,d]=w.useState("maj7"),[p,m]=w.useState(0),[g,y]=w.useState(!1),[E,R]=w.useState(!1),[f,c]=w.useState(0),[h,S]=w.useState(24),[_,T]=w.useState(kc),[M,P]=w.useState(((eu=kc[0])==null?void 0:eu.id)||null),[D,N]=w.useState(null),[H,W]=w.useState(new Set),[F,Z]=w.useState(!1),[ee,z]=w.useState(1),[Q,x]=w.useState(1),[A,j]=w.useState("ascending"),[L,O]=w.useState({}),[B,ae]=w.useState(!1),[K,te]=w.useState(-12),[ie,ne]=w.useState(!1),[Me,Qe]=w.useState(!1),[tt,Bn]=w.useState(!1),xr=w.useMemo(()=>Array.from(H),[H]);w.useEffect(()=>{e.current++,console.log(`App.jsx Render Count: ${e.current}`)});const Pn=w.useMemo(()=>`${r}${l}`,[r,l]),Hn=w.useMemo(()=>V.midi(Pn),[Pn]),de=w.useMemo(()=>`${r} ${s}`,[r,s]),_r=w.useMemo(()=>Lt.get(de),[de]),ut=w.useMemo(()=>{try{const C=Lt.degrees(de);if(typeof C!="function")return[];const b=[];for(let le=1;le<=7;le++){const re=C(le),U=C(le+2),ue=C(le+4);if(!re||!U||!ue)continue;const ge=Ue.detect([re,U,ue]),we=ge.length>0?ge[0]:`${re}?`;b.push(we)}return b.length===7?b:[]}catch(C){return console.error(`Error building triads for ${de}:`,C),[]}},[de]),He=w.useMemo(()=>{try{const C=Lt.degrees(de);if(typeof C!="function")return[];const b=[];for(let le=1;le<=7;le++){const re=C(le),U=C(le+2),ue=C(le+4),ge=C(le+6);if(!re||!U||!ue||!ge)continue;const we=Ue.detect([re,U,ue,ge]),ze=we.length>0?we[0]:`${re}?7`;b.push(ze)}return b.length===7?b:[]}catch(C){return console.error(`Error building 7th chords for ${de}:`,C),[]}},[de]),Wt=w.useMemo(()=>{var ue;console.log("App.jsx: Recalculating calculatedDiatonicChordNotes...");const C=`${r}${l}`,b=Lt.get(de),le=g?He:ut,re=[];if(b.empty||!Array.isArray(b.intervals)||b.intervals.length<7)return console.warn("App.jsx - Diatonic Drill Calc - Returning [] due to invalid scale intervals.",{scaleName:de,scaleInfoEmpty:b.empty,scaleIntervals:b.intervals}),[];if(!Array.isArray(le)||le.length<7)return console.warn("App.jsx - Diatonic Drill Calc - Returning [] due to invalid base chord names.",{showSevenths:g,diatonicTriadsLength:ut==null?void 0:ut.length,diatonicSeventhsLength:He==null?void 0:He.length,targetChordsLength:le==null?void 0:le.length}),[];const U=b.intervals;for(let ge=0;ge<7;ge++){let we=[];const ze=le[ge],nt=U[ge];if(!(!ze||!nt)){try{const X=V.transpose(C,nt);if(!X||V.midi(X)===null){console.warn(`App.jsx - Diatonic Drill Calc - Invalid root ${X} for degree ${ge+1}`);continue}const kt=V.midi(X),Qt=Ue.get(ze);if(Qt.empty){console.warn(`App.jsx - Diatonic Drill Calc - Could not parse chord ${ze} to get type.`);continue}const Ye=(ue=Qt.aliases)==null?void 0:ue[0];if(!Ye){console.warn(`App.jsx - Diatonic Drill Calc - Could not get type alias for ${ze}.`);continue}const Te=Ue.getChord(Ye,X);if(Te.empty||!Array.isArray(Te.notes)||Te.notes.length===0){console.warn(`App.jsx - Diatonic Drill Calc - Failed to get notes for ${Ye} at ${X}.`);continue}let Yt=Te.notes;if(f>0&&f<Yt.length){const Y=Yt.slice(0,f),J=Yt.slice(f),je=Y.map(zn=>V.transpose(zn,"8P"));Yt=[...J,...je]}let se=Yt;if(Me){const Y=Ue.get(ze);if(!Y.empty&&Y.intervals){const J=new Set(["1P"]),je=Y.intervals.find(Ir=>Ir.startsWith("3"));je&&J.add(je);const zn=Y.intervals.find(Ir=>Ir.startsWith("7"));zn&&J.add(zn);const Xt=[],pl=V.get(X);for(const Ir of J){const Qm=V.transpose(pl,Ir);Xt.push(Qm)}se=Xt,console.log(`App.jsx (Diatonic/Shell): Applied shell voicing to ${ze}. Notes:`,se)}else console.warn(`App.jsx (Diatonic/Shell): Could not get chord info for ${ze} to apply shell voicing. Skipping.`)}let pe=se.map(V.midi).filter(Boolean);if(pe.length===0)continue;if(E){let Y=pe;if(ie){const J=V.midi(X);J!==null?(Y=pe.filter(je=>je!==J),console.log(`App.jsx (Diatonic/Split/Rootless): RH notes for ${ze} after root ${J} removal:`,Y)):console.warn(`App.jsx (Diatonic/Split/Rootless): Could not get MIDI for root ${X} to apply rootless voicing.`)}if(kt!==null&&kt>=h){const J=kt-h;J>=0&&J<=127?we=[J,...Y]:(console.warn(`App.jsx (Diatonic/Split): Calculated LH note ${J} is out of MIDI range. Using RH notes only.`),we=Y)}else we=Y}else we=pe;we=we.filter(Y=>Y!==null&&Y>=0&&Y<=127).sort((Y,J)=>Y-J)}catch(X){console.error(`Error calculating notes for degree ${ge} (${ze}):`,X),we=[]}re.push(we)}}return console.log("App.jsx: Finished calculating MIDI notes for diatonic chords. Returning valid array."),re},[de,l,r,g,ut,He,f,E,h,ie,Me,tt]),jt=w.useMemo(()=>{var re;if(console.log("App.jsx: Recalculating calculatedProgressionChords START",{voicingSplitHand:B,voicingLhOctaveOffset:K,voicingRhRootless:ie,voicingUseShell:Me,voicingAddOctaveRoot:tt}),console.log(`App.jsx: Recalculating progression chords for ID: ${M} in key: ${de} octave: ${l}`),!M||!_.find(U=>U.id===M)||!de||_r.empty)return console.log("App.jsx: Progression calc returning early: Invalid ID, scale name, scale info, or progression object not found."),[];const C=_.find(U=>U.id===M);if(!C.progression||C.progression.length===0)return console.log(`App.jsx: Progression calc returning early: Progression array for ID ${M} is missing or empty.`),[];const b=[];_r.notes;const le=Lt.degrees(de);console.log(`App.jsx: Processing progression: [${C.progression.join(", ")}] in key ${de}`);for(const U of C.progression)try{const ue=Nv.get(U);if(console.log(`App.jsx: RomanNumeral analysis for "${U}":`,ue),ue.empty){console.warn(`App.jsx: Could not analyze Roman numeral: ${U}`),b.push({roman:U,name:`? (${U})`,notes:[],midiNotes:[],error:"Analysis failed"});continue}if(typeof ue.step!="number"||ue.step<0||ue.step>6){console.warn(`App.jsx: Roman numeral analysis for "${U}" returned an invalid step: ${ue.step}. Skipping chord generation for this step.`),b.push({roman:U,name:`? (${U})`,notes:[],midiNotes:[],error:"Invalid step from analysis"});continue}const ge=le(ue.step+1);if(!ge){console.warn(`App.jsx: Could not find scale degree ${ue.step+1} for ${de}`),b.push({roman:U,name:`?${ue.chordType||""}`,notes:[],midiNotes:[],error:"Degree note not found"});continue}const we=ue.step,ze=g?He:ut;let nt="",X=`? (${U})`;if(we>=0&&we<ze.length&&ze[we]){const se=ze[we];if(se.startsWith(ge)){X=se;const pe=Ue.get(X);!pe.empty&&((re=pe.aliases)!=null&&re[0])?(nt=pe.aliases[0],console.log(`App.jsx: Using diatonic chord ${X} for ${U}. Alias: ${nt}`)):console.warn(`App.jsx: Could not get valid alias from diatonic chord name: ${X}`)}else console.warn(`App.jsx: Mismatch between expected root ${ge} (from step ${ue.step+1}) and diatonic chord root ${se} at index ${we}. This might happen with altered chords (bVII etc) or errors.`),nt=ue.chordType||(g?"7":"M"),X=`${ge}${nt}`,console.log(`App.jsx: Using fallback alias ${nt} for ${U}. Built name: ${X}`)}else console.warn(`App.jsx: Could not find valid diatonic chord for degree index ${we} (from Roman ${U}).`),nt=ue.chordType||(g?"7":"M"),X=`${ge}${nt}`;if(!nt){console.warn(`App.jsx: Still couldn't determine valid chord type alias for ${U} -> ${X}`),b.push({roman:U,name:X,notes:[],midiNotes:[],error:"Failed to determine chord type"});continue}const kt=`${ge}${l}`,Qt=Ue.getChord(nt,kt);if(Qt.empty||!Qt.notes||Qt.notes.length===0){console.warn(`App.jsx: Failed to get notes for type "${nt}" at root "${kt}" (derived from ${U})`),b.push({roman:U,name:X,notes:[],midiNotes:[],error:"Note generation failed"});continue}let Ye=Qt.notes;if(f>0&&f<Ye.length){const se=Ye.slice(0,f),pe=Ye.slice(f),Y=se.map(J=>V.transpose(J,"8P"));Ye=[...pe,...Y],console.log(`App.jsx (Inversion): Applied RH inversion ${f} to ${X}. Notes:`,Ye)}if(Me){const se=Ue.get(X);if(!se.empty&&se.intervals){const pe=new Set(["1P"]),Y=se.intervals.find(Xt=>Xt.startsWith("3"));Y&&pe.add(Y);const J=se.intervals.find(Xt=>Xt.startsWith("7"));J&&pe.add(J);const je=[],zn=V.get(kt);for(const Xt of pe){const pl=V.transpose(zn,Xt);je.push(pl)}Ye=je,console.log(`App.jsx (Shell): Applied shell voicing to ${X}. Kept intervals: [${Array.from(pe).join(", ")}]. Notes:`,Ye)}else console.warn(`App.jsx (Shell): Could not get chord info for ${X} to apply shell voicing. Skipping.`)}let Te=[];const Yt=V.midi(kt);if(B&&Yt!==null){const se=Yt+K;let pe=Ye;if(ie){const J=V.pitchClass(kt);pe=Ye.filter(je=>V.pitchClass(je)!==J),console.log(`App.jsx (Split/Rootless): RH notes for ${X} after root removal:`,pe)}const Y=pe.map(V.midi).filter(J=>J!==null&&J>=0&&J<=127);se>=0&&se<=127?Te=[se,...Y].sort((J,je)=>J-je):(console.warn(`App.jsx (Split Hand): Calculated LH note ${se} is out of MIDI range. Using RH notes only.`),Te=Y.sort((J,je)=>J-je)),console.log(`App.jsx (Split Hand): Final MIDI for ${X}: LH ${se}, RH [${Y.join(", ")}] -> [${Te.join(", ")}]`)}else Te=Ye.map(V.midi).filter(se=>se!==null&&se>=0&&se<=127).sort((se,pe)=>se-pe),console.log(`App.jsx (Standard): Final MIDI for ${X}: [${Te.join(", ")}]`);if(tt&&Te.length>0){const se=V.pitchClass(kt),pe=Te.find(Y=>V.pitchClass(V.fromMidi(Y))===se);if(pe!==void 0){const Y=pe+12;Y<=127&&!Te.includes(Y)&&(Te.push(Y),Te.sort((J,je)=>J-je),console.log(`App.jsx (Diatonic/Add Oct Root): Added upper octave root (${Y}) to ${X}. Notes before sort: [${Te.join(", ")}]`))}else console.warn(`App.jsx (Diatonic/Add Oct Root): Could not find root note MIDI value in final notes for ${X} to add octave.`)}console.log(`App.jsx: Successfully processed ${U} -> ${X}. FINAL MIDI: [${Te.join(", ")}]`),b.push({roman:U,name:X,notes:Qt.notes,midiNotes:Te})}catch(ue){console.error(`App.jsx: Error processing Roman numeral "${U}" in progression "${C.name}":`,ue),b.push({roman:U,name:`? (${U})`,notes:[],midiNotes:[],error:ue.message})}return console.log("App.jsx: Finished calculating progression chords:",b),b},[M,_,de,_r,l,g,ut,He,B,K,ie,Me,tt]),ll=w.useCallback(C=>{N(C),W(b=>new Set(b).add(C.note))},[]),Po=w.useCallback(C=>{N(C),W(b=>{const le=new Set(b);return le.delete(C.note),le})},[]),{isInitialized:Eo,inputs:xo,outputs:_o,selectedInputId:wo,selectedOutputId:ko,logMessages:sl,selectInput:al,selectOutput:Kt,sendMessage:wr}=Xv({onNoteOn:ll,onNoteOff:Po}),{playbackState:ul,loadedFileName:cl,loadMidiFile:dl,play:Io,pause:k,stop:gt}=dy(wr),{currentDrillStep:Co,drillScore:En}=iy({isDrillActive:F,currentMode:t,drillOptions:L,scaleName:de,selectedChordType:u,diatonicTriads:ut,diatonicSevenths:He,selectedOctave:l,showSevenths:g,splitHandVoicing:E,splitHandInterval:h,rhInversion:f,playedNoteEvent:D,calculatedDiatonicChordNotes:Wt,selectedRootNote:r,ROOT_NOTES:Gl,transposedProgressionChords:jt}),{isPlaying:No,bpm:kr,selectedSoundNote:fl,availableSounds:ml,timeSignature:wm,togglePlay:km,changeTempo:Im,changeSound:Cm,changeTimeSignature:Nm}=oy(wr),Tm=w.useMemo(()=>{console.log("App.jsx: Recalculating notesToHighlight START"),console.log("App.jsx: Recalculating notesToHighlight...");let C=[];const b=l,le=r;try{if(t==="scale_display"&&s){const re=Lt.get(de);if(re&&Array.isArray(re.notes)){const U=re.notes.map(ge=>V.midi(`${ge}${b}`)).filter(Boolean),ue=re.notes.map(ge=>V.midi(`${ge}${b+1}`)).filter(Boolean);C=[...U,...ue]}}else if(t==="chord_search"&&u){if(!Hn)return[];const re=Ue.getChord(u,`${le}${b}`);re&&Array.isArray(re.notes)&&(C=re.notes.map(V.midi).filter(Boolean))}else if(t==="diatonic_chords")Array.isArray(Wt)&&p>=0&&p<Wt.length?C=Wt[p]||[]:(console.warn("App.jsx - Diatonic Highlight - Pre-calculated notes not available or degree invalid."),C=[]);else if(t==="chord_progression")if(jt&&jt.length>0){const re=jt.flatMap(U=>U.midiNotes||[]);C=[...new Set(re)],console.log("App.jsx - Progression Highlight - Highlighting notes:",C)}else console.log("App.jsx - Progression Highlight - No transposed chords available."),C=[]}catch(re){console.error("Error calculating notes:",re),C=[]}return C.filter(re=>re!==null&&re>=0&&re<=127)},[t,de,l,u,r,p,Wt,jt,B,K,ie,Me,tt]),Am=w.useMemo(()=>_.find(C=>C.id===M),[M,_]),Dm=C=>{Kl.find(b=>b.value===C)&&n(C)},jm=C=>{Gl.includes(C)&&o(C)},Rm=C=>{const b=parseInt(C,10);Wl.includes(b)&&i(b)},$m=C=>{Ic.includes(C)&&(a(C),n("scale_display"),m(0))},Lm=C=>{Cc.includes(C)&&(d(C),n("chord_search"))},bm=C=>{m(C),t!=="diatonic_chords"&&n("diatonic_chords")},Om=C=>{y(C.target.checked),!C.target.checked&&f===3&&c(0)},Fm=C=>{console.log("App.jsx: handleSplitHandVoicingChange - Setting splitHandVoicing to:",C.target.checked),R(C.target.checked)},Bm=C=>{const b=parseInt(C,10);!g&&b===3||Nc.find(le=>le.value===b)&&c(b)},Hm=C=>{const b=parseInt(C.target.value,10);(b===12||b===24)&&S(b)},Xa=C=>{const b=parseInt(C.target.value,10);b>=1&&b<=4&&z(b)},Ja=C=>{const b=parseInt(C.target.value,10);b>=1&&b<=10&&x(b)},qa=C=>{const b=C.target.value;j(b)},Za=()=>{const C=!F;O(C?{octaves:ee,repetitions:Q,style:A}:{}),Z(C)},zm=C=>{_.find(b=>b.id===C)&&P(C)},Vm=C=>{console.log("App.jsx: handleVoicingSplitHandChange - Setting voicingSplitHand to:",C.target.checked),ae(C.target.checked),C.target.checked||ne(!1)},Um=C=>{const b=parseInt(C,10);(b===-12||b===-24)&&te(b)},Gm=C=>{ne(C.target.checked)},Wm=C=>{Qe(C.target.checked)},Km=C=>{Bn(C.target.checked)};return v.jsxs("div",{className:"App",children:[v.jsx("h1",{children:"Piano Helper (React Version)"}),v.jsx(Qv,{rootNote:Hn,notesToHighlight:Tm,octaveRange:Wl,playedNotes:xr,expectedNotes:F?Co.expectedMidiNotes:[],lowestNote:48}),v.jsxs("div",{style:{display:"flex",gap:"20px",marginTop:"10px",alignItems:"flex-start"},children:[v.jsx(Wv,{style:{flex:1},selectedRoot:Pn,selectedScaleType:s,selectedChordType:u,currentMode:t,diatonicTriads:ut,diatonicSevenths:He,selectedDiatonicDegree:p,showSevenths:g,selectedProgression:Am,transposedProgressionChords:jt}),v.jsx(Gv,{style:{flex:2},modes:Kl,currentMode:t,onModeChange:Dm,rootNotes:Gl,octaves:Wl,scaleTypes:Ic,chordTypes:Cc,selectedRootNote:r,selectedOctave:l,selectedScaleType:s,selectedChordType:u,onRootChange:jm,onOctaveChange:Rm,onScaleChange:$m,onChordChange:Lm,diatonicTriads:ut,diatonicSevenths:He,selectedDiatonicDegree:p,showSevenths:g,splitHandVoicing:E,rhInversion:f,inversions:Nc,onDiatonicDegreeChange:bm,onShowSeventhsChange:Om,onSplitHandVoicingChange:Fm,onRhInversionChange:Bm,splitHandInterval:h,onSplitHandIntervalChange:Hm,midiInputs:xo,midiOutputs:_o,selectedInputId:wo,selectedOutputId:ko,onSelectInput:al,onSelectOutput:Kt,isMidiInitialized:Eo,sendMessage:wr,availableProgressions:_,selectedProgressionId:M,onProgressionChange:zm,voicingSplitHand:B,voicingLhOctaveOffset:K,voicingRhRootless:ie,onVoicingSplitHandChange:Vm,onVoicingLhOffsetChange:Um,onVoicingRhRootlessChange:Gm,onVoicingUseShellChange:Wm,onVoicingAddOctaveRootChange:Km,isMetronomePlaying:No,metronomeBpm:kr,metronomeSoundNote:fl,metronomeSounds:ml,metronomeTimeSignature:wm,onToggleMetronome:km,onChangeMetronomeTempo:Im,onChangeMetronomeSound:Cm,onChangeMetronomeTimeSignature:Nm,isDrillActive:F,setIsDrillActive:Za,drillOptions:L,setDrillOptions:O,currentDrillStep:Co,drillScore:En,drillNumOctaves:ee,drillRepetitions:Q,onDrillOctavesChange:Xa,onDrillRepetitionsChange:Ja,drillStyle:A,onDrillStyleChange:qa,playbackState:ul,loadedMidiFileName:cl,availableMidiFiles:[{name:"9-8 NmlStr Tambourine 141",url:"/Piano_Helper/midi-files/JBB_9-8_NmlStr_Tambourine_141.mid"},{name:"4-4 NmlStr Triangles 130",url:"/Piano_Helper/midi-files/JBB_4-4_NmlStr_Triangles_130.mid"},{name:"4-4 NmlStr Toms 129",url:"/Piano_Helper/midi-files/JBB_4-4_NmlStr_Toms_129.mid"},{name:"3-4 NmlStr Shaker 128",url:"/Piano_Helper/midi-files/JBB_3-4_NmlStr_Shaker_128.mid"},{name:"3-4 NmlStr Kicks 127",url:"/Piano_Helper/midi-files/JBB_3-4_NmlStr_Kicks_127.mid"},{name:"3-4 NmlStr HiHats 126",url:"/Piano_Helper/midi-files/JBB_3-4_NmlStr_HiHats_126.mid"},{name:"3-4 NmlStr Cowbell 125",url:"/Piano_Helper/midi-files/JBB_3-4_NmlStr_Cowbell_125.mid"},{name:"3-4 NmlMedSwg Snares 124",url:"/Piano_Helper/midi-files/JBB_3-4_NmlMedSwg_Snares_124.mid"},{name:"3-4 NmlMedSwg Rides 123",url:"/Piano_Helper/midi-files/JBB_3-4_NmlMedSwg_Rides_123.mid"},{name:"2-4 NmlStr Cabasa 122",url:"/Piano_Helper/midi-files/JBB_2-4_NmlStr_Cabasa_122.mid"},{name:"12-8 NmlStr Congas 145",url:"/Piano_Helper/midi-files/JBB_12-8_NmlStr_Congas_145.mid"},{name:"12-8 NmlStr Bongos 144",url:"/Piano_Helper/midi-files/JBB_12-8_NmlStr_Bongos_144.mid"},{name:"9-8 NmlStr T024 FullKit 117",url:"/Piano_Helper/midi-files/JBB_9-8_NmlStr_T024_FullKit_117.mid"},{name:"12-8 NmlStr T096 FullKit 120",url:"/Piano_Helper/midi-files/JBB_12-8_NmlStr_T096_FullKit_120.mid"},{name:"6-8 NmlStr T057 FullKit 115",url:"/Piano_Helper/midi-files/JBB_6-8_NmlStr_T057_FullKit_115.mid"},{name:"4-4 NmlStr T088 FullKit 109",url:"/Piano_Helper/midi-files/JBB_4-4_NmlStr_T088_FullKit_109.mid"},{name:"4-4 NmlStr T009 FullKit 110",url:"/Piano_Helper/midi-files/JBB_4-4_NmlStr_T009_FullKit_110.mid"},{name:"4-4 NmlMedSwg T076 FullKit 108",url:"/Piano_Helper/midi-files/JBB_4-4_NmlMedSwg_T076_FullKit_108.mid"},{name:"4-4 NmlMedSwg T069 FullKit 106",url:"/Piano_Helper/midi-files/JBB_4-4_NmlMedSwg_T069_FullKit_106.mid"},{name:"4-4 NmlMedSwg T008 FullKit 107",url:"/Piano_Helper/midi-files/JBB_4-4_NmlMedSwg_T008_FullKit_107.mid"},{name:"4-4 DblTmMedSwg T017 FullKit 103",url:"/Piano_Helper/midi-files/JBB_4-4_DblTmMedSwg_T017_FullKit_103.mid"},{name:"4-4 DblTmMedSwg T014 FullKit 104",url:"/Piano_Helper/midi-files/JBB_4-4_DblTmMedSwg_T014_FullKit_104.mid"},{name:"4-4 DblTmMedSwg T007 FullKit 102",url:"/Piano_Helper/midi-files/JBB_4-4_DblTmMedSwg_T007_FullKit_102.mid"}],onLoadMidiFile:dl,onPlayMidiFile:Io,onPauseMidiFile:k,onStopMidiFile:gt}),v.jsx(my,{style:{flex:1},currentMode:t,isDrillActive:F,setIsDrillActive:Za,drillNumOctaves:ee,drillRepetitions:Q,drillStyle:A,onDrillOctavesChange:Xa,onDrillRepetitionsChange:Ja,onDrillStyleChange:qa,currentDrillStep:Co,drillScore:En})]}),v.jsx(Kv,{logMessages:sl})]})}Ql.createRoot(document.getElementById("root")).render(v.jsx(dp.StrictMode,{children:v.jsx(py,{})}));
